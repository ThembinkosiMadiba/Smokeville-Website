function yR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function WN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ry={exports:{}},Nu={},sy={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb;function xR(){if(Vb)return Xe;Vb=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v($){return $===null||typeof $!="object"?null:($=y&&$[y]||$["@@iterator"],typeof $=="function"?$:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,E={};function N($,ee,ue){this.props=$,this.context=ee,this.refs=E,this.updater=ue||_}N.prototype.isReactComponent={},N.prototype.setState=function($,ee){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ee,"setState")},N.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function j(){}j.prototype=N.prototype;function O($,ee,ue){this.props=$,this.context=ee,this.refs=E,this.updater=ue||_}var R=O.prototype=new j;R.constructor=O,C(R,N.prototype),R.isPureReactComponent=!0;var z=Array.isArray,V=Object.prototype.hasOwnProperty,q={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S($,ee,ue){var me,ve={},Ie=null,ie=null;if(ee!=null)for(me in ee.ref!==void 0&&(ie=ee.ref),ee.key!==void 0&&(Ie=""+ee.key),ee)V.call(ee,me)&&!k.hasOwnProperty(me)&&(ve[me]=ee[me]);var pe=arguments.length-2;if(pe===1)ve.children=ue;else if(1<pe){for(var ke=Array(pe),De=0;De<pe;De++)ke[De]=arguments[De+2];ve.children=ke}if($&&$.defaultProps)for(me in pe=$.defaultProps,pe)ve[me]===void 0&&(ve[me]=pe[me]);return{$$typeof:t,type:$,key:Ie,ref:ie,props:ve,_owner:q.current}}function M($,ee){return{$$typeof:t,type:$.type,key:ee,ref:$.ref,props:$.props,_owner:$._owner}}function B($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function D($){var ee={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ue){return ee[ue]})}var U=/\/+/g;function F($,ee){return typeof $=="object"&&$!==null&&$.key!=null?D(""+$.key):ee.toString(36)}function ye($,ee,ue,me,ve){var Ie=typeof $;(Ie==="undefined"||Ie==="boolean")&&($=null);var ie=!1;if($===null)ie=!0;else switch(Ie){case"string":case"number":ie=!0;break;case"object":switch($.$$typeof){case t:case e:ie=!0}}if(ie)return ie=$,ve=ve(ie),$=me===""?"."+F(ie,0):me,z(ve)?(ue="",$!=null&&(ue=$.replace(U,"$&/")+"/"),ye(ve,ee,ue,"",function(De){return De})):ve!=null&&(B(ve)&&(ve=M(ve,ue+(!ve.key||ie&&ie.key===ve.key?"":(""+ve.key).replace(U,"$&/")+"/")+$)),ee.push(ve)),1;if(ie=0,me=me===""?".":me+":",z($))for(var pe=0;pe<$.length;pe++){Ie=$[pe];var ke=me+F(Ie,pe);ie+=ye(Ie,ee,ue,ke,ve)}else if(ke=v($),typeof ke=="function")for($=ke.call($),pe=0;!(Ie=$.next()).done;)Ie=Ie.value,ke=me+F(Ie,pe++),ie+=ye(Ie,ee,ue,ke,ve);else if(Ie==="object")throw ee=String($),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return ie}function Ce($,ee,ue){if($==null)return $;var me=[],ve=0;return ye($,me,"","",function(Ie){return ee.call(ue,Ie,ve++)}),me}function re($){if($._status===-1){var ee=$._result;ee=ee(),ee.then(function(ue){($._status===0||$._status===-1)&&($._status=1,$._result=ue)},function(ue){($._status===0||$._status===-1)&&($._status=2,$._result=ue)}),$._status===-1&&($._status=0,$._result=ee)}if($._status===1)return $._result.default;throw $._result}var le={current:null},G={transition:null},ce={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:G,ReactCurrentOwner:q};function se(){throw Error("act(...) is not supported in production builds of React.")}return Xe.Children={map:Ce,forEach:function($,ee,ue){Ce($,function(){ee.apply(this,arguments)},ue)},count:function($){var ee=0;return Ce($,function(){ee++}),ee},toArray:function($){return Ce($,function(ee){return ee})||[]},only:function($){if(!B($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Xe.Component=N,Xe.Fragment=n,Xe.Profiler=s,Xe.PureComponent=O,Xe.StrictMode=r,Xe.Suspense=h,Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Xe.act=se,Xe.cloneElement=function($,ee,ue){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var me=C({},$.props),ve=$.key,Ie=$.ref,ie=$._owner;if(ee!=null){if(ee.ref!==void 0&&(Ie=ee.ref,ie=q.current),ee.key!==void 0&&(ve=""+ee.key),$.type&&$.type.defaultProps)var pe=$.type.defaultProps;for(ke in ee)V.call(ee,ke)&&!k.hasOwnProperty(ke)&&(me[ke]=ee[ke]===void 0&&pe!==void 0?pe[ke]:ee[ke])}var ke=arguments.length-2;if(ke===1)me.children=ue;else if(1<ke){pe=Array(ke);for(var De=0;De<ke;De++)pe[De]=arguments[De+2];me.children=pe}return{$$typeof:t,type:$.type,key:ve,ref:Ie,props:me,_owner:ie}},Xe.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:o,_context:$},$.Consumer=$},Xe.createElement=S,Xe.createFactory=function($){var ee=S.bind(null,$);return ee.type=$,ee},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function($){return{$$typeof:u,render:$}},Xe.isValidElement=B,Xe.lazy=function($){return{$$typeof:g,_payload:{_status:-1,_result:$},_init:re}},Xe.memo=function($,ee){return{$$typeof:m,type:$,compare:ee===void 0?null:ee}},Xe.startTransition=function($){var ee=G.transition;G.transition={};try{$()}finally{G.transition=ee}},Xe.unstable_act=se,Xe.useCallback=function($,ee){return le.current.useCallback($,ee)},Xe.useContext=function($){return le.current.useContext($)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function($){return le.current.useDeferredValue($)},Xe.useEffect=function($,ee){return le.current.useEffect($,ee)},Xe.useId=function(){return le.current.useId()},Xe.useImperativeHandle=function($,ee,ue){return le.current.useImperativeHandle($,ee,ue)},Xe.useInsertionEffect=function($,ee){return le.current.useInsertionEffect($,ee)},Xe.useLayoutEffect=function($,ee){return le.current.useLayoutEffect($,ee)},Xe.useMemo=function($,ee){return le.current.useMemo($,ee)},Xe.useReducer=function($,ee,ue){return le.current.useReducer($,ee,ue)},Xe.useRef=function($){return le.current.useRef($)},Xe.useState=function($){return le.current.useState($)},Xe.useSyncExternalStore=function($,ee,ue){return le.current.useSyncExternalStore($,ee,ue)},Xe.useTransition=function(){return le.current.useTransition()},Xe.version="18.3.1",Xe}var Lb;function x0(){return Lb||(Lb=1,sy.exports=xR()),sy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb;function vR(){if(Bb)return Nu;Bb=1;var t=x0(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(u,h,m){var g,y={},v=null,_=null;m!==void 0&&(v=""+m),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(_=h.ref);for(g in h)r.call(h,g)&&!o.hasOwnProperty(g)&&(y[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:u,key:v,ref:_,props:y,_owner:s.current}}return Nu.Fragment=n,Nu.jsx=c,Nu.jsxs=c,Nu}var zb;function wR(){return zb||(zb=1,ry.exports=vR()),ry.exports}var l=wR(),tf={},iy={exports:{}},er={},oy={exports:{}},ay={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ub;function bR(){return Ub||(Ub=1,(function(t){function e(G,ce){var se=G.length;G.push(ce);e:for(;0<se;){var $=se-1>>>1,ee=G[$];if(0<s(ee,ce))G[$]=ce,G[se]=ee,se=$;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ce=G[0],se=G.pop();if(se!==ce){G[0]=se;e:for(var $=0,ee=G.length,ue=ee>>>1;$<ue;){var me=2*($+1)-1,ve=G[me],Ie=me+1,ie=G[Ie];if(0>s(ve,se))Ie<ee&&0>s(ie,ve)?(G[$]=ie,G[Ie]=se,$=Ie):(G[$]=ve,G[me]=se,$=me);else if(Ie<ee&&0>s(ie,se))G[$]=ie,G[Ie]=se,$=Ie;else break e}}return ce}function s(G,ce){var se=G.sortIndex-ce.sortIndex;return se!==0?se:G.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var h=[],m=[],g=1,y=null,v=3,_=!1,C=!1,E=!1,N=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(G){for(var ce=n(m);ce!==null;){if(ce.callback===null)r(m);else if(ce.startTime<=G)r(m),ce.sortIndex=ce.expirationTime,e(h,ce);else break;ce=n(m)}}function z(G){if(E=!1,R(G),!C)if(n(h)!==null)C=!0,re(V);else{var ce=n(m);ce!==null&&le(z,ce.startTime-G)}}function V(G,ce){C=!1,E&&(E=!1,j(S),S=-1),_=!0;var se=v;try{for(R(ce),y=n(h);y!==null&&(!(y.expirationTime>ce)||G&&!D());){var $=y.callback;if(typeof $=="function"){y.callback=null,v=y.priorityLevel;var ee=$(y.expirationTime<=ce);ce=t.unstable_now(),typeof ee=="function"?y.callback=ee:y===n(h)&&r(h),R(ce)}else r(h);y=n(h)}if(y!==null)var ue=!0;else{var me=n(m);me!==null&&le(z,me.startTime-ce),ue=!1}return ue}finally{y=null,v=se,_=!1}}var q=!1,k=null,S=-1,M=5,B=-1;function D(){return!(t.unstable_now()-B<M)}function U(){if(k!==null){var G=t.unstable_now();B=G;var ce=!0;try{ce=k(!0,G)}finally{ce?F():(q=!1,k=null)}}else q=!1}var F;if(typeof O=="function")F=function(){O(U)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Ce=ye.port2;ye.port1.onmessage=U,F=function(){Ce.postMessage(null)}}else F=function(){N(U,0)};function re(G){k=G,q||(q=!0,F())}function le(G,ce){S=N(function(){G(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){C||_||(C=!0,re(V))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(G){switch(v){case 1:case 2:case 3:var ce=3;break;default:ce=v}var se=v;v=ce;try{return G()}finally{v=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,ce){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var se=v;v=G;try{return ce()}finally{v=se}},t.unstable_scheduleCallback=function(G,ce,se){var $=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?$+se:$):se=$,G){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=se+ee,G={id:g++,callback:ce,priorityLevel:G,startTime:se,expirationTime:ee,sortIndex:-1},se>$?(G.sortIndex=se,e(m,G),n(h)===null&&G===n(m)&&(E?(j(S),S=-1):E=!0,le(z,se-$))):(G.sortIndex=ee,e(h,G),C||_||(C=!0,re(V))),G},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(G){var ce=v;return function(){var se=v;v=ce;try{return G.apply(this,arguments)}finally{v=se}}}})(ay)),ay}var Hb;function _R(){return Hb||(Hb=1,oy.exports=bR()),oy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b;function ER(){if($b)return er;$b=1;var t=x0(),e=_R();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){c(i,a),c(i+"Capture",a)}function c(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(i){return h.call(y,i)?!0:h.call(g,i)?!1:m.test(i)?y[i]=!0:(g[i]=!0,!1)}function _(i,a,d,p){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:d!==null?!d.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,a,d,p){if(a===null||typeof a>"u"||_(i,a,d,p))return!0;if(p)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function E(i,a,d,p,x,w,I){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=i,this.type=a,this.sanitizeURL=w,this.removeEmptyString=I}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){N[i]=new E(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];N[a]=new E(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){N[i]=new E(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){N[i]=new E(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){N[i]=new E(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){N[i]=new E(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){N[i]=new E(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){N[i]=new E(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){N[i]=new E(i,5,!1,i.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function O(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(j,O);N[a]=new E(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(j,O);N[a]=new E(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(j,O);N[a]=new E(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){N[i]=new E(i,1,!1,i.toLowerCase(),null,!1,!1)}),N.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){N[i]=new E(i,1,!1,i.toLowerCase(),null,!0,!0)});function R(i,a,d,p){var x=N.hasOwnProperty(a)?N[a]:null;(x!==null?x.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(C(a,d,x,p)&&(d=null),p||x===null?v(a)&&(d===null?i.removeAttribute(a):i.setAttribute(a,""+d)):x.mustUseProperty?i[x.propertyName]=d===null?x.type===3?!1:"":d:(a=x.attributeName,p=x.attributeNamespace,d===null?i.removeAttribute(a):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,p?i.setAttributeNS(p,a,d):i.setAttribute(a,d))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),q=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),D=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),Ce=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),G=Symbol.iterator;function ce(i){return i===null||typeof i!="object"?null:(i=G&&i[G]||i["@@iterator"],typeof i=="function"?i:null)}var se=Object.assign,$;function ee(i){if($===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);$=a&&a[1]||""}return`
`+$+i}var ue=!1;function me(i,a){if(!i||ue)return"";ue=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Q){var p=Q}Reflect.construct(i,[],a)}else{try{a.call()}catch(Q){p=Q}i.call(a.prototype)}else{try{throw Error()}catch(Q){p=Q}i()}}catch(Q){if(Q&&p&&typeof Q.stack=="string"){for(var x=Q.stack.split(`
`),w=p.stack.split(`
`),I=x.length-1,L=w.length-1;1<=I&&0<=L&&x[I]!==w[L];)L--;for(;1<=I&&0<=L;I--,L--)if(x[I]!==w[L]){if(I!==1||L!==1)do if(I--,L--,0>L||x[I]!==w[L]){var H=`
`+x[I].replace(" at new "," at ");return i.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",i.displayName)),H}while(1<=I&&0<=L);break}}}finally{ue=!1,Error.prepareStackTrace=d}return(i=i?i.displayName||i.name:"")?ee(i):""}function ve(i){switch(i.tag){case 5:return ee(i.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return i=me(i.type,!1),i;case 11:return i=me(i.type.render,!1),i;case 1:return i=me(i.type,!0),i;default:return""}}function Ie(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case q:return"Portal";case M:return"Profiler";case S:return"StrictMode";case F:return"Suspense";case ye:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case D:return(i.displayName||"Context")+".Consumer";case B:return(i._context.displayName||"Context")+".Provider";case U:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ce:return a=i.displayName||null,a!==null?a:Ie(i.type)||"Memo";case re:a=i._payload,i=i._init;try{return Ie(i(a))}catch{}}return null}function ie(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(a);case 8:return a===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function pe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ke(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function De(i){var a=ke(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),p=""+i[a];if(!i.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,w=d.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return x.call(this)},set:function(I){p=""+I,w.call(this,I)}}),Object.defineProperty(i,a,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(I){p=""+I},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Ge(i){i._valueTracker||(i._valueTracker=De(i))}function Ye(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var d=a.getValue(),p="";return i&&(p=ke(i)?i.checked?"true":"false":i.value),i=p,i!==d?(a.setValue(i),!0):!1}function jt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ln(i,a){var d=a.checked;return se({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??i._wrapperState.initialChecked})}function xs(i,a){var d=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;d=pe(a.value!=null?a.value:d),i._wrapperState={initialChecked:p,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ur(i,a){a=a.checked,a!=null&&R(i,"checked",a,!1)}function yn(i,a){ur(i,a);var d=pe(a.value),p=a.type;if(d!=null)p==="number"?(d===0&&i.value===""||i.value!=d)&&(i.value=""+d):i.value!==""+d&&(i.value=""+d);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?ct(i,a.type,d):a.hasOwnProperty("defaultValue")&&ct(i,a.type,pe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function Vi(i,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,d||a===i.value||(i.value=a),i.defaultValue=a}d=i.name,d!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,d!==""&&(i.name=d)}function ct(i,a,d){(a!=="number"||jt(i.ownerDocument)!==i)&&(d==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+d&&(i.defaultValue=""+d))}var kt=Array.isArray;function dr(i,a,d,p){if(i=i.options,a){a={};for(var x=0;x<d.length;x++)a["$"+d[x]]=!0;for(d=0;d<i.length;d++)x=a.hasOwnProperty("$"+i[d].value),i[d].selected!==x&&(i[d].selected=x),x&&p&&(i[d].defaultSelected=!0)}else{for(d=""+pe(d),a=null,x=0;x<i.length;x++){if(i[x].value===d){i[x].selected=!0,p&&(i[x].defaultSelected=!0);return}a!==null||i[x].disabled||(a=i[x])}a!==null&&(a.selected=!0)}}function nn(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Sr(i,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(n(92));if(kt(d)){if(1<d.length)throw Error(n(93));d=d[0]}a=d}a==null&&(a=""),d=a}i._wrapperState={initialValue:pe(d)}}function Qa(i,a){var d=pe(a.value),p=pe(a.defaultValue);d!=null&&(d=""+d,d!==i.value&&(i.value=d),a.defaultValue==null&&i.defaultValue!==d&&(i.defaultValue=d)),p!=null&&(i.defaultValue=""+p)}function vs(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function ws(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Li(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?ws(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Gr,Bi=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,p,x){MSApp.execUnsafeLocalFunction(function(){return i(a,d,p,x)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(Gr=Gr||document.createElement("div"),Gr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Gr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function qn(i,a){if(a){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=a;return}}i.textContent=a}var qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kr=["Webkit","ms","Moz","O"];Object.keys(qr).forEach(function(i){Kr.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),qr[a]=qr[i]})});function bs(i,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||qr.hasOwnProperty(i)&&qr[i]?(""+a).trim():a+"px"}function zi(i,a){i=i.style;for(var d in a)if(a.hasOwnProperty(d)){var p=d.indexOf("--")===0,x=bs(d,a[d],p);d==="float"&&(d="cssFloat"),p?i.setProperty(d,x):i[d]=x}}var Ui=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kn(i,a){if(a){if(Ui[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Hi(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ir=null;function Ln(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Yr=null,Xr=null,wt=null;function $i(i){if(i=cu(i)){if(typeof Yr!="function")throw Error(n(280));var a=i.stateNode;a&&(a=gh(a),Yr(i.stateNode,i.type,a))}}function Oe(i){Xr?wt?wt.push(i):wt=[i]:Xr=i}function ft(){if(Xr){var i=Xr,a=wt;if(wt=Xr=null,$i(i),a)for(i=0;i<a.length;i++)$i(a[i])}}function Ut(i,a){return i(a)}function cn(){}var Bn=!1;function Vt(i,a,d){if(Bn)return i(a,d);Bn=!0;try{return Ut(i,a,d)}finally{Bn=!1,(Xr!==null||wt!==null)&&(cn(),ft())}}function Kt(i,a){var d=i.stateNode;if(d===null)return null;var p=gh(d);if(p===null)return null;d=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,a,typeof d));return d}var hr=!1;if(u)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){hr=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{hr=!1}function Cn(i,a,d,p,x,w,I,L,H){var Q=Array.prototype.slice.call(arguments,3);try{a.apply(d,Q)}catch(ae){this.onError(ae)}}var jr=!1,un=null,Xo=!1,kr=null,Kd={onError:function(i){jr=!0,un=i}};function Yd(i,a,d,p,x,w,I,L,H){jr=!1,un=null,Cn.apply(Kd,arguments)}function Oc(i,a,d,p,x,w,I,L,H){if(Yd.apply(this,arguments),jr){if(jr){var Q=un;jr=!1,un=null}else throw Error(n(198));Xo||(Xo=!0,kr=Q)}}function Jr(i){var a=i,d=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(d=a.return),i=a.return;while(i)}return a.tag===3?d:null}function Vc(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function Xd(i){if(Jr(i)!==i)throw Error(n(188))}function Jd(i){var a=i.alternate;if(!a){if(a=Jr(i),a===null)throw Error(n(188));return a!==i?null:i}for(var d=i,p=a;;){var x=d.return;if(x===null)break;var w=x.alternate;if(w===null){if(p=x.return,p!==null){d=p;continue}break}if(x.child===w.child){for(w=x.child;w;){if(w===d)return Xd(x),i;if(w===p)return Xd(x),a;w=w.sibling}throw Error(n(188))}if(d.return!==p.return)d=x,p=w;else{for(var I=!1,L=x.child;L;){if(L===d){I=!0,d=x,p=w;break}if(L===p){I=!0,p=x,d=w;break}L=L.sibling}if(!I){for(L=w.child;L;){if(L===d){I=!0,d=w,p=x;break}if(L===p){I=!0,p=w,d=x;break}L=L.sibling}if(!I)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:a}function Qd(i){return i=Jd(i),i!==null?Jo(i):null}function Jo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=Jo(i);if(a!==null)return a;i=i.sibling}return null}var Lc=e.unstable_scheduleCallback,Za=e.unstable_cancelCallback,Qo=e.unstable_shouldYield,ai=e.unstable_requestPaint,bt=e.unstable_now,Mp=e.unstable_getCurrentPriorityLevel,el=e.unstable_ImmediatePriority,Bc=e.unstable_UserBlockingPriority,Zo=e.unstable_NormalPriority,zc=e.unstable_LowPriority,tl=e.unstable_IdlePriority,ea=null,fr=null;function Zd(i){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(ea,i,void 0,(i.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:ta,_s=Math.log,Rr=Math.LN2;function ta(i){return i>>>=0,i===0?32:31-(_s(i)/Rr|0)|0}var Es=64,Wi=4194304;function at(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function li(i,a){var d=i.pendingLanes;if(d===0)return 0;var p=0,x=i.suspendedLanes,w=i.pingedLanes,I=d&268435455;if(I!==0){var L=I&~x;L!==0?p=at(L):(w&=I,w!==0&&(p=at(w)))}else I=d&~x,I!==0?p=at(I):w!==0&&(p=at(w));if(p===0)return 0;if(a!==0&&a!==p&&(a&x)===0&&(x=p&-p,w=a&-a,x>=w||x===16&&(w&4194240)!==0))return a;if((p&4)!==0&&(p|=d&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=p;0<a;)d=31-mr(a),x=1<<d,p|=i[d],a&=~x;return p}function na(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ra(i,a){for(var d=i.suspendedLanes,p=i.pingedLanes,x=i.expirationTimes,w=i.pendingLanes;0<w;){var I=31-mr(w),L=1<<I,H=x[I];H===-1?((L&d)===0||(L&p)!==0)&&(x[I]=na(L,a)):H<=a&&(i.expiredLanes|=L),w&=~L}}function Uc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Hc(){var i=Es;return Es<<=1,(Es&4194240)===0&&(Es=64),i}function $c(i){for(var a=[],d=0;31>d;d++)a.push(i);return a}function sa(i,a,d){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-mr(a),i[a]=d}function Fp(i,a){var d=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<d;){var x=31-mr(d),w=1<<x;a[x]=0,p[x]=-1,i[x]=-1,d&=~w}}function Wc(i,a){var d=i.entangledLanes|=a;for(i=i.entanglements;d;){var p=31-mr(d),x=1<<p;x&a|i[p]&a&&(i[p]|=a),d&=~x}}var tt=0;function Ns(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Gc,nl,qc,Kc,Yc,As=!1,rl=[],Ts=null,Cs=null,xn=null,ia=new Map,ci=new Map,pr=[],eh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gi(i,a){switch(i){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":ia.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ci.delete(a.pointerId)}}function Qr(i,a,d,p,x,w){return i===null||i.nativeEvent!==w?(i={blockedOn:a,domEventName:d,eventSystemFlags:p,nativeEvent:w,targetContainers:[x]},a!==null&&(a=cu(a),a!==null&&nl(a)),i):(i.eventSystemFlags|=p,a=i.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),i)}function th(i,a,d,p,x){switch(a){case"focusin":return Ts=Qr(Ts,i,a,d,p,x),!0;case"dragenter":return Cs=Qr(Cs,i,a,d,p,x),!0;case"mouseover":return xn=Qr(xn,i,a,d,p,x),!0;case"pointerover":var w=x.pointerId;return ia.set(w,Qr(ia.get(w)||null,i,a,d,p,x)),!0;case"gotpointercapture":return w=x.pointerId,ci.set(w,Qr(ci.get(w)||null,i,a,d,p,x)),!0}return!1}function sl(i){var a=ca(i.target);if(a!==null){var d=Jr(a);if(d!==null){if(a=d.tag,a===13){if(a=Vc(d),a!==null){i.blockedOn=a,Yc(i.priority,function(){qc(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function mt(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var d=il(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);Ir=p,d.target.dispatchEvent(p),Ir=null}else return a=cu(d),a!==null&&nl(a),i.blockedOn=d,!1;a.shift()}return!0}function nh(i,a,d){mt(i)&&d.delete(a)}function Dp(){As=!1,Ts!==null&&mt(Ts)&&(Ts=null),Cs!==null&&mt(Cs)&&(Cs=null),xn!==null&&mt(xn)&&(xn=null),ia.forEach(nh),ci.forEach(nh)}function qi(i,a){i.blockedOn===a&&(i.blockedOn=null,As||(As=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Dp)))}function Ki(i){function a(x){return qi(x,i)}if(0<rl.length){qi(rl[0],i);for(var d=1;d<rl.length;d++){var p=rl[d];p.blockedOn===i&&(p.blockedOn=null)}}for(Ts!==null&&qi(Ts,i),Cs!==null&&qi(Cs,i),xn!==null&&qi(xn,i),ia.forEach(a),ci.forEach(a),d=0;d<pr.length;d++)p=pr[d],p.blockedOn===i&&(p.blockedOn=null);for(;0<pr.length&&(d=pr[0],d.blockedOn===null);)sl(d),d.blockedOn===null&&pr.shift()}var ui=z.ReactCurrentBatchConfig,di=!0;function Ss(i,a,d,p){var x=tt,w=ui.transition;ui.transition=null;try{tt=1,Xc(i,a,d,p)}finally{tt=x,ui.transition=w}}function rh(i,a,d,p){var x=tt,w=ui.transition;ui.transition=null;try{tt=4,Xc(i,a,d,p)}finally{tt=x,ui.transition=w}}function Xc(i,a,d,p){if(di){var x=il(i,a,d,p);if(x===null)qp(i,a,p,Is,d),Gi(i,p);else if(th(x,i,a,d,p))p.stopPropagation();else if(Gi(i,p),a&4&&-1<eh.indexOf(i)){for(;x!==null;){var w=cu(x);if(w!==null&&Gc(w),w=il(i,a,d,p),w===null&&qp(i,a,p,Is,d),w===x)break;x=w}x!==null&&p.stopPropagation()}else qp(i,a,p,null,d)}}var Is=null;function il(i,a,d,p){if(Is=null,i=Ln(p),i=ca(i),i!==null)if(a=Jr(i),a===null)i=null;else if(d=a.tag,d===13){if(i=Vc(a),i!==null)return i;i=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return Is=i,null}function ol(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mp()){case el:return 1;case Bc:return 4;case Zo:case zc:return 16;case tl:return 536870912;default:return 16}default:return 16}}var gr=null,al=null,hi=null;function sh(){if(hi)return hi;var i,a=al,d=a.length,p,x="value"in gr?gr.value:gr.textContent,w=x.length;for(i=0;i<d&&a[i]===x[i];i++);var I=d-i;for(p=1;p<=I&&a[d-p]===x[w-p];p++);return hi=x.slice(i,1<p?1-p:void 0)}function oa(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function js(){return!0}function Jc(){return!1}function Sn(i){function a(d,p,x,w,I){this._reactName=d,this._targetInst=x,this.type=p,this.nativeEvent=w,this.target=I,this.currentTarget=null;for(var L in i)i.hasOwnProperty(L)&&(d=i[L],this[L]=d?d(w):w[L]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?js:Jc,this.isPropagationStopped=Jc,this}return se(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),a}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aa=Sn(ks),Yi=se({},ks,{view:0,detail:0}),ll=Sn(Yi),cl,ul,yr,la=se({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$e,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yr&&(yr&&i.type==="mousemove"?(cl=i.screenX-yr.screenX,ul=i.screenY-yr.screenY):ul=cl=0,yr=i),cl)},movementY:function(i){return"movementY"in i?i.movementY:ul}}),Qc=Sn(la),ih=se({},la,{dataTransfer:0}),oh=Sn(ih),dl=se({},Yi,{relatedTarget:0}),vn=Sn(dl),ah=se({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),lh=Sn(ah),Xi=se({},ks,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),f=Sn(Xi),b=se({},ks,{data:0}),T=Sn(b),P={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ge(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Z[i])?!!a[i]:!1}function $e(){return ge}var Ht=se({},Yi,{key:function(i){if(i.key){var a=P[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=oa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?X[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$e,charCode:function(i){return i.type==="keypress"?oa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?oa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ht=Sn(Ht),Xt=se({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xr=Sn(Xt),fi=se({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$e}),Rs=Sn(fi),Ps=se({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),hl=Sn(Ps),Zc=se({},la,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),dk=Sn(Zc),hk=[9,13,27,32],Op=u&&"CompositionEvent"in window,eu=null;u&&"documentMode"in document&&(eu=document.documentMode);var fk=u&&"TextEvent"in window&&!eu,j1=u&&(!Op||eu&&8<eu&&11>=eu),k1=" ",R1=!1;function P1(i,a){switch(i){case"keyup":return hk.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M1(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fl=!1;function mk(i,a){switch(i){case"compositionend":return M1(a);case"keypress":return a.which!==32?null:(R1=!0,k1);case"textInput":return i=a.data,i===k1&&R1?null:i;default:return null}}function pk(i,a){if(fl)return i==="compositionend"||!Op&&P1(i,a)?(i=sh(),hi=al=gr=null,fl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return j1&&a.locale!=="ko"?null:a.data;default:return null}}var gk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F1(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!gk[i.type]:a==="textarea"}function D1(i,a,d,p){Oe(p),a=fh(a,"onChange"),0<a.length&&(d=new aa("onChange","change",null,d,p),i.push({event:d,listeners:a}))}var tu=null,nu=null;function yk(i){ew(i,0)}function ch(i){var a=xl(i);if(Ye(a))return i}function xk(i,a){if(i==="change")return a}var O1=!1;if(u){var Vp;if(u){var Lp="oninput"in document;if(!Lp){var V1=document.createElement("div");V1.setAttribute("oninput","return;"),Lp=typeof V1.oninput=="function"}Vp=Lp}else Vp=!1;O1=Vp&&(!document.documentMode||9<document.documentMode)}function L1(){tu&&(tu.detachEvent("onpropertychange",B1),nu=tu=null)}function B1(i){if(i.propertyName==="value"&&ch(nu)){var a=[];D1(a,nu,i,Ln(i)),Vt(yk,a)}}function vk(i,a,d){i==="focusin"?(L1(),tu=a,nu=d,tu.attachEvent("onpropertychange",B1)):i==="focusout"&&L1()}function wk(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ch(nu)}function bk(i,a){if(i==="click")return ch(a)}function _k(i,a){if(i==="input"||i==="change")return ch(a)}function Ek(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Zr=typeof Object.is=="function"?Object.is:Ek;function ru(i,a){if(Zr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var d=Object.keys(i),p=Object.keys(a);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var x=d[p];if(!h.call(a,x)||!Zr(i[x],a[x]))return!1}return!0}function z1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function U1(i,a){var d=z1(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=a&&p>=a)return{node:d,offset:a-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=z1(d)}}function H1(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?H1(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function $1(){for(var i=window,a=jt();a instanceof i.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)i=a.contentWindow;else break;a=jt(i.document)}return a}function Bp(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function Nk(i){var a=$1(),d=i.focusedElem,p=i.selectionRange;if(a!==d&&d&&d.ownerDocument&&H1(d.ownerDocument.documentElement,d)){if(p!==null&&Bp(d)){if(a=p.start,i=p.end,i===void 0&&(i=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(i,d.value.length);else if(i=(a=d.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var x=d.textContent.length,w=Math.min(p.start,x);p=p.end===void 0?w:Math.min(p.end,x),!i.extend&&w>p&&(x=p,p=w,w=x),x=U1(d,w);var I=U1(d,p);x&&I&&(i.rangeCount!==1||i.anchorNode!==x.node||i.anchorOffset!==x.offset||i.focusNode!==I.node||i.focusOffset!==I.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),i.removeAllRanges(),w>p?(i.addRange(a),i.extend(I.node,I.offset)):(a.setEnd(I.node,I.offset),i.addRange(a)))}}for(a=[],i=d;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)i=a[d],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Ak=u&&"documentMode"in document&&11>=document.documentMode,ml=null,zp=null,su=null,Up=!1;function W1(i,a,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Up||ml==null||ml!==jt(p)||(p=ml,"selectionStart"in p&&Bp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),su&&ru(su,p)||(su=p,p=fh(zp,"onSelect"),0<p.length&&(a=new aa("onSelect","select",null,a,d),i.push({event:a,listeners:p}),a.target=ml)))}function uh(i,a){var d={};return d[i.toLowerCase()]=a.toLowerCase(),d["Webkit"+i]="webkit"+a,d["Moz"+i]="moz"+a,d}var pl={animationend:uh("Animation","AnimationEnd"),animationiteration:uh("Animation","AnimationIteration"),animationstart:uh("Animation","AnimationStart"),transitionend:uh("Transition","TransitionEnd")},Hp={},G1={};u&&(G1=document.createElement("div").style,"AnimationEvent"in window||(delete pl.animationend.animation,delete pl.animationiteration.animation,delete pl.animationstart.animation),"TransitionEvent"in window||delete pl.transitionend.transition);function dh(i){if(Hp[i])return Hp[i];if(!pl[i])return i;var a=pl[i],d;for(d in a)if(a.hasOwnProperty(d)&&d in G1)return Hp[i]=a[d];return i}var q1=dh("animationend"),K1=dh("animationiteration"),Y1=dh("animationstart"),X1=dh("transitionend"),J1=new Map,Q1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ji(i,a){J1.set(i,a),o(a,[i])}for(var $p=0;$p<Q1.length;$p++){var Wp=Q1[$p],Tk=Wp.toLowerCase(),Ck=Wp[0].toUpperCase()+Wp.slice(1);Ji(Tk,"on"+Ck)}Ji(q1,"onAnimationEnd"),Ji(K1,"onAnimationIteration"),Ji(Y1,"onAnimationStart"),Ji("dblclick","onDoubleClick"),Ji("focusin","onFocus"),Ji("focusout","onBlur"),Ji(X1,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sk=new Set("cancel close invalid load scroll toggle".split(" ").concat(iu));function Z1(i,a,d){var p=i.type||"unknown-event";i.currentTarget=d,Oc(p,a,void 0,i),i.currentTarget=null}function ew(i,a){a=(a&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],x=p.event;p=p.listeners;e:{var w=void 0;if(a)for(var I=p.length-1;0<=I;I--){var L=p[I],H=L.instance,Q=L.currentTarget;if(L=L.listener,H!==w&&x.isPropagationStopped())break e;Z1(x,L,Q),w=H}else for(I=0;I<p.length;I++){if(L=p[I],H=L.instance,Q=L.currentTarget,L=L.listener,H!==w&&x.isPropagationStopped())break e;Z1(x,L,Q),w=H}}}if(Xo)throw i=kr,Xo=!1,kr=null,i}function _t(i,a){var d=a[Zp];d===void 0&&(d=a[Zp]=new Set);var p=i+"__bubble";d.has(p)||(tw(a,i,2,!1),d.add(p))}function Gp(i,a,d){var p=0;a&&(p|=4),tw(d,i,p,a)}var hh="_reactListening"+Math.random().toString(36).slice(2);function ou(i){if(!i[hh]){i[hh]=!0,r.forEach(function(d){d!=="selectionchange"&&(Sk.has(d)||Gp(d,!1,i),Gp(d,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[hh]||(a[hh]=!0,Gp("selectionchange",!1,a))}}function tw(i,a,d,p){switch(ol(a)){case 1:var x=Ss;break;case 4:x=rh;break;default:x=Xc}d=x.bind(null,a,d,i),x=void 0,!hr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),p?x!==void 0?i.addEventListener(a,d,{capture:!0,passive:x}):i.addEventListener(a,d,!0):x!==void 0?i.addEventListener(a,d,{passive:x}):i.addEventListener(a,d,!1)}function qp(i,a,d,p,x){var w=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var I=p.tag;if(I===3||I===4){var L=p.stateNode.containerInfo;if(L===x||L.nodeType===8&&L.parentNode===x)break;if(I===4)for(I=p.return;I!==null;){var H=I.tag;if((H===3||H===4)&&(H=I.stateNode.containerInfo,H===x||H.nodeType===8&&H.parentNode===x))return;I=I.return}for(;L!==null;){if(I=ca(L),I===null)return;if(H=I.tag,H===5||H===6){p=w=I;continue e}L=L.parentNode}}p=p.return}Vt(function(){var Q=w,ae=Ln(d),de=[];e:{var oe=J1.get(i);if(oe!==void 0){var we=aa,Ne=i;switch(i){case"keypress":if(oa(d)===0)break e;case"keydown":case"keyup":we=ht;break;case"focusin":Ne="focus",we=vn;break;case"focusout":Ne="blur",we=vn;break;case"beforeblur":case"afterblur":we=vn;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=Rs;break;case q1:case K1:case Y1:we=lh;break;case X1:we=hl;break;case"scroll":we=ll;break;case"wheel":we=dk;break;case"copy":case"cut":case"paste":we=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=xr}var Se=(a&4)!==0,$t=!Se&&i==="scroll",Y=Se?oe!==null?oe+"Capture":null:oe;Se=[];for(var W=Q,J;W!==null;){J=W;var he=J.stateNode;if(J.tag===5&&he!==null&&(J=he,Y!==null&&(he=Kt(W,Y),he!=null&&Se.push(au(W,he,J)))),$t)break;W=W.return}0<Se.length&&(oe=new we(oe,Ne,null,d,ae),de.push({event:oe,listeners:Se}))}}if((a&7)===0){e:{if(oe=i==="mouseover"||i==="pointerover",we=i==="mouseout"||i==="pointerout",oe&&d!==Ir&&(Ne=d.relatedTarget||d.fromElement)&&(ca(Ne)||Ne[mi]))break e;if((we||oe)&&(oe=ae.window===ae?ae:(oe=ae.ownerDocument)?oe.defaultView||oe.parentWindow:window,we?(Ne=d.relatedTarget||d.toElement,we=Q,Ne=Ne?ca(Ne):null,Ne!==null&&($t=Jr(Ne),Ne!==$t||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(we=null,Ne=Q),we!==Ne)){if(Se=Qc,he="onMouseLeave",Y="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(Se=xr,he="onPointerLeave",Y="onPointerEnter",W="pointer"),$t=we==null?oe:xl(we),J=Ne==null?oe:xl(Ne),oe=new Se(he,W+"leave",we,d,ae),oe.target=$t,oe.relatedTarget=J,he=null,ca(ae)===Q&&(Se=new Se(Y,W+"enter",Ne,d,ae),Se.target=J,Se.relatedTarget=$t,he=Se),$t=he,we&&Ne)t:{for(Se=we,Y=Ne,W=0,J=Se;J;J=gl(J))W++;for(J=0,he=Y;he;he=gl(he))J++;for(;0<W-J;)Se=gl(Se),W--;for(;0<J-W;)Y=gl(Y),J--;for(;W--;){if(Se===Y||Y!==null&&Se===Y.alternate)break t;Se=gl(Se),Y=gl(Y)}Se=null}else Se=null;we!==null&&nw(de,oe,we,Se,!1),Ne!==null&&$t!==null&&nw(de,$t,Ne,Se,!0)}}e:{if(oe=Q?xl(Q):window,we=oe.nodeName&&oe.nodeName.toLowerCase(),we==="select"||we==="input"&&oe.type==="file")var je=xk;else if(F1(oe))if(O1)je=_k;else{je=wk;var Me=vk}else(we=oe.nodeName)&&we.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(je=bk);if(je&&(je=je(i,Q))){D1(de,je,d,ae);break e}Me&&Me(i,oe,Q),i==="focusout"&&(Me=oe._wrapperState)&&Me.controlled&&oe.type==="number"&&ct(oe,"number",oe.value)}switch(Me=Q?xl(Q):window,i){case"focusin":(F1(Me)||Me.contentEditable==="true")&&(ml=Me,zp=Q,su=null);break;case"focusout":su=zp=ml=null;break;case"mousedown":Up=!0;break;case"contextmenu":case"mouseup":case"dragend":Up=!1,W1(de,d,ae);break;case"selectionchange":if(Ak)break;case"keydown":case"keyup":W1(de,d,ae)}var Fe;if(Op)e:{switch(i){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else fl?P1(i,d)&&(Ue="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(Ue="onCompositionStart");Ue&&(j1&&d.locale!=="ko"&&(fl||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&fl&&(Fe=sh()):(gr=ae,al="value"in gr?gr.value:gr.textContent,fl=!0)),Me=fh(Q,Ue),0<Me.length&&(Ue=new T(Ue,i,null,d,ae),de.push({event:Ue,listeners:Me}),Fe?Ue.data=Fe:(Fe=M1(d),Fe!==null&&(Ue.data=Fe)))),(Fe=fk?mk(i,d):pk(i,d))&&(Q=fh(Q,"onBeforeInput"),0<Q.length&&(ae=new T("onBeforeInput","beforeinput",null,d,ae),de.push({event:ae,listeners:Q}),ae.data=Fe))}ew(de,a)})}function au(i,a,d){return{instance:i,listener:a,currentTarget:d}}function fh(i,a){for(var d=a+"Capture",p=[];i!==null;){var x=i,w=x.stateNode;x.tag===5&&w!==null&&(x=w,w=Kt(i,d),w!=null&&p.unshift(au(i,w,x)),w=Kt(i,a),w!=null&&p.push(au(i,w,x))),i=i.return}return p}function gl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function nw(i,a,d,p,x){for(var w=a._reactName,I=[];d!==null&&d!==p;){var L=d,H=L.alternate,Q=L.stateNode;if(H!==null&&H===p)break;L.tag===5&&Q!==null&&(L=Q,x?(H=Kt(d,w),H!=null&&I.unshift(au(d,H,L))):x||(H=Kt(d,w),H!=null&&I.push(au(d,H,L)))),d=d.return}I.length!==0&&i.push({event:a,listeners:I})}var Ik=/\r\n?/g,jk=/\u0000|\uFFFD/g;function rw(i){return(typeof i=="string"?i:""+i).replace(Ik,`
`).replace(jk,"")}function mh(i,a,d){if(a=rw(a),rw(i)!==a&&d)throw Error(n(425))}function ph(){}var Kp=null,Yp=null;function Xp(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Jp=typeof setTimeout=="function"?setTimeout:void 0,kk=typeof clearTimeout=="function"?clearTimeout:void 0,sw=typeof Promise=="function"?Promise:void 0,Rk=typeof queueMicrotask=="function"?queueMicrotask:typeof sw<"u"?function(i){return sw.resolve(null).then(i).catch(Pk)}:Jp;function Pk(i){setTimeout(function(){throw i})}function Qp(i,a){var d=a,p=0;do{var x=d.nextSibling;if(i.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(p===0){i.removeChild(x),Ki(a);return}p--}else d!=="$"&&d!=="$?"&&d!=="$!"||p++;d=x}while(d);Ki(a)}function Qi(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function iw(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return i;a--}else d==="/$"&&a++}i=i.previousSibling}return null}var yl=Math.random().toString(36).slice(2),Ms="__reactFiber$"+yl,lu="__reactProps$"+yl,mi="__reactContainer$"+yl,Zp="__reactEvents$"+yl,Mk="__reactListeners$"+yl,Fk="__reactHandles$"+yl;function ca(i){var a=i[Ms];if(a)return a;for(var d=i.parentNode;d;){if(a=d[mi]||d[Ms]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(i=iw(i);i!==null;){if(d=i[Ms])return d;i=iw(i)}return a}i=d,d=i.parentNode}return null}function cu(i){return i=i[Ms]||i[mi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function xl(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function gh(i){return i[lu]||null}var eg=[],vl=-1;function Zi(i){return{current:i}}function Et(i){0>vl||(i.current=eg[vl],eg[vl]=null,vl--)}function yt(i,a){vl++,eg[vl]=i.current,i.current=a}var eo={},In=Zi(eo),Yn=Zi(!1),ua=eo;function wl(i,a){var d=i.type.contextTypes;if(!d)return eo;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var x={},w;for(w in d)x[w]=a[w];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=x),x}function Xn(i){return i=i.childContextTypes,i!=null}function yh(){Et(Yn),Et(In)}function ow(i,a,d){if(In.current!==eo)throw Error(n(168));yt(In,a),yt(Yn,d)}function aw(i,a,d){var p=i.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return d;p=p.getChildContext();for(var x in p)if(!(x in a))throw Error(n(108,ie(i)||"Unknown",x));return se({},d,p)}function xh(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||eo,ua=In.current,yt(In,i),yt(Yn,Yn.current),!0}function lw(i,a,d){var p=i.stateNode;if(!p)throw Error(n(169));d?(i=aw(i,a,ua),p.__reactInternalMemoizedMergedChildContext=i,Et(Yn),Et(In),yt(In,i)):Et(Yn),yt(Yn,d)}var pi=null,vh=!1,tg=!1;function cw(i){pi===null?pi=[i]:pi.push(i)}function Dk(i){vh=!0,cw(i)}function to(){if(!tg&&pi!==null){tg=!0;var i=0,a=tt;try{var d=pi;for(tt=1;i<d.length;i++){var p=d[i];do p=p(!0);while(p!==null)}pi=null,vh=!1}catch(x){throw pi!==null&&(pi=pi.slice(i+1)),Lc(el,to),x}finally{tt=a,tg=!1}}return null}var bl=[],_l=0,wh=null,bh=0,Pr=[],Mr=0,da=null,gi=1,yi="";function ha(i,a){bl[_l++]=bh,bl[_l++]=wh,wh=i,bh=a}function uw(i,a,d){Pr[Mr++]=gi,Pr[Mr++]=yi,Pr[Mr++]=da,da=i;var p=gi;i=yi;var x=32-mr(p)-1;p&=~(1<<x),d+=1;var w=32-mr(a)+x;if(30<w){var I=x-x%5;w=(p&(1<<I)-1).toString(32),p>>=I,x-=I,gi=1<<32-mr(a)+x|d<<x|p,yi=w+i}else gi=1<<w|d<<x|p,yi=i}function ng(i){i.return!==null&&(ha(i,1),uw(i,1,0))}function rg(i){for(;i===wh;)wh=bl[--_l],bl[_l]=null,bh=bl[--_l],bl[_l]=null;for(;i===da;)da=Pr[--Mr],Pr[Mr]=null,yi=Pr[--Mr],Pr[Mr]=null,gi=Pr[--Mr],Pr[Mr]=null}var vr=null,wr=null,Tt=!1,es=null;function dw(i,a){var d=Vr(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=i,a=i.deletions,a===null?(i.deletions=[d],i.flags|=16):a.push(d)}function hw(i,a){switch(i.tag){case 5:var d=i.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,vr=i,wr=Qi(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,vr=i,wr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=da!==null?{id:gi,overflow:yi}:null,i.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=Vr(18,null,null,0),d.stateNode=a,d.return=i,i.child=d,vr=i,wr=null,!0):!1;default:return!1}}function sg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function ig(i){if(Tt){var a=wr;if(a){var d=a;if(!hw(i,a)){if(sg(i))throw Error(n(418));a=Qi(d.nextSibling);var p=vr;a&&hw(i,a)?dw(p,d):(i.flags=i.flags&-4097|2,Tt=!1,vr=i)}}else{if(sg(i))throw Error(n(418));i.flags=i.flags&-4097|2,Tt=!1,vr=i}}}function fw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;vr=i}function _h(i){if(i!==vr)return!1;if(!Tt)return fw(i),Tt=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Xp(i.type,i.memoizedProps)),a&&(a=wr)){if(sg(i))throw mw(),Error(n(418));for(;a;)dw(i,a),a=Qi(a.nextSibling)}if(fw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"){if(a===0){wr=Qi(i.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}i=i.nextSibling}wr=null}}else wr=vr?Qi(i.stateNode.nextSibling):null;return!0}function mw(){for(var i=wr;i;)i=Qi(i.nextSibling)}function El(){wr=vr=null,Tt=!1}function og(i){es===null?es=[i]:es.push(i)}var Ok=z.ReactCurrentBatchConfig;function uu(i,a,d){if(i=d.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var p=d.stateNode}if(!p)throw Error(n(147,i));var x=p,w=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(I){var L=x.refs;I===null?delete L[w]:L[w]=I},a._stringRef=w,a)}if(typeof i!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,i))}return i}function Eh(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function pw(i){var a=i._init;return a(i._payload)}function gw(i){function a(Y,W){if(i){var J=Y.deletions;J===null?(Y.deletions=[W],Y.flags|=16):J.push(W)}}function d(Y,W){if(!i)return null;for(;W!==null;)a(Y,W),W=W.sibling;return null}function p(Y,W){for(Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function x(Y,W){return Y=co(Y,W),Y.index=0,Y.sibling=null,Y}function w(Y,W,J){return Y.index=J,i?(J=Y.alternate,J!==null?(J=J.index,J<W?(Y.flags|=2,W):J):(Y.flags|=2,W)):(Y.flags|=1048576,W)}function I(Y){return i&&Y.alternate===null&&(Y.flags|=2),Y}function L(Y,W,J,he){return W===null||W.tag!==6?(W=Jg(J,Y.mode,he),W.return=Y,W):(W=x(W,J),W.return=Y,W)}function H(Y,W,J,he){var je=J.type;return je===k?ae(Y,W,J.props.children,he,J.key):W!==null&&(W.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===re&&pw(je)===W.type)?(he=x(W,J.props),he.ref=uu(Y,W,J),he.return=Y,he):(he=qh(J.type,J.key,J.props,null,Y.mode,he),he.ref=uu(Y,W,J),he.return=Y,he)}function Q(Y,W,J,he){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=Qg(J,Y.mode,he),W.return=Y,W):(W=x(W,J.children||[]),W.return=Y,W)}function ae(Y,W,J,he,je){return W===null||W.tag!==7?(W=wa(J,Y.mode,he,je),W.return=Y,W):(W=x(W,J),W.return=Y,W)}function de(Y,W,J){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Jg(""+W,Y.mode,J),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case V:return J=qh(W.type,W.key,W.props,null,Y.mode,J),J.ref=uu(Y,null,W),J.return=Y,J;case q:return W=Qg(W,Y.mode,J),W.return=Y,W;case re:var he=W._init;return de(Y,he(W._payload),J)}if(kt(W)||ce(W))return W=wa(W,Y.mode,J,null),W.return=Y,W;Eh(Y,W)}return null}function oe(Y,W,J,he){var je=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return je!==null?null:L(Y,W,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case V:return J.key===je?H(Y,W,J,he):null;case q:return J.key===je?Q(Y,W,J,he):null;case re:return je=J._init,oe(Y,W,je(J._payload),he)}if(kt(J)||ce(J))return je!==null?null:ae(Y,W,J,he,null);Eh(Y,J)}return null}function we(Y,W,J,he,je){if(typeof he=="string"&&he!==""||typeof he=="number")return Y=Y.get(J)||null,L(W,Y,""+he,je);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case V:return Y=Y.get(he.key===null?J:he.key)||null,H(W,Y,he,je);case q:return Y=Y.get(he.key===null?J:he.key)||null,Q(W,Y,he,je);case re:var Me=he._init;return we(Y,W,J,Me(he._payload),je)}if(kt(he)||ce(he))return Y=Y.get(J)||null,ae(W,Y,he,je,null);Eh(W,he)}return null}function Ne(Y,W,J,he){for(var je=null,Me=null,Fe=W,Ue=W=0,fn=null;Fe!==null&&Ue<J.length;Ue++){Fe.index>Ue?(fn=Fe,Fe=null):fn=Fe.sibling;var ot=oe(Y,Fe,J[Ue],he);if(ot===null){Fe===null&&(Fe=fn);break}i&&Fe&&ot.alternate===null&&a(Y,Fe),W=w(ot,W,Ue),Me===null?je=ot:Me.sibling=ot,Me=ot,Fe=fn}if(Ue===J.length)return d(Y,Fe),Tt&&ha(Y,Ue),je;if(Fe===null){for(;Ue<J.length;Ue++)Fe=de(Y,J[Ue],he),Fe!==null&&(W=w(Fe,W,Ue),Me===null?je=Fe:Me.sibling=Fe,Me=Fe);return Tt&&ha(Y,Ue),je}for(Fe=p(Y,Fe);Ue<J.length;Ue++)fn=we(Fe,Y,Ue,J[Ue],he),fn!==null&&(i&&fn.alternate!==null&&Fe.delete(fn.key===null?Ue:fn.key),W=w(fn,W,Ue),Me===null?je=fn:Me.sibling=fn,Me=fn);return i&&Fe.forEach(function(uo){return a(Y,uo)}),Tt&&ha(Y,Ue),je}function Se(Y,W,J,he){var je=ce(J);if(typeof je!="function")throw Error(n(150));if(J=je.call(J),J==null)throw Error(n(151));for(var Me=je=null,Fe=W,Ue=W=0,fn=null,ot=J.next();Fe!==null&&!ot.done;Ue++,ot=J.next()){Fe.index>Ue?(fn=Fe,Fe=null):fn=Fe.sibling;var uo=oe(Y,Fe,ot.value,he);if(uo===null){Fe===null&&(Fe=fn);break}i&&Fe&&uo.alternate===null&&a(Y,Fe),W=w(uo,W,Ue),Me===null?je=uo:Me.sibling=uo,Me=uo,Fe=fn}if(ot.done)return d(Y,Fe),Tt&&ha(Y,Ue),je;if(Fe===null){for(;!ot.done;Ue++,ot=J.next())ot=de(Y,ot.value,he),ot!==null&&(W=w(ot,W,Ue),Me===null?je=ot:Me.sibling=ot,Me=ot);return Tt&&ha(Y,Ue),je}for(Fe=p(Y,Fe);!ot.done;Ue++,ot=J.next())ot=we(Fe,Y,Ue,ot.value,he),ot!==null&&(i&&ot.alternate!==null&&Fe.delete(ot.key===null?Ue:ot.key),W=w(ot,W,Ue),Me===null?je=ot:Me.sibling=ot,Me=ot);return i&&Fe.forEach(function(gR){return a(Y,gR)}),Tt&&ha(Y,Ue),je}function $t(Y,W,J,he){if(typeof J=="object"&&J!==null&&J.type===k&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case V:e:{for(var je=J.key,Me=W;Me!==null;){if(Me.key===je){if(je=J.type,je===k){if(Me.tag===7){d(Y,Me.sibling),W=x(Me,J.props.children),W.return=Y,Y=W;break e}}else if(Me.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===re&&pw(je)===Me.type){d(Y,Me.sibling),W=x(Me,J.props),W.ref=uu(Y,Me,J),W.return=Y,Y=W;break e}d(Y,Me);break}else a(Y,Me);Me=Me.sibling}J.type===k?(W=wa(J.props.children,Y.mode,he,J.key),W.return=Y,Y=W):(he=qh(J.type,J.key,J.props,null,Y.mode,he),he.ref=uu(Y,W,J),he.return=Y,Y=he)}return I(Y);case q:e:{for(Me=J.key;W!==null;){if(W.key===Me)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){d(Y,W.sibling),W=x(W,J.children||[]),W.return=Y,Y=W;break e}else{d(Y,W);break}else a(Y,W);W=W.sibling}W=Qg(J,Y.mode,he),W.return=Y,Y=W}return I(Y);case re:return Me=J._init,$t(Y,W,Me(J._payload),he)}if(kt(J))return Ne(Y,W,J,he);if(ce(J))return Se(Y,W,J,he);Eh(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,W!==null&&W.tag===6?(d(Y,W.sibling),W=x(W,J),W.return=Y,Y=W):(d(Y,W),W=Jg(J,Y.mode,he),W.return=Y,Y=W),I(Y)):d(Y,W)}return $t}var Nl=gw(!0),yw=gw(!1),Nh=Zi(null),Ah=null,Al=null,ag=null;function lg(){ag=Al=Ah=null}function cg(i){var a=Nh.current;Et(Nh),i._currentValue=a}function ug(i,a,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),i===d)break;i=i.return}}function Tl(i,a){Ah=i,ag=Al=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(Jn=!0),i.firstContext=null)}function Fr(i){var a=i._currentValue;if(ag!==i)if(i={context:i,memoizedValue:a,next:null},Al===null){if(Ah===null)throw Error(n(308));Al=i,Ah.dependencies={lanes:0,firstContext:i}}else Al=Al.next=i;return a}var fa=null;function dg(i){fa===null?fa=[i]:fa.push(i)}function xw(i,a,d,p){var x=a.interleaved;return x===null?(d.next=d,dg(a)):(d.next=x.next,x.next=d),a.interleaved=d,xi(i,p)}function xi(i,a){i.lanes|=a;var d=i.alternate;for(d!==null&&(d.lanes|=a),d=i,i=i.return;i!==null;)i.childLanes|=a,d=i.alternate,d!==null&&(d.childLanes|=a),d=i,i=i.return;return d.tag===3?d.stateNode:null}var no=!1;function hg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vw(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function vi(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function ro(i,a,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(st&2)!==0){var x=p.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),p.pending=a,xi(i,d)}return x=p.interleaved,x===null?(a.next=a,dg(p)):(a.next=x.next,x.next=a),p.interleaved=a,xi(i,d)}function Th(i,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var p=a.lanes;p&=i.pendingLanes,d|=p,a.lanes=d,Wc(i,d)}}function ww(i,a){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var x=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var I={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};w===null?x=w=I:w=w.next=I,d=d.next}while(d!==null);w===null?x=w=a:w=w.next=a}else x=w=a;d={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:w,shared:p.shared,effects:p.effects},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=a:i.next=a,d.lastBaseUpdate=a}function Ch(i,a,d,p){var x=i.updateQueue;no=!1;var w=x.firstBaseUpdate,I=x.lastBaseUpdate,L=x.shared.pending;if(L!==null){x.shared.pending=null;var H=L,Q=H.next;H.next=null,I===null?w=Q:I.next=Q,I=H;var ae=i.alternate;ae!==null&&(ae=ae.updateQueue,L=ae.lastBaseUpdate,L!==I&&(L===null?ae.firstBaseUpdate=Q:L.next=Q,ae.lastBaseUpdate=H))}if(w!==null){var de=x.baseState;I=0,ae=Q=H=null,L=w;do{var oe=L.lane,we=L.eventTime;if((p&oe)===oe){ae!==null&&(ae=ae.next={eventTime:we,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var Ne=i,Se=L;switch(oe=a,we=d,Se.tag){case 1:if(Ne=Se.payload,typeof Ne=="function"){de=Ne.call(we,de,oe);break e}de=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Se.payload,oe=typeof Ne=="function"?Ne.call(we,de,oe):Ne,oe==null)break e;de=se({},de,oe);break e;case 2:no=!0}}L.callback!==null&&L.lane!==0&&(i.flags|=64,oe=x.effects,oe===null?x.effects=[L]:oe.push(L))}else we={eventTime:we,lane:oe,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ae===null?(Q=ae=we,H=de):ae=ae.next=we,I|=oe;if(L=L.next,L===null){if(L=x.shared.pending,L===null)break;oe=L,L=oe.next,oe.next=null,x.lastBaseUpdate=oe,x.shared.pending=null}}while(!0);if(ae===null&&(H=de),x.baseState=H,x.firstBaseUpdate=Q,x.lastBaseUpdate=ae,a=x.shared.interleaved,a!==null){x=a;do I|=x.lane,x=x.next;while(x!==a)}else w===null&&(x.shared.lanes=0);ga|=I,i.lanes=I,i.memoizedState=de}}function bw(i,a,d){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var p=i[a],x=p.callback;if(x!==null){if(p.callback=null,p=d,typeof x!="function")throw Error(n(191,x));x.call(p)}}}var du={},Fs=Zi(du),hu=Zi(du),fu=Zi(du);function ma(i){if(i===du)throw Error(n(174));return i}function fg(i,a){switch(yt(fu,a),yt(hu,i),yt(Fs,du),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Li(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=Li(a,i)}Et(Fs),yt(Fs,a)}function Cl(){Et(Fs),Et(hu),Et(fu)}function _w(i){ma(fu.current);var a=ma(Fs.current),d=Li(a,i.type);a!==d&&(yt(hu,i),yt(Fs,d))}function mg(i){hu.current===i&&(Et(Fs),Et(hu))}var Rt=Zi(0);function Sh(i){for(var a=i;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var pg=[];function gg(){for(var i=0;i<pg.length;i++)pg[i]._workInProgressVersionPrimary=null;pg.length=0}var Ih=z.ReactCurrentDispatcher,yg=z.ReactCurrentBatchConfig,pa=0,Pt=null,rn=null,dn=null,jh=!1,mu=!1,pu=0,Vk=0;function jn(){throw Error(n(321))}function xg(i,a){if(a===null)return!1;for(var d=0;d<a.length&&d<i.length;d++)if(!Zr(i[d],a[d]))return!1;return!0}function vg(i,a,d,p,x,w){if(pa=w,Pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Ih.current=i===null||i.memoizedState===null?Uk:Hk,i=d(p,x),mu){w=0;do{if(mu=!1,pu=0,25<=w)throw Error(n(301));w+=1,dn=rn=null,a.updateQueue=null,Ih.current=$k,i=d(p,x)}while(mu)}if(Ih.current=Ph,a=rn!==null&&rn.next!==null,pa=0,dn=rn=Pt=null,jh=!1,a)throw Error(n(300));return i}function wg(){var i=pu!==0;return pu=0,i}function Ds(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Pt.memoizedState=dn=i:dn=dn.next=i,dn}function Dr(){if(rn===null){var i=Pt.alternate;i=i!==null?i.memoizedState:null}else i=rn.next;var a=dn===null?Pt.memoizedState:dn.next;if(a!==null)dn=a,rn=i;else{if(i===null)throw Error(n(310));rn=i,i={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},dn===null?Pt.memoizedState=dn=i:dn=dn.next=i}return dn}function gu(i,a){return typeof a=="function"?a(i):a}function bg(i){var a=Dr(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var p=rn,x=p.baseQueue,w=d.pending;if(w!==null){if(x!==null){var I=x.next;x.next=w.next,w.next=I}p.baseQueue=x=w,d.pending=null}if(x!==null){w=x.next,p=p.baseState;var L=I=null,H=null,Q=w;do{var ae=Q.lane;if((pa&ae)===ae)H!==null&&(H=H.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),p=Q.hasEagerState?Q.eagerState:i(p,Q.action);else{var de={lane:ae,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};H===null?(L=H=de,I=p):H=H.next=de,Pt.lanes|=ae,ga|=ae}Q=Q.next}while(Q!==null&&Q!==w);H===null?I=p:H.next=L,Zr(p,a.memoizedState)||(Jn=!0),a.memoizedState=p,a.baseState=I,a.baseQueue=H,d.lastRenderedState=p}if(i=d.interleaved,i!==null){x=i;do w=x.lane,Pt.lanes|=w,ga|=w,x=x.next;while(x!==i)}else x===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function _g(i){var a=Dr(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var p=d.dispatch,x=d.pending,w=a.memoizedState;if(x!==null){d.pending=null;var I=x=x.next;do w=i(w,I.action),I=I.next;while(I!==x);Zr(w,a.memoizedState)||(Jn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),d.lastRenderedState=w}return[w,p]}function Ew(){}function Nw(i,a){var d=Pt,p=Dr(),x=a(),w=!Zr(p.memoizedState,x);if(w&&(p.memoizedState=x,Jn=!0),p=p.queue,Eg(Cw.bind(null,d,p,i),[i]),p.getSnapshot!==a||w||dn!==null&&dn.memoizedState.tag&1){if(d.flags|=2048,yu(9,Tw.bind(null,d,p,x,a),void 0,null),hn===null)throw Error(n(349));(pa&30)!==0||Aw(d,a,x)}return x}function Aw(i,a,d){i.flags|=16384,i={getSnapshot:a,value:d},a=Pt.updateQueue,a===null?(a={lastEffect:null,stores:null},Pt.updateQueue=a,a.stores=[i]):(d=a.stores,d===null?a.stores=[i]:d.push(i))}function Tw(i,a,d,p){a.value=d,a.getSnapshot=p,Sw(a)&&Iw(i)}function Cw(i,a,d){return d(function(){Sw(a)&&Iw(i)})}function Sw(i){var a=i.getSnapshot;i=i.value;try{var d=a();return!Zr(i,d)}catch{return!0}}function Iw(i){var a=xi(i,1);a!==null&&ss(a,i,1,-1)}function jw(i){var a=Ds();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gu,lastRenderedState:i},a.queue=i,i=i.dispatch=zk.bind(null,Pt,i),[a.memoizedState,i]}function yu(i,a,d,p){return i={tag:i,create:a,destroy:d,deps:p,next:null},a=Pt.updateQueue,a===null?(a={lastEffect:null,stores:null},Pt.updateQueue=a,a.lastEffect=i.next=i):(d=a.lastEffect,d===null?a.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,a.lastEffect=i)),i}function kw(){return Dr().memoizedState}function kh(i,a,d,p){var x=Ds();Pt.flags|=i,x.memoizedState=yu(1|a,d,void 0,p===void 0?null:p)}function Rh(i,a,d,p){var x=Dr();p=p===void 0?null:p;var w=void 0;if(rn!==null){var I=rn.memoizedState;if(w=I.destroy,p!==null&&xg(p,I.deps)){x.memoizedState=yu(a,d,w,p);return}}Pt.flags|=i,x.memoizedState=yu(1|a,d,w,p)}function Rw(i,a){return kh(8390656,8,i,a)}function Eg(i,a){return Rh(2048,8,i,a)}function Pw(i,a){return Rh(4,2,i,a)}function Mw(i,a){return Rh(4,4,i,a)}function Fw(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Dw(i,a,d){return d=d!=null?d.concat([i]):null,Rh(4,4,Fw.bind(null,a,i),d)}function Ng(){}function Ow(i,a){var d=Dr();a=a===void 0?null:a;var p=d.memoizedState;return p!==null&&a!==null&&xg(a,p[1])?p[0]:(d.memoizedState=[i,a],i)}function Vw(i,a){var d=Dr();a=a===void 0?null:a;var p=d.memoizedState;return p!==null&&a!==null&&xg(a,p[1])?p[0]:(i=i(),d.memoizedState=[i,a],i)}function Lw(i,a,d){return(pa&21)===0?(i.baseState&&(i.baseState=!1,Jn=!0),i.memoizedState=d):(Zr(d,a)||(d=Hc(),Pt.lanes|=d,ga|=d,i.baseState=!0),a)}function Lk(i,a){var d=tt;tt=d!==0&&4>d?d:4,i(!0);var p=yg.transition;yg.transition={};try{i(!1),a()}finally{tt=d,yg.transition=p}}function Bw(){return Dr().memoizedState}function Bk(i,a,d){var p=ao(i);if(d={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null},zw(i))Uw(a,d);else if(d=xw(i,a,d,p),d!==null){var x=Un();ss(d,i,p,x),Hw(d,a,p)}}function zk(i,a,d){var p=ao(i),x={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null};if(zw(i))Uw(a,x);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var I=a.lastRenderedState,L=w(I,d);if(x.hasEagerState=!0,x.eagerState=L,Zr(L,I)){var H=a.interleaved;H===null?(x.next=x,dg(a)):(x.next=H.next,H.next=x),a.interleaved=x;return}}catch{}finally{}d=xw(i,a,x,p),d!==null&&(x=Un(),ss(d,i,p,x),Hw(d,a,p))}}function zw(i){var a=i.alternate;return i===Pt||a!==null&&a===Pt}function Uw(i,a){mu=jh=!0;var d=i.pending;d===null?a.next=a:(a.next=d.next,d.next=a),i.pending=a}function Hw(i,a,d){if((d&4194240)!==0){var p=a.lanes;p&=i.pendingLanes,d|=p,a.lanes=d,Wc(i,d)}}var Ph={readContext:Fr,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},Uk={readContext:Fr,useCallback:function(i,a){return Ds().memoizedState=[i,a===void 0?null:a],i},useContext:Fr,useEffect:Rw,useImperativeHandle:function(i,a,d){return d=d!=null?d.concat([i]):null,kh(4194308,4,Fw.bind(null,a,i),d)},useLayoutEffect:function(i,a){return kh(4194308,4,i,a)},useInsertionEffect:function(i,a){return kh(4,2,i,a)},useMemo:function(i,a){var d=Ds();return a=a===void 0?null:a,i=i(),d.memoizedState=[i,a],i},useReducer:function(i,a,d){var p=Ds();return a=d!==void 0?d(a):a,p.memoizedState=p.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},p.queue=i,i=i.dispatch=Bk.bind(null,Pt,i),[p.memoizedState,i]},useRef:function(i){var a=Ds();return i={current:i},a.memoizedState=i},useState:jw,useDebugValue:Ng,useDeferredValue:function(i){return Ds().memoizedState=i},useTransition:function(){var i=jw(!1),a=i[0];return i=Lk.bind(null,i[1]),Ds().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,d){var p=Pt,x=Ds();if(Tt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=a(),hn===null)throw Error(n(349));(pa&30)!==0||Aw(p,a,d)}x.memoizedState=d;var w={value:d,getSnapshot:a};return x.queue=w,Rw(Cw.bind(null,p,w,i),[i]),p.flags|=2048,yu(9,Tw.bind(null,p,w,d,a),void 0,null),d},useId:function(){var i=Ds(),a=hn.identifierPrefix;if(Tt){var d=yi,p=gi;d=(p&~(1<<32-mr(p)-1)).toString(32)+d,a=":"+a+"R"+d,d=pu++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=Vk++,a=":"+a+"r"+d.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},Hk={readContext:Fr,useCallback:Ow,useContext:Fr,useEffect:Eg,useImperativeHandle:Dw,useInsertionEffect:Pw,useLayoutEffect:Mw,useMemo:Vw,useReducer:bg,useRef:kw,useState:function(){return bg(gu)},useDebugValue:Ng,useDeferredValue:function(i){var a=Dr();return Lw(a,rn.memoizedState,i)},useTransition:function(){var i=bg(gu)[0],a=Dr().memoizedState;return[i,a]},useMutableSource:Ew,useSyncExternalStore:Nw,useId:Bw,unstable_isNewReconciler:!1},$k={readContext:Fr,useCallback:Ow,useContext:Fr,useEffect:Eg,useImperativeHandle:Dw,useInsertionEffect:Pw,useLayoutEffect:Mw,useMemo:Vw,useReducer:_g,useRef:kw,useState:function(){return _g(gu)},useDebugValue:Ng,useDeferredValue:function(i){var a=Dr();return rn===null?a.memoizedState=i:Lw(a,rn.memoizedState,i)},useTransition:function(){var i=_g(gu)[0],a=Dr().memoizedState;return[i,a]},useMutableSource:Ew,useSyncExternalStore:Nw,useId:Bw,unstable_isNewReconciler:!1};function ts(i,a){if(i&&i.defaultProps){a=se({},a),i=i.defaultProps;for(var d in i)a[d]===void 0&&(a[d]=i[d]);return a}return a}function Ag(i,a,d,p){a=i.memoizedState,d=d(p,a),d=d==null?a:se({},a,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Mh={isMounted:function(i){return(i=i._reactInternals)?Jr(i)===i:!1},enqueueSetState:function(i,a,d){i=i._reactInternals;var p=Un(),x=ao(i),w=vi(p,x);w.payload=a,d!=null&&(w.callback=d),a=ro(i,w,x),a!==null&&(ss(a,i,x,p),Th(a,i,x))},enqueueReplaceState:function(i,a,d){i=i._reactInternals;var p=Un(),x=ao(i),w=vi(p,x);w.tag=1,w.payload=a,d!=null&&(w.callback=d),a=ro(i,w,x),a!==null&&(ss(a,i,x,p),Th(a,i,x))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var d=Un(),p=ao(i),x=vi(d,p);x.tag=2,a!=null&&(x.callback=a),a=ro(i,x,p),a!==null&&(ss(a,i,p,d),Th(a,i,p))}};function $w(i,a,d,p,x,w,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,w,I):a.prototype&&a.prototype.isPureReactComponent?!ru(d,p)||!ru(x,w):!0}function Ww(i,a,d){var p=!1,x=eo,w=a.contextType;return typeof w=="object"&&w!==null?w=Fr(w):(x=Xn(a)?ua:In.current,p=a.contextTypes,w=(p=p!=null)?wl(i,x):eo),a=new a(d,w),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Mh,i.stateNode=a,a._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=x,i.__reactInternalMemoizedMaskedChildContext=w),a}function Gw(i,a,d,p){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,p),a.state!==i&&Mh.enqueueReplaceState(a,a.state,null)}function Tg(i,a,d,p){var x=i.stateNode;x.props=d,x.state=i.memoizedState,x.refs={},hg(i);var w=a.contextType;typeof w=="object"&&w!==null?x.context=Fr(w):(w=Xn(a)?ua:In.current,x.context=wl(i,w)),x.state=i.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Ag(i,a,w,d),x.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(a=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),a!==x.state&&Mh.enqueueReplaceState(x,x.state,null),Ch(i,d,x,p),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308)}function Sl(i,a){try{var d="",p=a;do d+=ve(p),p=p.return;while(p);var x=d}catch(w){x=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:a,stack:x,digest:null}}function Cg(i,a,d){return{value:i,source:null,stack:d??null,digest:a??null}}function Sg(i,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var Wk=typeof WeakMap=="function"?WeakMap:Map;function qw(i,a,d){d=vi(-1,d),d.tag=3,d.payload={element:null};var p=a.value;return d.callback=function(){zh||(zh=!0,Hg=p),Sg(i,a)},d}function Kw(i,a,d){d=vi(-1,d),d.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var x=a.value;d.payload=function(){return p(x)},d.callback=function(){Sg(i,a)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(d.callback=function(){Sg(i,a),typeof p!="function"&&(io===null?io=new Set([this]):io.add(this));var I=a.stack;this.componentDidCatch(a.value,{componentStack:I!==null?I:""})}),d}function Yw(i,a,d){var p=i.pingCache;if(p===null){p=i.pingCache=new Wk;var x=new Set;p.set(a,x)}else x=p.get(a),x===void 0&&(x=new Set,p.set(a,x));x.has(d)||(x.add(d),i=iR.bind(null,i,a,d),a.then(i,i))}function Xw(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function Jw(i,a,d,p,x){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=vi(-1,1),a.tag=2,ro(d,a,1))),d.lanes|=1),i):(i.flags|=65536,i.lanes=x,i)}var Gk=z.ReactCurrentOwner,Jn=!1;function zn(i,a,d,p){a.child=i===null?yw(a,null,d,p):Nl(a,i.child,d,p)}function Qw(i,a,d,p,x){d=d.render;var w=a.ref;return Tl(a,x),p=vg(i,a,d,p,w,x),d=wg(),i!==null&&!Jn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~x,wi(i,a,x)):(Tt&&d&&ng(a),a.flags|=1,zn(i,a,p,x),a.child)}function Zw(i,a,d,p,x){if(i===null){var w=d.type;return typeof w=="function"&&!Xg(w)&&w.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=w,eb(i,a,w,p,x)):(i=qh(d.type,null,p,a,a.mode,x),i.ref=a.ref,i.return=a,a.child=i)}if(w=i.child,(i.lanes&x)===0){var I=w.memoizedProps;if(d=d.compare,d=d!==null?d:ru,d(I,p)&&i.ref===a.ref)return wi(i,a,x)}return a.flags|=1,i=co(w,p),i.ref=a.ref,i.return=a,a.child=i}function eb(i,a,d,p,x){if(i!==null){var w=i.memoizedProps;if(ru(w,p)&&i.ref===a.ref)if(Jn=!1,a.pendingProps=p=w,(i.lanes&x)!==0)(i.flags&131072)!==0&&(Jn=!0);else return a.lanes=i.lanes,wi(i,a,x)}return Ig(i,a,d,p,x)}function tb(i,a,d){var p=a.pendingProps,x=p.children,w=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(jl,br),br|=d;else{if((d&1073741824)===0)return i=w!==null?w.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,yt(jl,br),br|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:d,yt(jl,br),br|=p}else w!==null?(p=w.baseLanes|d,a.memoizedState=null):p=d,yt(jl,br),br|=p;return zn(i,a,x,d),a.child}function nb(i,a){var d=a.ref;(i===null&&d!==null||i!==null&&i.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function Ig(i,a,d,p,x){var w=Xn(d)?ua:In.current;return w=wl(a,w),Tl(a,x),d=vg(i,a,d,p,w,x),p=wg(),i!==null&&!Jn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~x,wi(i,a,x)):(Tt&&p&&ng(a),a.flags|=1,zn(i,a,d,x),a.child)}function rb(i,a,d,p,x){if(Xn(d)){var w=!0;xh(a)}else w=!1;if(Tl(a,x),a.stateNode===null)Dh(i,a),Ww(a,d,p),Tg(a,d,p,x),p=!0;else if(i===null){var I=a.stateNode,L=a.memoizedProps;I.props=L;var H=I.context,Q=d.contextType;typeof Q=="object"&&Q!==null?Q=Fr(Q):(Q=Xn(d)?ua:In.current,Q=wl(a,Q));var ae=d.getDerivedStateFromProps,de=typeof ae=="function"||typeof I.getSnapshotBeforeUpdate=="function";de||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(L!==p||H!==Q)&&Gw(a,I,p,Q),no=!1;var oe=a.memoizedState;I.state=oe,Ch(a,p,I,x),H=a.memoizedState,L!==p||oe!==H||Yn.current||no?(typeof ae=="function"&&(Ag(a,d,ae,p),H=a.memoizedState),(L=no||$w(a,d,L,p,oe,H,Q))?(de||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(a.flags|=4194308)):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=H),I.props=p,I.state=H,I.context=Q,p=L):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{I=a.stateNode,vw(i,a),L=a.memoizedProps,Q=a.type===a.elementType?L:ts(a.type,L),I.props=Q,de=a.pendingProps,oe=I.context,H=d.contextType,typeof H=="object"&&H!==null?H=Fr(H):(H=Xn(d)?ua:In.current,H=wl(a,H));var we=d.getDerivedStateFromProps;(ae=typeof we=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(L!==de||oe!==H)&&Gw(a,I,p,H),no=!1,oe=a.memoizedState,I.state=oe,Ch(a,p,I,x);var Ne=a.memoizedState;L!==de||oe!==Ne||Yn.current||no?(typeof we=="function"&&(Ag(a,d,we,p),Ne=a.memoizedState),(Q=no||$w(a,d,Q,p,oe,Ne,H)||!1)?(ae||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(p,Ne,H),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(p,Ne,H)),typeof I.componentDidUpdate=="function"&&(a.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof I.componentDidUpdate!="function"||L===i.memoizedProps&&oe===i.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&oe===i.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Ne),I.props=p,I.state=Ne,I.context=H,p=Q):(typeof I.componentDidUpdate!="function"||L===i.memoizedProps&&oe===i.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&oe===i.memoizedState||(a.flags|=1024),p=!1)}return jg(i,a,d,p,w,x)}function jg(i,a,d,p,x,w){nb(i,a);var I=(a.flags&128)!==0;if(!p&&!I)return x&&lw(a,d,!1),wi(i,a,w);p=a.stateNode,Gk.current=a;var L=I&&typeof d.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,i!==null&&I?(a.child=Nl(a,i.child,null,w),a.child=Nl(a,null,L,w)):zn(i,a,L,w),a.memoizedState=p.state,x&&lw(a,d,!0),a.child}function sb(i){var a=i.stateNode;a.pendingContext?ow(i,a.pendingContext,a.pendingContext!==a.context):a.context&&ow(i,a.context,!1),fg(i,a.containerInfo)}function ib(i,a,d,p,x){return El(),og(x),a.flags|=256,zn(i,a,d,p),a.child}var kg={dehydrated:null,treeContext:null,retryLane:0};function Rg(i){return{baseLanes:i,cachePool:null,transitions:null}}function ob(i,a,d){var p=a.pendingProps,x=Rt.current,w=!1,I=(a.flags&128)!==0,L;if((L=I)||(L=i!==null&&i.memoizedState===null?!1:(x&2)!==0),L?(w=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(x|=1),yt(Rt,x&1),i===null)return ig(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(I=p.children,i=p.fallback,w?(p=a.mode,w=a.child,I={mode:"hidden",children:I},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=I):w=Kh(I,p,0,null),i=wa(i,p,d,null),w.return=a,i.return=a,w.sibling=i,a.child=w,a.child.memoizedState=Rg(d),a.memoizedState=kg,i):Pg(a,I));if(x=i.memoizedState,x!==null&&(L=x.dehydrated,L!==null))return qk(i,a,I,p,L,x,d);if(w){w=p.fallback,I=a.mode,x=i.child,L=x.sibling;var H={mode:"hidden",children:p.children};return(I&1)===0&&a.child!==x?(p=a.child,p.childLanes=0,p.pendingProps=H,a.deletions=null):(p=co(x,H),p.subtreeFlags=x.subtreeFlags&14680064),L!==null?w=co(L,w):(w=wa(w,I,d,null),w.flags|=2),w.return=a,p.return=a,p.sibling=w,a.child=p,p=w,w=a.child,I=i.child.memoizedState,I=I===null?Rg(d):{baseLanes:I.baseLanes|d,cachePool:null,transitions:I.transitions},w.memoizedState=I,w.childLanes=i.childLanes&~d,a.memoizedState=kg,p}return w=i.child,i=w.sibling,p=co(w,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=d),p.return=a,p.sibling=null,i!==null&&(d=a.deletions,d===null?(a.deletions=[i],a.flags|=16):d.push(i)),a.child=p,a.memoizedState=null,p}function Pg(i,a){return a=Kh({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function Fh(i,a,d,p){return p!==null&&og(p),Nl(a,i.child,null,d),i=Pg(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function qk(i,a,d,p,x,w,I){if(d)return a.flags&256?(a.flags&=-257,p=Cg(Error(n(422))),Fh(i,a,I,p)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(w=p.fallback,x=a.mode,p=Kh({mode:"visible",children:p.children},x,0,null),w=wa(w,x,I,null),w.flags|=2,p.return=a,w.return=a,p.sibling=w,a.child=p,(a.mode&1)!==0&&Nl(a,i.child,null,I),a.child.memoizedState=Rg(I),a.memoizedState=kg,w);if((a.mode&1)===0)return Fh(i,a,I,null);if(x.data==="$!"){if(p=x.nextSibling&&x.nextSibling.dataset,p)var L=p.dgst;return p=L,w=Error(n(419)),p=Cg(w,p,void 0),Fh(i,a,I,p)}if(L=(I&i.childLanes)!==0,Jn||L){if(p=hn,p!==null){switch(I&-I){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(p.suspendedLanes|I))!==0?0:x,x!==0&&x!==w.retryLane&&(w.retryLane=x,xi(i,x),ss(p,i,x,-1))}return Yg(),p=Cg(Error(n(421))),Fh(i,a,I,p)}return x.data==="$?"?(a.flags|=128,a.child=i.child,a=oR.bind(null,i),x._reactRetry=a,null):(i=w.treeContext,wr=Qi(x.nextSibling),vr=a,Tt=!0,es=null,i!==null&&(Pr[Mr++]=gi,Pr[Mr++]=yi,Pr[Mr++]=da,gi=i.id,yi=i.overflow,da=a),a=Pg(a,p.children),a.flags|=4096,a)}function ab(i,a,d){i.lanes|=a;var p=i.alternate;p!==null&&(p.lanes|=a),ug(i.return,a,d)}function Mg(i,a,d,p,x){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:x}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=d,w.tailMode=x)}function lb(i,a,d){var p=a.pendingProps,x=p.revealOrder,w=p.tail;if(zn(i,a,p.children,d),p=Rt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ab(i,d,a);else if(i.tag===19)ab(i,d,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(yt(Rt,p),(a.mode&1)===0)a.memoizedState=null;else switch(x){case"forwards":for(d=a.child,x=null;d!==null;)i=d.alternate,i!==null&&Sh(i)===null&&(x=d),d=d.sibling;d=x,d===null?(x=a.child,a.child=null):(x=d.sibling,d.sibling=null),Mg(a,!1,x,d,w);break;case"backwards":for(d=null,x=a.child,a.child=null;x!==null;){if(i=x.alternate,i!==null&&Sh(i)===null){a.child=x;break}i=x.sibling,x.sibling=d,d=x,x=i}Mg(a,!0,d,null,w);break;case"together":Mg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Dh(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function wi(i,a,d){if(i!==null&&(a.dependencies=i.dependencies),ga|=a.lanes,(d&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,d=co(i,i.pendingProps),a.child=d,d.return=a;i.sibling!==null;)i=i.sibling,d=d.sibling=co(i,i.pendingProps),d.return=a;d.sibling=null}return a.child}function Kk(i,a,d){switch(a.tag){case 3:sb(a),El();break;case 5:_w(a);break;case 1:Xn(a.type)&&xh(a);break;case 4:fg(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,x=a.memoizedProps.value;yt(Nh,p._currentValue),p._currentValue=x;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(yt(Rt,Rt.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?ob(i,a,d):(yt(Rt,Rt.current&1),i=wi(i,a,d),i!==null?i.sibling:null);yt(Rt,Rt.current&1);break;case 19:if(p=(d&a.childLanes)!==0,(i.flags&128)!==0){if(p)return lb(i,a,d);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),yt(Rt,Rt.current),p)break;return null;case 22:case 23:return a.lanes=0,tb(i,a,d)}return wi(i,a,d)}var cb,Fg,ub,db;cb=function(i,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Fg=function(){},ub=function(i,a,d,p){var x=i.memoizedProps;if(x!==p){i=a.stateNode,ma(Fs.current);var w=null;switch(d){case"input":x=ln(i,x),p=ln(i,p),w=[];break;case"select":x=se({},x,{value:void 0}),p=se({},p,{value:void 0}),w=[];break;case"textarea":x=nn(i,x),p=nn(i,p),w=[];break;default:typeof x.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=ph)}Kn(d,p);var I;d=null;for(Q in x)if(!p.hasOwnProperty(Q)&&x.hasOwnProperty(Q)&&x[Q]!=null)if(Q==="style"){var L=x[Q];for(I in L)L.hasOwnProperty(I)&&(d||(d={}),d[I]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(s.hasOwnProperty(Q)?w||(w=[]):(w=w||[]).push(Q,null));for(Q in p){var H=p[Q];if(L=x?.[Q],p.hasOwnProperty(Q)&&H!==L&&(H!=null||L!=null))if(Q==="style")if(L){for(I in L)!L.hasOwnProperty(I)||H&&H.hasOwnProperty(I)||(d||(d={}),d[I]="");for(I in H)H.hasOwnProperty(I)&&L[I]!==H[I]&&(d||(d={}),d[I]=H[I])}else d||(w||(w=[]),w.push(Q,d)),d=H;else Q==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,L=L?L.__html:void 0,H!=null&&L!==H&&(w=w||[]).push(Q,H)):Q==="children"?typeof H!="string"&&typeof H!="number"||(w=w||[]).push(Q,""+H):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(s.hasOwnProperty(Q)?(H!=null&&Q==="onScroll"&&_t("scroll",i),w||L===H||(w=[])):(w=w||[]).push(Q,H))}d&&(w=w||[]).push("style",d);var Q=w;(a.updateQueue=Q)&&(a.flags|=4)}},db=function(i,a,d,p){d!==p&&(a.flags|=4)};function xu(i,a){if(!Tt)switch(i.tailMode){case"hidden":a=i.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function kn(i){var a=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(a)for(var x=i.child;x!==null;)d|=x.lanes|x.childLanes,p|=x.subtreeFlags&14680064,p|=x.flags&14680064,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)d|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=p,i.childLanes=d,a}function Yk(i,a,d){var p=a.pendingProps;switch(rg(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(a),null;case 1:return Xn(a.type)&&yh(),kn(a),null;case 3:return p=a.stateNode,Cl(),Et(Yn),Et(In),gg(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(_h(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,es!==null&&(Gg(es),es=null))),Fg(i,a),kn(a),null;case 5:mg(a);var x=ma(fu.current);if(d=a.type,i!==null&&a.stateNode!=null)ub(i,a,d,p,x),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(n(166));return kn(a),null}if(i=ma(Fs.current),_h(a)){p=a.stateNode,d=a.type;var w=a.memoizedProps;switch(p[Ms]=a,p[lu]=w,i=(a.mode&1)!==0,d){case"dialog":_t("cancel",p),_t("close",p);break;case"iframe":case"object":case"embed":_t("load",p);break;case"video":case"audio":for(x=0;x<iu.length;x++)_t(iu[x],p);break;case"source":_t("error",p);break;case"img":case"image":case"link":_t("error",p),_t("load",p);break;case"details":_t("toggle",p);break;case"input":xs(p,w),_t("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},_t("invalid",p);break;case"textarea":Sr(p,w),_t("invalid",p)}Kn(d,w),x=null;for(var I in w)if(w.hasOwnProperty(I)){var L=w[I];I==="children"?typeof L=="string"?p.textContent!==L&&(w.suppressHydrationWarning!==!0&&mh(p.textContent,L,i),x=["children",L]):typeof L=="number"&&p.textContent!==""+L&&(w.suppressHydrationWarning!==!0&&mh(p.textContent,L,i),x=["children",""+L]):s.hasOwnProperty(I)&&L!=null&&I==="onScroll"&&_t("scroll",p)}switch(d){case"input":Ge(p),Vi(p,w,!0);break;case"textarea":Ge(p),vs(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=ph)}p=x,a.updateQueue=p,p!==null&&(a.flags|=4)}else{I=x.nodeType===9?x:x.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ws(d)),i==="http://www.w3.org/1999/xhtml"?d==="script"?(i=I.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=I.createElement(d,{is:p.is}):(i=I.createElement(d),d==="select"&&(I=i,p.multiple?I.multiple=!0:p.size&&(I.size=p.size))):i=I.createElementNS(i,d),i[Ms]=a,i[lu]=p,cb(i,a,!1,!1),a.stateNode=i;e:{switch(I=Hi(d,p),d){case"dialog":_t("cancel",i),_t("close",i),x=p;break;case"iframe":case"object":case"embed":_t("load",i),x=p;break;case"video":case"audio":for(x=0;x<iu.length;x++)_t(iu[x],i);x=p;break;case"source":_t("error",i),x=p;break;case"img":case"image":case"link":_t("error",i),_t("load",i),x=p;break;case"details":_t("toggle",i),x=p;break;case"input":xs(i,p),x=ln(i,p),_t("invalid",i);break;case"option":x=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},x=se({},p,{value:void 0}),_t("invalid",i);break;case"textarea":Sr(i,p),x=nn(i,p),_t("invalid",i);break;default:x=p}Kn(d,x),L=x;for(w in L)if(L.hasOwnProperty(w)){var H=L[w];w==="style"?zi(i,H):w==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Bi(i,H)):w==="children"?typeof H=="string"?(d!=="textarea"||H!=="")&&qn(i,H):typeof H=="number"&&qn(i,""+H):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?H!=null&&w==="onScroll"&&_t("scroll",i):H!=null&&R(i,w,H,I))}switch(d){case"input":Ge(i),Vi(i,p,!1);break;case"textarea":Ge(i),vs(i);break;case"option":p.value!=null&&i.setAttribute("value",""+pe(p.value));break;case"select":i.multiple=!!p.multiple,w=p.value,w!=null?dr(i,!!p.multiple,w,!1):p.defaultValue!=null&&dr(i,!!p.multiple,p.defaultValue,!0);break;default:typeof x.onClick=="function"&&(i.onclick=ph)}switch(d){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return kn(a),null;case 6:if(i&&a.stateNode!=null)db(i,a,i.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(n(166));if(d=ma(fu.current),ma(Fs.current),_h(a)){if(p=a.stateNode,d=a.memoizedProps,p[Ms]=a,(w=p.nodeValue!==d)&&(i=vr,i!==null))switch(i.tag){case 3:mh(p.nodeValue,d,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&mh(p.nodeValue,d,(i.mode&1)!==0)}w&&(a.flags|=4)}else p=(d.nodeType===9?d:d.ownerDocument).createTextNode(p),p[Ms]=a,a.stateNode=p}return kn(a),null;case 13:if(Et(Rt),p=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Tt&&wr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)mw(),El(),a.flags|=98560,w=!1;else if(w=_h(a),p!==null&&p.dehydrated!==null){if(i===null){if(!w)throw Error(n(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Ms]=a}else El(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;kn(a),w=!1}else es!==null&&(Gg(es),es=null),w=!0;if(!w)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(Rt.current&1)!==0?sn===0&&(sn=3):Yg())),a.updateQueue!==null&&(a.flags|=4),kn(a),null);case 4:return Cl(),Fg(i,a),i===null&&ou(a.stateNode.containerInfo),kn(a),null;case 10:return cg(a.type._context),kn(a),null;case 17:return Xn(a.type)&&yh(),kn(a),null;case 19:if(Et(Rt),w=a.memoizedState,w===null)return kn(a),null;if(p=(a.flags&128)!==0,I=w.rendering,I===null)if(p)xu(w,!1);else{if(sn!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(I=Sh(i),I!==null){for(a.flags|=128,xu(w,!1),p=I.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=d,d=a.child;d!==null;)w=d,i=p,w.flags&=14680066,I=w.alternate,I===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=I.childLanes,w.lanes=I.lanes,w.child=I.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=I.memoizedProps,w.memoizedState=I.memoizedState,w.updateQueue=I.updateQueue,w.type=I.type,i=I.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),d=d.sibling;return yt(Rt,Rt.current&1|2),a.child}i=i.sibling}w.tail!==null&&bt()>kl&&(a.flags|=128,p=!0,xu(w,!1),a.lanes=4194304)}else{if(!p)if(i=Sh(I),i!==null){if(a.flags|=128,p=!0,d=i.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),xu(w,!0),w.tail===null&&w.tailMode==="hidden"&&!I.alternate&&!Tt)return kn(a),null}else 2*bt()-w.renderingStartTime>kl&&d!==1073741824&&(a.flags|=128,p=!0,xu(w,!1),a.lanes=4194304);w.isBackwards?(I.sibling=a.child,a.child=I):(d=w.last,d!==null?d.sibling=I:a.child=I,w.last=I)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=bt(),a.sibling=null,d=Rt.current,yt(Rt,p?d&1|2:d&1),a):(kn(a),null);case 22:case 23:return Kg(),p=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(br&1073741824)!==0&&(kn(a),a.subtreeFlags&6&&(a.flags|=8192)):kn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function Xk(i,a){switch(rg(a),a.tag){case 1:return Xn(a.type)&&yh(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Cl(),Et(Yn),Et(In),gg(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return mg(a),null;case 13:if(Et(Rt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));El()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Et(Rt),null;case 4:return Cl(),null;case 10:return cg(a.type._context),null;case 22:case 23:return Kg(),null;case 24:return null;default:return null}}var Oh=!1,Rn=!1,Jk=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Il(i,a){var d=i.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(p){Lt(i,a,p)}else d.current=null}function Dg(i,a,d){try{d()}catch(p){Lt(i,a,p)}}var hb=!1;function Qk(i,a){if(Kp=di,i=$1(),Bp(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var x=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var I=0,L=-1,H=-1,Q=0,ae=0,de=i,oe=null;t:for(;;){for(var we;de!==d||x!==0&&de.nodeType!==3||(L=I+x),de!==w||p!==0&&de.nodeType!==3||(H=I+p),de.nodeType===3&&(I+=de.nodeValue.length),(we=de.firstChild)!==null;)oe=de,de=we;for(;;){if(de===i)break t;if(oe===d&&++Q===x&&(L=I),oe===w&&++ae===p&&(H=I),(we=de.nextSibling)!==null)break;de=oe,oe=de.parentNode}de=we}d=L===-1||H===-1?null:{start:L,end:H}}else d=null}d=d||{start:0,end:0}}else d=null;for(Yp={focusedElem:i,selectionRange:d},di=!1,_e=a;_e!==null;)if(a=_e,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,_e=i;else for(;_e!==null;){a=_e;try{var Ne=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var Se=Ne.memoizedProps,$t=Ne.memoizedState,Y=a.stateNode,W=Y.getSnapshotBeforeUpdate(a.elementType===a.type?Se:ts(a.type,Se),$t);Y.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){Lt(a,a.return,he)}if(i=a.sibling,i!==null){i.return=a.return,_e=i;break}_e=a.return}return Ne=hb,hb=!1,Ne}function vu(i,a,d){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var x=p=p.next;do{if((x.tag&i)===i){var w=x.destroy;x.destroy=void 0,w!==void 0&&Dg(a,d,w)}x=x.next}while(x!==p)}}function Vh(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&i)===i){var p=d.create;d.destroy=p()}d=d.next}while(d!==a)}}function Og(i){var a=i.ref;if(a!==null){var d=i.stateNode;switch(i.tag){case 5:i=d;break;default:i=d}typeof a=="function"?a(i):a.current=i}}function fb(i){var a=i.alternate;a!==null&&(i.alternate=null,fb(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Ms],delete a[lu],delete a[Zp],delete a[Mk],delete a[Fk])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function mb(i){return i.tag===5||i.tag===3||i.tag===4}function pb(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||mb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vg(i,a,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(i,a):d.insertBefore(i,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(i,d)):(a=d,a.appendChild(i)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=ph));else if(p!==4&&(i=i.child,i!==null))for(Vg(i,a,d),i=i.sibling;i!==null;)Vg(i,a,d),i=i.sibling}function Lg(i,a,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?d.insertBefore(i,a):d.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(Lg(i,a,d),i=i.sibling;i!==null;)Lg(i,a,d),i=i.sibling}var wn=null,ns=!1;function so(i,a,d){for(d=d.child;d!==null;)gb(i,a,d),d=d.sibling}function gb(i,a,d){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(ea,d)}catch{}switch(d.tag){case 5:Rn||Il(d,a);case 6:var p=wn,x=ns;wn=null,so(i,a,d),wn=p,ns=x,wn!==null&&(ns?(i=wn,d=d.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)):wn.removeChild(d.stateNode));break;case 18:wn!==null&&(ns?(i=wn,d=d.stateNode,i.nodeType===8?Qp(i.parentNode,d):i.nodeType===1&&Qp(i,d),Ki(i)):Qp(wn,d.stateNode));break;case 4:p=wn,x=ns,wn=d.stateNode.containerInfo,ns=!0,so(i,a,d),wn=p,ns=x;break;case 0:case 11:case 14:case 15:if(!Rn&&(p=d.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){x=p=p.next;do{var w=x,I=w.destroy;w=w.tag,I!==void 0&&((w&2)!==0||(w&4)!==0)&&Dg(d,a,I),x=x.next}while(x!==p)}so(i,a,d);break;case 1:if(!Rn&&(Il(d,a),p=d.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=d.memoizedProps,p.state=d.memoizedState,p.componentWillUnmount()}catch(L){Lt(d,a,L)}so(i,a,d);break;case 21:so(i,a,d);break;case 22:d.mode&1?(Rn=(p=Rn)||d.memoizedState!==null,so(i,a,d),Rn=p):so(i,a,d);break;default:so(i,a,d)}}function yb(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var d=i.stateNode;d===null&&(d=i.stateNode=new Jk),a.forEach(function(p){var x=aR.bind(null,i,p);d.has(p)||(d.add(p),p.then(x,x))})}}function rs(i,a){var d=a.deletions;if(d!==null)for(var p=0;p<d.length;p++){var x=d[p];try{var w=i,I=a,L=I;e:for(;L!==null;){switch(L.tag){case 5:wn=L.stateNode,ns=!1;break e;case 3:wn=L.stateNode.containerInfo,ns=!0;break e;case 4:wn=L.stateNode.containerInfo,ns=!0;break e}L=L.return}if(wn===null)throw Error(n(160));gb(w,I,x),wn=null,ns=!1;var H=x.alternate;H!==null&&(H.return=null),x.return=null}catch(Q){Lt(x,a,Q)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)xb(a,i),a=a.sibling}function xb(i,a){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(rs(a,i),Os(i),p&4){try{vu(3,i,i.return),Vh(3,i)}catch(Se){Lt(i,i.return,Se)}try{vu(5,i,i.return)}catch(Se){Lt(i,i.return,Se)}}break;case 1:rs(a,i),Os(i),p&512&&d!==null&&Il(d,d.return);break;case 5:if(rs(a,i),Os(i),p&512&&d!==null&&Il(d,d.return),i.flags&32){var x=i.stateNode;try{qn(x,"")}catch(Se){Lt(i,i.return,Se)}}if(p&4&&(x=i.stateNode,x!=null)){var w=i.memoizedProps,I=d!==null?d.memoizedProps:w,L=i.type,H=i.updateQueue;if(i.updateQueue=null,H!==null)try{L==="input"&&w.type==="radio"&&w.name!=null&&ur(x,w),Hi(L,I);var Q=Hi(L,w);for(I=0;I<H.length;I+=2){var ae=H[I],de=H[I+1];ae==="style"?zi(x,de):ae==="dangerouslySetInnerHTML"?Bi(x,de):ae==="children"?qn(x,de):R(x,ae,de,Q)}switch(L){case"input":yn(x,w);break;case"textarea":Qa(x,w);break;case"select":var oe=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!w.multiple;var we=w.value;we!=null?dr(x,!!w.multiple,we,!1):oe!==!!w.multiple&&(w.defaultValue!=null?dr(x,!!w.multiple,w.defaultValue,!0):dr(x,!!w.multiple,w.multiple?[]:"",!1))}x[lu]=w}catch(Se){Lt(i,i.return,Se)}}break;case 6:if(rs(a,i),Os(i),p&4){if(i.stateNode===null)throw Error(n(162));x=i.stateNode,w=i.memoizedProps;try{x.nodeValue=w}catch(Se){Lt(i,i.return,Se)}}break;case 3:if(rs(a,i),Os(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Ki(a.containerInfo)}catch(Se){Lt(i,i.return,Se)}break;case 4:rs(a,i),Os(i);break;case 13:rs(a,i),Os(i),x=i.child,x.flags&8192&&(w=x.memoizedState!==null,x.stateNode.isHidden=w,!w||x.alternate!==null&&x.alternate.memoizedState!==null||(Ug=bt())),p&4&&yb(i);break;case 22:if(ae=d!==null&&d.memoizedState!==null,i.mode&1?(Rn=(Q=Rn)||ae,rs(a,i),Rn=Q):rs(a,i),Os(i),p&8192){if(Q=i.memoizedState!==null,(i.stateNode.isHidden=Q)&&!ae&&(i.mode&1)!==0)for(_e=i,ae=i.child;ae!==null;){for(de=_e=ae;_e!==null;){switch(oe=_e,we=oe.child,oe.tag){case 0:case 11:case 14:case 15:vu(4,oe,oe.return);break;case 1:Il(oe,oe.return);var Ne=oe.stateNode;if(typeof Ne.componentWillUnmount=="function"){p=oe,d=oe.return;try{a=p,Ne.props=a.memoizedProps,Ne.state=a.memoizedState,Ne.componentWillUnmount()}catch(Se){Lt(p,d,Se)}}break;case 5:Il(oe,oe.return);break;case 22:if(oe.memoizedState!==null){bb(de);continue}}we!==null?(we.return=oe,_e=we):bb(de)}ae=ae.sibling}e:for(ae=null,de=i;;){if(de.tag===5){if(ae===null){ae=de;try{x=de.stateNode,Q?(w=x.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(L=de.stateNode,H=de.memoizedProps.style,I=H!=null&&H.hasOwnProperty("display")?H.display:null,L.style.display=bs("display",I))}catch(Se){Lt(i,i.return,Se)}}}else if(de.tag===6){if(ae===null)try{de.stateNode.nodeValue=Q?"":de.memoizedProps}catch(Se){Lt(i,i.return,Se)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===i)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===i)break e;for(;de.sibling===null;){if(de.return===null||de.return===i)break e;ae===de&&(ae=null),de=de.return}ae===de&&(ae=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:rs(a,i),Os(i),p&4&&yb(i);break;case 21:break;default:rs(a,i),Os(i)}}function Os(i){var a=i.flags;if(a&2){try{e:{for(var d=i.return;d!==null;){if(mb(d)){var p=d;break e}d=d.return}throw Error(n(160))}switch(p.tag){case 5:var x=p.stateNode;p.flags&32&&(qn(x,""),p.flags&=-33);var w=pb(i);Lg(i,w,x);break;case 3:case 4:var I=p.stateNode.containerInfo,L=pb(i);Vg(i,L,I);break;default:throw Error(n(161))}}catch(H){Lt(i,i.return,H)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Zk(i,a,d){_e=i,vb(i)}function vb(i,a,d){for(var p=(i.mode&1)!==0;_e!==null;){var x=_e,w=x.child;if(x.tag===22&&p){var I=x.memoizedState!==null||Oh;if(!I){var L=x.alternate,H=L!==null&&L.memoizedState!==null||Rn;L=Oh;var Q=Rn;if(Oh=I,(Rn=H)&&!Q)for(_e=x;_e!==null;)I=_e,H=I.child,I.tag===22&&I.memoizedState!==null?_b(x):H!==null?(H.return=I,_e=H):_b(x);for(;w!==null;)_e=w,vb(w),w=w.sibling;_e=x,Oh=L,Rn=Q}wb(i)}else(x.subtreeFlags&8772)!==0&&w!==null?(w.return=x,_e=w):wb(i)}}function wb(i){for(;_e!==null;){var a=_e;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Rn||Vh(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!Rn)if(d===null)p.componentDidMount();else{var x=a.elementType===a.type?d.memoizedProps:ts(a.type,d.memoizedProps);p.componentDidUpdate(x,d.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&bw(a,w,p);break;case 3:var I=a.updateQueue;if(I!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}bw(a,I,d)}break;case 5:var L=a.stateNode;if(d===null&&a.flags&4){d=L;var H=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&d.focus();break;case"img":H.src&&(d.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Q=a.alternate;if(Q!==null){var ae=Q.memoizedState;if(ae!==null){var de=ae.dehydrated;de!==null&&Ki(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Rn||a.flags&512&&Og(a)}catch(oe){Lt(a,a.return,oe)}}if(a===i){_e=null;break}if(d=a.sibling,d!==null){d.return=a.return,_e=d;break}_e=a.return}}function bb(i){for(;_e!==null;){var a=_e;if(a===i){_e=null;break}var d=a.sibling;if(d!==null){d.return=a.return,_e=d;break}_e=a.return}}function _b(i){for(;_e!==null;){var a=_e;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{Vh(4,a)}catch(H){Lt(a,d,H)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var x=a.return;try{p.componentDidMount()}catch(H){Lt(a,x,H)}}var w=a.return;try{Og(a)}catch(H){Lt(a,w,H)}break;case 5:var I=a.return;try{Og(a)}catch(H){Lt(a,I,H)}}}catch(H){Lt(a,a.return,H)}if(a===i){_e=null;break}var L=a.sibling;if(L!==null){L.return=a.return,_e=L;break}_e=a.return}}var eR=Math.ceil,Lh=z.ReactCurrentDispatcher,Bg=z.ReactCurrentOwner,Or=z.ReactCurrentBatchConfig,st=0,hn=null,Jt=null,bn=0,br=0,jl=Zi(0),sn=0,wu=null,ga=0,Bh=0,zg=0,bu=null,Qn=null,Ug=0,kl=1/0,bi=null,zh=!1,Hg=null,io=null,Uh=!1,oo=null,Hh=0,_u=0,$g=null,$h=-1,Wh=0;function Un(){return(st&6)!==0?bt():$h!==-1?$h:$h=bt()}function ao(i){return(i.mode&1)===0?1:(st&2)!==0&&bn!==0?bn&-bn:Ok.transition!==null?(Wh===0&&(Wh=Hc()),Wh):(i=tt,i!==0||(i=window.event,i=i===void 0?16:ol(i.type)),i)}function ss(i,a,d,p){if(50<_u)throw _u=0,$g=null,Error(n(185));sa(i,d,p),((st&2)===0||i!==hn)&&(i===hn&&((st&2)===0&&(Bh|=d),sn===4&&lo(i,bn)),Zn(i,p),d===1&&st===0&&(a.mode&1)===0&&(kl=bt()+500,vh&&to()))}function Zn(i,a){var d=i.callbackNode;ra(i,a);var p=li(i,i===hn?bn:0);if(p===0)d!==null&&Za(d),i.callbackNode=null,i.callbackPriority=0;else if(a=p&-p,i.callbackPriority!==a){if(d!=null&&Za(d),a===1)i.tag===0?Dk(Nb.bind(null,i)):cw(Nb.bind(null,i)),Rk(function(){(st&6)===0&&to()}),d=null;else{switch(Ns(p)){case 1:d=el;break;case 4:d=Bc;break;case 16:d=Zo;break;case 536870912:d=tl;break;default:d=Zo}d=Rb(d,Eb.bind(null,i))}i.callbackPriority=a,i.callbackNode=d}}function Eb(i,a){if($h=-1,Wh=0,(st&6)!==0)throw Error(n(327));var d=i.callbackNode;if(Rl()&&i.callbackNode!==d)return null;var p=li(i,i===hn?bn:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||a)a=Gh(i,p);else{a=p;var x=st;st|=2;var w=Tb();(hn!==i||bn!==a)&&(bi=null,kl=bt()+500,xa(i,a));do try{rR();break}catch(L){Ab(i,L)}while(!0);lg(),Lh.current=w,st=x,Jt!==null?a=0:(hn=null,bn=0,a=sn)}if(a!==0){if(a===2&&(x=Uc(i),x!==0&&(p=x,a=Wg(i,x))),a===1)throw d=wu,xa(i,0),lo(i,p),Zn(i,bt()),d;if(a===6)lo(i,p);else{if(x=i.current.alternate,(p&30)===0&&!tR(x)&&(a=Gh(i,p),a===2&&(w=Uc(i),w!==0&&(p=w,a=Wg(i,w))),a===1))throw d=wu,xa(i,0),lo(i,p),Zn(i,bt()),d;switch(i.finishedWork=x,i.finishedLanes=p,a){case 0:case 1:throw Error(n(345));case 2:va(i,Qn,bi);break;case 3:if(lo(i,p),(p&130023424)===p&&(a=Ug+500-bt(),10<a)){if(li(i,0)!==0)break;if(x=i.suspendedLanes,(x&p)!==p){Un(),i.pingedLanes|=i.suspendedLanes&x;break}i.timeoutHandle=Jp(va.bind(null,i,Qn,bi),a);break}va(i,Qn,bi);break;case 4:if(lo(i,p),(p&4194240)===p)break;for(a=i.eventTimes,x=-1;0<p;){var I=31-mr(p);w=1<<I,I=a[I],I>x&&(x=I),p&=~w}if(p=x,p=bt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*eR(p/1960))-p,10<p){i.timeoutHandle=Jp(va.bind(null,i,Qn,bi),p);break}va(i,Qn,bi);break;case 5:va(i,Qn,bi);break;default:throw Error(n(329))}}}return Zn(i,bt()),i.callbackNode===d?Eb.bind(null,i):null}function Wg(i,a){var d=bu;return i.current.memoizedState.isDehydrated&&(xa(i,a).flags|=256),i=Gh(i,a),i!==2&&(a=Qn,Qn=d,a!==null&&Gg(a)),i}function Gg(i){Qn===null?Qn=i:Qn.push.apply(Qn,i)}function tR(i){for(var a=i;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var p=0;p<d.length;p++){var x=d[p],w=x.getSnapshot;x=x.value;try{if(!Zr(w(),x))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function lo(i,a){for(a&=~zg,a&=~Bh,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var d=31-mr(a),p=1<<d;i[d]=-1,a&=~p}}function Nb(i){if((st&6)!==0)throw Error(n(327));Rl();var a=li(i,0);if((a&1)===0)return Zn(i,bt()),null;var d=Gh(i,a);if(i.tag!==0&&d===2){var p=Uc(i);p!==0&&(a=p,d=Wg(i,p))}if(d===1)throw d=wu,xa(i,0),lo(i,a),Zn(i,bt()),d;if(d===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,va(i,Qn,bi),Zn(i,bt()),null}function qg(i,a){var d=st;st|=1;try{return i(a)}finally{st=d,st===0&&(kl=bt()+500,vh&&to())}}function ya(i){oo!==null&&oo.tag===0&&(st&6)===0&&Rl();var a=st;st|=1;var d=Or.transition,p=tt;try{if(Or.transition=null,tt=1,i)return i()}finally{tt=p,Or.transition=d,st=a,(st&6)===0&&to()}}function Kg(){br=jl.current,Et(jl)}function xa(i,a){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;if(d!==-1&&(i.timeoutHandle=-1,kk(d)),Jt!==null)for(d=Jt.return;d!==null;){var p=d;switch(rg(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&yh();break;case 3:Cl(),Et(Yn),Et(In),gg();break;case 5:mg(p);break;case 4:Cl();break;case 13:Et(Rt);break;case 19:Et(Rt);break;case 10:cg(p.type._context);break;case 22:case 23:Kg()}d=d.return}if(hn=i,Jt=i=co(i.current,null),bn=br=a,sn=0,wu=null,zg=Bh=ga=0,Qn=bu=null,fa!==null){for(a=0;a<fa.length;a++)if(d=fa[a],p=d.interleaved,p!==null){d.interleaved=null;var x=p.next,w=d.pending;if(w!==null){var I=w.next;w.next=x,p.next=I}d.pending=p}fa=null}return i}function Ab(i,a){do{var d=Jt;try{if(lg(),Ih.current=Ph,jh){for(var p=Pt.memoizedState;p!==null;){var x=p.queue;x!==null&&(x.pending=null),p=p.next}jh=!1}if(pa=0,dn=rn=Pt=null,mu=!1,pu=0,Bg.current=null,d===null||d.return===null){sn=1,wu=a,Jt=null;break}e:{var w=i,I=d.return,L=d,H=a;if(a=bn,L.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var Q=H,ae=L,de=ae.tag;if((ae.mode&1)===0&&(de===0||de===11||de===15)){var oe=ae.alternate;oe?(ae.updateQueue=oe.updateQueue,ae.memoizedState=oe.memoizedState,ae.lanes=oe.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var we=Xw(I);if(we!==null){we.flags&=-257,Jw(we,I,L,w,a),we.mode&1&&Yw(w,Q,a),a=we,H=Q;var Ne=a.updateQueue;if(Ne===null){var Se=new Set;Se.add(H),a.updateQueue=Se}else Ne.add(H);break e}else{if((a&1)===0){Yw(w,Q,a),Yg();break e}H=Error(n(426))}}else if(Tt&&L.mode&1){var $t=Xw(I);if($t!==null){($t.flags&65536)===0&&($t.flags|=256),Jw($t,I,L,w,a),og(Sl(H,L));break e}}w=H=Sl(H,L),sn!==4&&(sn=2),bu===null?bu=[w]:bu.push(w),w=I;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var Y=qw(w,H,a);ww(w,Y);break e;case 1:L=H;var W=w.type,J=w.stateNode;if((w.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(io===null||!io.has(J)))){w.flags|=65536,a&=-a,w.lanes|=a;var he=Kw(w,L,a);ww(w,he);break e}}w=w.return}while(w!==null)}Sb(d)}catch(je){a=je,Jt===d&&d!==null&&(Jt=d=d.return);continue}break}while(!0)}function Tb(){var i=Lh.current;return Lh.current=Ph,i===null?Ph:i}function Yg(){(sn===0||sn===3||sn===2)&&(sn=4),hn===null||(ga&268435455)===0&&(Bh&268435455)===0||lo(hn,bn)}function Gh(i,a){var d=st;st|=2;var p=Tb();(hn!==i||bn!==a)&&(bi=null,xa(i,a));do try{nR();break}catch(x){Ab(i,x)}while(!0);if(lg(),st=d,Lh.current=p,Jt!==null)throw Error(n(261));return hn=null,bn=0,sn}function nR(){for(;Jt!==null;)Cb(Jt)}function rR(){for(;Jt!==null&&!Qo();)Cb(Jt)}function Cb(i){var a=kb(i.alternate,i,br);i.memoizedProps=i.pendingProps,a===null?Sb(i):Jt=a,Bg.current=null}function Sb(i){var a=i;do{var d=a.alternate;if(i=a.return,(a.flags&32768)===0){if(d=Yk(d,a,br),d!==null){Jt=d;return}}else{if(d=Xk(d,a),d!==null){d.flags&=32767,Jt=d;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{sn=6,Jt=null;return}}if(a=a.sibling,a!==null){Jt=a;return}Jt=a=i}while(a!==null);sn===0&&(sn=5)}function va(i,a,d){var p=tt,x=Or.transition;try{Or.transition=null,tt=1,sR(i,a,d,p)}finally{Or.transition=x,tt=p}return null}function sR(i,a,d,p){do Rl();while(oo!==null);if((st&6)!==0)throw Error(n(327));d=i.finishedWork;var x=i.finishedLanes;if(d===null)return null;if(i.finishedWork=null,i.finishedLanes=0,d===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var w=d.lanes|d.childLanes;if(Fp(i,w),i===hn&&(Jt=hn=null,bn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Uh||(Uh=!0,Rb(Zo,function(){return Rl(),null})),w=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||w){w=Or.transition,Or.transition=null;var I=tt;tt=1;var L=st;st|=4,Bg.current=null,Qk(i,d),xb(d,i),Nk(Yp),di=!!Kp,Yp=Kp=null,i.current=d,Zk(d),ai(),st=L,tt=I,Or.transition=w}else i.current=d;if(Uh&&(Uh=!1,oo=i,Hh=x),w=i.pendingLanes,w===0&&(io=null),Zd(d.stateNode),Zn(i,bt()),a!==null)for(p=i.onRecoverableError,d=0;d<a.length;d++)x=a[d],p(x.value,{componentStack:x.stack,digest:x.digest});if(zh)throw zh=!1,i=Hg,Hg=null,i;return(Hh&1)!==0&&i.tag!==0&&Rl(),w=i.pendingLanes,(w&1)!==0?i===$g?_u++:(_u=0,$g=i):_u=0,to(),null}function Rl(){if(oo!==null){var i=Ns(Hh),a=Or.transition,d=tt;try{if(Or.transition=null,tt=16>i?16:i,oo===null)var p=!1;else{if(i=oo,oo=null,Hh=0,(st&6)!==0)throw Error(n(331));var x=st;for(st|=4,_e=i.current;_e!==null;){var w=_e,I=w.child;if((_e.flags&16)!==0){var L=w.deletions;if(L!==null){for(var H=0;H<L.length;H++){var Q=L[H];for(_e=Q;_e!==null;){var ae=_e;switch(ae.tag){case 0:case 11:case 15:vu(8,ae,w)}var de=ae.child;if(de!==null)de.return=ae,_e=de;else for(;_e!==null;){ae=_e;var oe=ae.sibling,we=ae.return;if(fb(ae),ae===Q){_e=null;break}if(oe!==null){oe.return=we,_e=oe;break}_e=we}}}var Ne=w.alternate;if(Ne!==null){var Se=Ne.child;if(Se!==null){Ne.child=null;do{var $t=Se.sibling;Se.sibling=null,Se=$t}while(Se!==null)}}_e=w}}if((w.subtreeFlags&2064)!==0&&I!==null)I.return=w,_e=I;else e:for(;_e!==null;){if(w=_e,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:vu(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,_e=Y;break e}_e=w.return}}var W=i.current;for(_e=W;_e!==null;){I=_e;var J=I.child;if((I.subtreeFlags&2064)!==0&&J!==null)J.return=I,_e=J;else e:for(I=W;_e!==null;){if(L=_e,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:Vh(9,L)}}catch(je){Lt(L,L.return,je)}if(L===I){_e=null;break e}var he=L.sibling;if(he!==null){he.return=L.return,_e=he;break e}_e=L.return}}if(st=x,to(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(ea,i)}catch{}p=!0}return p}finally{tt=d,Or.transition=a}}return!1}function Ib(i,a,d){a=Sl(d,a),a=qw(i,a,1),i=ro(i,a,1),a=Un(),i!==null&&(sa(i,1,a),Zn(i,a))}function Lt(i,a,d){if(i.tag===3)Ib(i,i,d);else for(;a!==null;){if(a.tag===3){Ib(a,i,d);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(io===null||!io.has(p))){i=Sl(d,i),i=Kw(a,i,1),a=ro(a,i,1),i=Un(),a!==null&&(sa(a,1,i),Zn(a,i));break}}a=a.return}}function iR(i,a,d){var p=i.pingCache;p!==null&&p.delete(a),a=Un(),i.pingedLanes|=i.suspendedLanes&d,hn===i&&(bn&d)===d&&(sn===4||sn===3&&(bn&130023424)===bn&&500>bt()-Ug?xa(i,0):zg|=d),Zn(i,a)}function jb(i,a){a===0&&((i.mode&1)===0?a=1:(a=Wi,Wi<<=1,(Wi&130023424)===0&&(Wi=4194304)));var d=Un();i=xi(i,a),i!==null&&(sa(i,a,d),Zn(i,d))}function oR(i){var a=i.memoizedState,d=0;a!==null&&(d=a.retryLane),jb(i,d)}function aR(i,a){var d=0;switch(i.tag){case 13:var p=i.stateNode,x=i.memoizedState;x!==null&&(d=x.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(a),jb(i,d)}var kb;kb=function(i,a,d){if(i!==null)if(i.memoizedProps!==a.pendingProps||Yn.current)Jn=!0;else{if((i.lanes&d)===0&&(a.flags&128)===0)return Jn=!1,Kk(i,a,d);Jn=(i.flags&131072)!==0}else Jn=!1,Tt&&(a.flags&1048576)!==0&&uw(a,bh,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Dh(i,a),i=a.pendingProps;var x=wl(a,In.current);Tl(a,d),x=vg(null,a,p,i,x,d);var w=wg();return a.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Xn(p)?(w=!0,xh(a)):w=!1,a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,hg(a),x.updater=Mh,a.stateNode=x,x._reactInternals=a,Tg(a,p,i,d),a=jg(null,a,p,!0,w,d)):(a.tag=0,Tt&&w&&ng(a),zn(null,a,x,d),a=a.child),a;case 16:p=a.elementType;e:{switch(Dh(i,a),i=a.pendingProps,x=p._init,p=x(p._payload),a.type=p,x=a.tag=cR(p),i=ts(p,i),x){case 0:a=Ig(null,a,p,i,d);break e;case 1:a=rb(null,a,p,i,d);break e;case 11:a=Qw(null,a,p,i,d);break e;case 14:a=Zw(null,a,p,ts(p.type,i),d);break e}throw Error(n(306,p,""))}return a;case 0:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:ts(p,x),Ig(i,a,p,x,d);case 1:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:ts(p,x),rb(i,a,p,x,d);case 3:e:{if(sb(a),i===null)throw Error(n(387));p=a.pendingProps,w=a.memoizedState,x=w.element,vw(i,a),Ch(a,p,null,d);var I=a.memoizedState;if(p=I.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){x=Sl(Error(n(423)),a),a=ib(i,a,p,d,x);break e}else if(p!==x){x=Sl(Error(n(424)),a),a=ib(i,a,p,d,x);break e}else for(wr=Qi(a.stateNode.containerInfo.firstChild),vr=a,Tt=!0,es=null,d=yw(a,null,p,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(El(),p===x){a=wi(i,a,d);break e}zn(i,a,p,d)}a=a.child}return a;case 5:return _w(a),i===null&&ig(a),p=a.type,x=a.pendingProps,w=i!==null?i.memoizedProps:null,I=x.children,Xp(p,x)?I=null:w!==null&&Xp(p,w)&&(a.flags|=32),nb(i,a),zn(i,a,I,d),a.child;case 6:return i===null&&ig(a),null;case 13:return ob(i,a,d);case 4:return fg(a,a.stateNode.containerInfo),p=a.pendingProps,i===null?a.child=Nl(a,null,p,d):zn(i,a,p,d),a.child;case 11:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:ts(p,x),Qw(i,a,p,x,d);case 7:return zn(i,a,a.pendingProps,d),a.child;case 8:return zn(i,a,a.pendingProps.children,d),a.child;case 12:return zn(i,a,a.pendingProps.children,d),a.child;case 10:e:{if(p=a.type._context,x=a.pendingProps,w=a.memoizedProps,I=x.value,yt(Nh,p._currentValue),p._currentValue=I,w!==null)if(Zr(w.value,I)){if(w.children===x.children&&!Yn.current){a=wi(i,a,d);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var L=w.dependencies;if(L!==null){I=w.child;for(var H=L.firstContext;H!==null;){if(H.context===p){if(w.tag===1){H=vi(-1,d&-d),H.tag=2;var Q=w.updateQueue;if(Q!==null){Q=Q.shared;var ae=Q.pending;ae===null?H.next=H:(H.next=ae.next,ae.next=H),Q.pending=H}}w.lanes|=d,H=w.alternate,H!==null&&(H.lanes|=d),ug(w.return,d,a),L.lanes|=d;break}H=H.next}}else if(w.tag===10)I=w.type===a.type?null:w.child;else if(w.tag===18){if(I=w.return,I===null)throw Error(n(341));I.lanes|=d,L=I.alternate,L!==null&&(L.lanes|=d),ug(I,d,a),I=w.sibling}else I=w.child;if(I!==null)I.return=w;else for(I=w;I!==null;){if(I===a){I=null;break}if(w=I.sibling,w!==null){w.return=I.return,I=w;break}I=I.return}w=I}zn(i,a,x.children,d),a=a.child}return a;case 9:return x=a.type,p=a.pendingProps.children,Tl(a,d),x=Fr(x),p=p(x),a.flags|=1,zn(i,a,p,d),a.child;case 14:return p=a.type,x=ts(p,a.pendingProps),x=ts(p.type,x),Zw(i,a,p,x,d);case 15:return eb(i,a,a.type,a.pendingProps,d);case 17:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:ts(p,x),Dh(i,a),a.tag=1,Xn(p)?(i=!0,xh(a)):i=!1,Tl(a,d),Ww(a,p,x),Tg(a,p,x,d),jg(null,a,p,!0,i,d);case 19:return lb(i,a,d);case 22:return tb(i,a,d)}throw Error(n(156,a.tag))};function Rb(i,a){return Lc(i,a)}function lR(i,a,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(i,a,d,p){return new lR(i,a,d,p)}function Xg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function cR(i){if(typeof i=="function")return Xg(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===Ce)return 14}return 2}function co(i,a){var d=i.alternate;return d===null?(d=Vr(i.tag,a,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=a,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&14680064,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,a=i.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d}function qh(i,a,d,p,x,w){var I=2;if(p=i,typeof i=="function")Xg(i)&&(I=1);else if(typeof i=="string")I=5;else e:switch(i){case k:return wa(d.children,x,w,a);case S:I=8,x|=8;break;case M:return i=Vr(12,d,a,x|2),i.elementType=M,i.lanes=w,i;case F:return i=Vr(13,d,a,x),i.elementType=F,i.lanes=w,i;case ye:return i=Vr(19,d,a,x),i.elementType=ye,i.lanes=w,i;case le:return Kh(d,x,w,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:I=10;break e;case D:I=9;break e;case U:I=11;break e;case Ce:I=14;break e;case re:I=16,p=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=Vr(I,d,a,x),a.elementType=i,a.type=p,a.lanes=w,a}function wa(i,a,d,p){return i=Vr(7,i,p,a),i.lanes=d,i}function Kh(i,a,d,p){return i=Vr(22,i,p,a),i.elementType=le,i.lanes=d,i.stateNode={isHidden:!1},i}function Jg(i,a,d){return i=Vr(6,i,null,a),i.lanes=d,i}function Qg(i,a,d){return a=Vr(4,i.children!==null?i.children:[],i.key,a),a.lanes=d,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function uR(i,a,d,p,x){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$c(0),this.expirationTimes=$c(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$c(0),this.identifierPrefix=p,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Zg(i,a,d,p,x,w,I,L,H){return i=new uR(i,a,d,L,H),a===1?(a=1,w===!0&&(a|=8)):a=0,w=Vr(3,null,null,a),i.current=w,w.stateNode=i,w.memoizedState={element:p,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},hg(w),i}function dR(i,a,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:p==null?null:""+p,children:i,containerInfo:a,implementation:d}}function Pb(i){if(!i)return eo;i=i._reactInternals;e:{if(Jr(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Xn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var d=i.type;if(Xn(d))return aw(i,d,a)}return a}function Mb(i,a,d,p,x,w,I,L,H){return i=Zg(d,p,!0,i,x,w,I,L,H),i.context=Pb(null),d=i.current,p=Un(),x=ao(d),w=vi(p,x),w.callback=a??null,ro(d,w,x),i.current.lanes=x,sa(i,x,p),Zn(i,p),i}function Yh(i,a,d,p){var x=a.current,w=Un(),I=ao(x);return d=Pb(d),a.context===null?a.context=d:a.pendingContext=d,a=vi(w,I),a.payload={element:i},p=p===void 0?null:p,p!==null&&(a.callback=p),i=ro(x,a,I),i!==null&&(ss(i,x,I,w),Th(i,x,I)),I}function Xh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Fb(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<a?d:a}}function ey(i,a){Fb(i,a),(i=i.alternate)&&Fb(i,a)}function hR(){return null}var Db=typeof reportError=="function"?reportError:function(i){console.error(i)};function ty(i){this._internalRoot=i}Jh.prototype.render=ty.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));Yh(i,a,null,null)},Jh.prototype.unmount=ty.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;ya(function(){Yh(null,i,null,null)}),a[mi]=null}};function Jh(i){this._internalRoot=i}Jh.prototype.unstable_scheduleHydration=function(i){if(i){var a=Kc();i={blockedOn:null,target:i,priority:a};for(var d=0;d<pr.length&&a!==0&&a<pr[d].priority;d++);pr.splice(d,0,i),d===0&&sl(i)}};function ny(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Qh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Ob(){}function fR(i,a,d,p,x){if(x){if(typeof p=="function"){var w=p;p=function(){var Q=Xh(I);w.call(Q)}}var I=Mb(a,p,i,0,null,!1,!1,"",Ob);return i._reactRootContainer=I,i[mi]=I.current,ou(i.nodeType===8?i.parentNode:i),ya(),I}for(;x=i.lastChild;)i.removeChild(x);if(typeof p=="function"){var L=p;p=function(){var Q=Xh(H);L.call(Q)}}var H=Zg(i,0,!1,null,null,!1,!1,"",Ob);return i._reactRootContainer=H,i[mi]=H.current,ou(i.nodeType===8?i.parentNode:i),ya(function(){Yh(a,H,d,p)}),H}function Zh(i,a,d,p,x){var w=d._reactRootContainer;if(w){var I=w;if(typeof x=="function"){var L=x;x=function(){var H=Xh(I);L.call(H)}}Yh(a,I,i,x)}else I=fR(d,a,i,x,p);return Xh(I)}Gc=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var d=at(a.pendingLanes);d!==0&&(Wc(a,d|1),Zn(a,bt()),(st&6)===0&&(kl=bt()+500,to()))}break;case 13:ya(function(){var p=xi(i,1);if(p!==null){var x=Un();ss(p,i,1,x)}}),ey(i,1)}},nl=function(i){if(i.tag===13){var a=xi(i,134217728);if(a!==null){var d=Un();ss(a,i,134217728,d)}ey(i,134217728)}},qc=function(i){if(i.tag===13){var a=ao(i),d=xi(i,a);if(d!==null){var p=Un();ss(d,i,a,p)}ey(i,a)}},Kc=function(){return tt},Yc=function(i,a){var d=tt;try{return tt=i,a()}finally{tt=d}},Yr=function(i,a,d){switch(a){case"input":if(yn(i,d),a=d.name,d.type==="radio"&&a!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var p=d[a];if(p!==i&&p.form===i.form){var x=gh(p);if(!x)throw Error(n(90));Ye(p),yn(p,x)}}}break;case"textarea":Qa(i,d);break;case"select":a=d.value,a!=null&&dr(i,!!d.multiple,a,!1)}},Ut=qg,cn=ya;var mR={usingClientEntryPoint:!1,Events:[cu,xl,gh,Oe,ft,qg]},Eu={findFiberByHostInstance:ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pR={bundleType:Eu.bundleType,version:Eu.version,rendererPackageName:Eu.rendererPackageName,rendererConfig:Eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Qd(i),i===null?null:i.stateNode},findFiberByHostInstance:Eu.findFiberByHostInstance||hR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ef.isDisabled&&ef.supportsFiber)try{ea=ef.inject(pR),fr=ef}catch{}}return er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mR,er.createPortal=function(i,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ny(a))throw Error(n(200));return dR(i,a,null,d)},er.createRoot=function(i,a){if(!ny(i))throw Error(n(299));var d=!1,p="",x=Db;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=Zg(i,1,!1,null,null,d,!1,p,x),i[mi]=a.current,ou(i.nodeType===8?i.parentNode:i),new ty(a)},er.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Qd(a),i=i===null?null:i.stateNode,i},er.flushSync=function(i){return ya(i)},er.hydrate=function(i,a,d){if(!Qh(a))throw Error(n(200));return Zh(null,i,a,!0,d)},er.hydrateRoot=function(i,a,d){if(!ny(i))throw Error(n(405));var p=d!=null&&d.hydratedSources||null,x=!1,w="",I=Db;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(I=d.onRecoverableError)),a=Mb(a,null,i,1,d??null,x,!1,w,I),i[mi]=a.current,ou(i),p)for(i=0;i<p.length;i++)d=p[i],x=d._getVersion,x=x(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,x]:a.mutableSourceEagerHydrationData.push(d,x);return new Jh(a)},er.render=function(i,a,d){if(!Qh(a))throw Error(n(200));return Zh(null,i,a,!1,d)},er.unmountComponentAtNode=function(i){if(!Qh(i))throw Error(n(40));return i._reactRootContainer?(ya(function(){Zh(null,null,i,!1,function(){i._reactRootContainer=null,i[mi]=null})}),!0):!1},er.unstable_batchedUpdates=qg,er.unstable_renderSubtreeIntoContainer=function(i,a,d,p){if(!Qh(d))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Zh(i,a,d,!1,p)},er.version="18.3.1-next-f1338f8080-20240426",er}var Wb;function GN(){if(Wb)return iy.exports;Wb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),iy.exports=ER(),iy.exports}var Gb;function NR(){if(Gb)return tf;Gb=1;var t=GN();return tf.createRoot=t.createRoot,tf.hydrateRoot=t.hydrateRoot,tf}var AR=NR(),A=x0();const fe=WN(A),qN=yR({__proto__:null,default:fe},[A]);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CR=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),qb=t=>{const e=CR(t);return e.charAt(0).toUpperCase()+e.slice(1)},KN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:c,...u},h)=>A.createElement("svg",{ref:h,...SR,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:KN("lucide",s),...u},[...c.map(([m,g])=>A.createElement(m,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(t,e)=>{const n=A.forwardRef(({className:r,...s},o)=>A.createElement(IR,{ref:o,iconNode:e,className:KN(`lucide-${TR(qb(t))}`,`lucide-${t}`,r),...s}));return n.displayName=qb(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],kR=Pe("arrow-up",jR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],PR=Pe("award",RR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],FR=Pe("banknote",MR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],Jf=Pe("bike",DR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],VR=Pe("briefcase",OR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],BR=Pe("building-2",LR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],bo=Pe("calendar",zR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Vm=Pe("check",UR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],$R=Pe("chef-hat",HR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],v0=Pe("chevron-down",WR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],YN=Pe("chevron-left",GR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Lm=Pe("chevron-right",qR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],YR=Pe("chevron-up",KR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]],XN=Pe("chrome",XR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ly=Pe("circle-check",JR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ZR=Pe("circle",QR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],_d=Pe("clock",eP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],nP=Pe("credit-card",tP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],sP=Pe("crown",rP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],oP=Pe("dollar-sign",iP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],lP=Pe("facebook",aP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],Bm=Pe("flame",cP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],cy=Pe("gift",uP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],sx=Pe("image",dP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],fP=Pe("info",hP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],pP=Pe("instagram",mP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],JN=Pe("loader-circle",gP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],xP=Pe("lock",yP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],wP=Pe("log-out",vP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Qf=Pe("mail",bP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ed=Pe("map-pin",_P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],NP=Pe("menu",EP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["path",{d:"M5 12h14",key:"1ays0h"}]],QN=Pe("minus",AP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ix=Pe("package",TP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],SP=Pe("pen",CP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],w0=Pe("phone",IP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],b0=Pe("plus",jP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],RP=Pe("refresh-cw",kP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],MP=Pe("settings",PP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Kb=Pe("shield",FP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],_o=Pe("shopping-bag",DP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Gn=Pe("shopping-cart",OP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],zr=Pe("sparkles",VP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],pt=Pe("star",LP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Yb=Pe("thumbs-up",BP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],zu=Pe("trash-2",zP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],HP=Pe("trending-up",UP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Zf=Pe("trophy",$P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ZN=Pe("upload",WP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],nd=Pe("user",GP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Xb=Pe("utensils-crossed",qP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],eA=Pe("video",KP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]],Jb=Pe("wine",YP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rc=Pe("x",XP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],If=Pe("zap",JP);function Qb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function tA(...t){return e=>{let n=!1;const r=t.map(s=>{const o=Qb(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Qb(t[s],null)}}}}function Nt(...t){return A.useCallback(tA(...t),t)}function sc(t){const e=QP(t),n=A.forwardRef((r,s)=>{const{children:o,...c}=r,u=A.Children.toArray(o),h=u.find(e3);if(h){const m=h.props.children,g=u.map(y=>y===h?A.Children.count(m)>1?A.Children.only(null):A.isValidElement(m)?m.props.children:null:y);return l.jsx(e,{...c,ref:s,children:A.isValidElement(m)?A.cloneElement(m,void 0,g):null})}return l.jsx(e,{...c,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var nA=sc("Slot");function QP(t){const e=A.forwardRef((n,r)=>{const{children:s,...o}=n;if(A.isValidElement(s)){const c=n3(s),u=t3(o,s.props);return s.type!==A.Fragment&&(u.ref=r?tA(r,c):c),A.cloneElement(s,u)}return A.Children.count(s)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ZP=Symbol("radix.slottable");function e3(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ZP}function t3(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{const h=o(...u);return s(...u),h}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function n3(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function rA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=rA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function sA(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=rA(t))&&(r&&(r+=" "),r+=e);return r}const Zb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,e_=sA,iA=(t,e)=>n=>{var r;if(e?.variants==null)return e_(t,n?.class,n?.className);const{variants:s,defaultVariants:o}=e,c=Object.keys(s).map(m=>{const g=n?.[m],y=o?.[m];if(g===null)return null;const v=Zb(g)||Zb(y);return s[m][v]}),u=n&&Object.entries(n).reduce((m,g)=>{let[y,v]=g;return v===void 0||(m[y]=v),m},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,g)=>{let{class:y,className:v,..._}=g;return Object.entries(_).every(C=>{let[E,N]=C;return Array.isArray(N)?N.includes({...o,...u}[E]):{...o,...u}[E]===N})?[...m,y,v]:m},[]);return e_(t,c,h,n?.class,n?.className)},_0="-",r3=t=>{const e=i3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{const u=c.split(_0);return u[0]===""&&u.length!==1&&u.shift(),oA(u,e)||s3(c)},getConflictingClassGroupIds:(c,u)=>{const h=n[c]||[];return u&&r[c]?[...h,...r[c]]:h}}},oA=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?oA(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(_0);return e.validators.find(({validator:c})=>c(o))?.classGroupId},t_=/^\[(.+)\]$/,s3=t=>{if(t_.test(t)){const e=t_.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},i3=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)ox(n[s],r,s,e);return r},ox=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:n_(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(o3(s)){ox(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,c])=>{ox(c,n_(e,o),n,r)})})},n_=(t,e)=>{let n=t;return e.split(_0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},o3=t=>t.isThemeGetter,a3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,c)=>{n.set(o,c),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let c=n.get(o);if(c!==void 0)return c;if((c=r.get(o))!==void 0)return s(o,c),c},set(o,c){n.has(o)?n.set(o,c):s(o,c)}}},ax="!",lx=":",l3=lx.length,c3=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const o=[];let c=0,u=0,h=0,m;for(let C=0;C<s.length;C++){let E=s[C];if(c===0&&u===0){if(E===lx){o.push(s.slice(h,C)),h=C+l3;continue}if(E==="/"){m=C;continue}}E==="["?c++:E==="]"?c--:E==="("?u++:E===")"&&u--}const g=o.length===0?s:s.substring(h),y=u3(g),v=y!==g,_=m&&m>h?m-h:void 0;return{modifiers:o,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:_}};if(e){const s=e+lx,o=r;r=c=>c.startsWith(s)?o(c.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},u3=t=>t.endsWith(ax)?t.substring(0,t.length-1):t.startsWith(ax)?t.substring(1):t,d3=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(c=>{c[0]==="["||e[c]?(s.push(...o.sort(),c),o=[]):o.push(c)}),s.push(...o.sort()),s}},h3=t=>({cache:a3(t.cacheSize),parseClassName:c3(t),sortModifiers:d3(t),...r3(t)}),f3=/\s+/,m3=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,c=[],u=t.trim().split(f3);let h="";for(let m=u.length-1;m>=0;m-=1){const g=u[m],{isExternal:y,modifiers:v,hasImportantModifier:_,baseClassName:C,maybePostfixModifierPosition:E}=n(g);if(y){h=g+(h.length>0?" "+h:h);continue}let N=!!E,j=r(N?C.substring(0,E):C);if(!j){if(!N){h=g+(h.length>0?" "+h:h);continue}if(j=r(C),!j){h=g+(h.length>0?" "+h:h);continue}N=!1}const O=o(v).join(":"),R=_?O+ax:O,z=R+j;if(c.includes(z))continue;c.push(z);const V=s(j,N);for(let q=0;q<V.length;++q){const k=V[q];c.push(R+k)}h=g+(h.length>0?" "+h:h)}return h};function p3(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=aA(e))&&(r&&(r+=" "),r+=n);return r}const aA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=aA(t[r]))&&(n&&(n+=" "),n+=e);return n};function g3(t,...e){let n,r,s,o=c;function c(h){const m=e.reduce((g,y)=>y(g),t());return n=h3(m),r=n.cache.get,s=n.cache.set,o=u,u(h)}function u(h){const m=r(h);if(m)return m;const g=m3(h,n);return s(h,g),g}return function(){return o(p3.apply(null,arguments))}}const on=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},lA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,cA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,y3=/^\d+\/\d+$/,x3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,v3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,w3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,b3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pl=t=>y3.test(t),qe=t=>!!t&&!Number.isNaN(Number(t)),ho=t=>!!t&&Number.isInteger(Number(t)),uy=t=>t.endsWith("%")&&qe(t.slice(0,-1)),_i=t=>x3.test(t),E3=()=>!0,N3=t=>v3.test(t)&&!w3.test(t),uA=()=>!1,A3=t=>b3.test(t),T3=t=>_3.test(t),C3=t=>!Ae(t)&&!Te(t),S3=t=>yc(t,fA,uA),Ae=t=>lA.test(t),ba=t=>yc(t,mA,N3),dy=t=>yc(t,P3,qe),r_=t=>yc(t,dA,uA),I3=t=>yc(t,hA,T3),nf=t=>yc(t,pA,A3),Te=t=>cA.test(t),Au=t=>xc(t,mA),j3=t=>xc(t,M3),s_=t=>xc(t,dA),k3=t=>xc(t,fA),R3=t=>xc(t,hA),rf=t=>xc(t,pA,!0),yc=(t,e,n)=>{const r=lA.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},xc=(t,e,n=!1)=>{const r=cA.exec(t);return r?r[1]?e(r[1]):n:!1},dA=t=>t==="position"||t==="percentage",hA=t=>t==="image"||t==="url",fA=t=>t==="length"||t==="size"||t==="bg-size",mA=t=>t==="length",P3=t=>t==="number",M3=t=>t==="family-name",pA=t=>t==="shadow",F3=()=>{const t=on("color"),e=on("font"),n=on("text"),r=on("font-weight"),s=on("tracking"),o=on("leading"),c=on("breakpoint"),u=on("container"),h=on("spacing"),m=on("radius"),g=on("shadow"),y=on("inset-shadow"),v=on("text-shadow"),_=on("drop-shadow"),C=on("blur"),E=on("perspective"),N=on("aspect"),j=on("ease"),O=on("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],V=()=>[...z(),Te,Ae],q=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],S=()=>[Te,Ae,h],M=()=>[Pl,"full","auto",...S()],B=()=>[ho,"none","subgrid",Te,Ae],D=()=>["auto",{span:["full",ho,Te,Ae]},ho,Te,Ae],U=()=>[ho,"auto",Te,Ae],F=()=>["auto","min","max","fr",Te,Ae],ye=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ce=()=>["start","end","center","stretch","center-safe","end-safe"],re=()=>["auto",...S()],le=()=>[Pl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],G=()=>[t,Te,Ae],ce=()=>[...z(),s_,r_,{position:[Te,Ae]}],se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",k3,S3,{size:[Te,Ae]}],ee=()=>[uy,Au,ba],ue=()=>["","none","full",m,Te,Ae],me=()=>["",qe,Au,ba],ve=()=>["solid","dashed","dotted","double"],Ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>[qe,uy,s_,r_],pe=()=>["","none",C,Te,Ae],ke=()=>["none",qe,Te,Ae],De=()=>["none",qe,Te,Ae],Ge=()=>[qe,Te,Ae],Ye=()=>[Pl,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[_i],breakpoint:[_i],color:[E3],container:[_i],"drop-shadow":[_i],ease:["in","out","in-out"],font:[C3],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[_i],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[_i],shadow:[_i],spacing:["px",qe],text:[_i],"text-shadow":[_i],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Pl,Ae,Te,N]}],container:["container"],columns:[{columns:[qe,Ae,Te,u]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:V()}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[ho,"auto",Te,Ae]}],basis:[{basis:[Pl,"full","auto",u,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qe,Pl,"auto","initial","none",Ae]}],grow:[{grow:["",qe,Te,Ae]}],shrink:[{shrink:["",qe,Te,Ae]}],order:[{order:[ho,"first","last","none",Te,Ae]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...ye(),"normal"]}],"justify-items":[{"justify-items":[...Ce(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ce()]}],"align-content":[{content:["normal",...ye()]}],"align-items":[{items:[...Ce(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ce(),{baseline:["","last"]}]}],"place-content":[{"place-content":ye()}],"place-items":[{"place-items":[...Ce(),"baseline"]}],"place-self":[{"place-self":["auto",...Ce()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:re()}],mx:[{mx:re()}],my:[{my:re()}],ms:[{ms:re()}],me:[{me:re()}],mt:[{mt:re()}],mr:[{mr:re()}],mb:[{mb:re()}],ml:[{ml:re()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:le()}],w:[{w:[u,"screen",...le()]}],"min-w":[{"min-w":[u,"screen","none",...le()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...le()]}],h:[{h:["screen","lh",...le()]}],"min-h":[{"min-h":["screen","lh","none",...le()]}],"max-h":[{"max-h":["screen","lh",...le()]}],"font-size":[{text:["base",n,Au,ba]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Te,dy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",uy,Ae]}],"font-family":[{font:[j3,Ae,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Te,Ae]}],"line-clamp":[{"line-clamp":[qe,"none",Te,dy]}],leading:[{leading:[o,...S()]}],"list-image":[{"list-image":["none",Te,Ae]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Te,Ae]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[qe,"from-font","auto",Te,ba]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[qe,"auto",Te,Ae]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te,Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te,Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ce()}],"bg-repeat":[{bg:se()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ho,Te,Ae],radial:["",Te,Ae],conic:[ho,Te,Ae]},R3,I3]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:ue()}],"rounded-s":[{"rounded-s":ue()}],"rounded-e":[{"rounded-e":ue()}],"rounded-t":[{"rounded-t":ue()}],"rounded-r":[{"rounded-r":ue()}],"rounded-b":[{"rounded-b":ue()}],"rounded-l":[{"rounded-l":ue()}],"rounded-ss":[{"rounded-ss":ue()}],"rounded-se":[{"rounded-se":ue()}],"rounded-ee":[{"rounded-ee":ue()}],"rounded-es":[{"rounded-es":ue()}],"rounded-tl":[{"rounded-tl":ue()}],"rounded-tr":[{"rounded-tr":ue()}],"rounded-br":[{"rounded-br":ue()}],"rounded-bl":[{"rounded-bl":ue()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ve(),"hidden","none"]}],"divide-style":[{divide:[...ve(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qe,Te,Ae]}],"outline-w":[{outline:["",qe,Au,ba]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",g,rf,nf]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",y,rf,nf]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[qe,ba]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",v,rf,nf]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[qe,Te,Ae]}],"mix-blend":[{"mix-blend":[...Ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":ie()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":ie()}],"mask-image-t-to-pos":[{"mask-t-to":ie()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":ie()}],"mask-image-r-to-pos":[{"mask-r-to":ie()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":ie()}],"mask-image-b-to-pos":[{"mask-b-to":ie()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":ie()}],"mask-image-l-to-pos":[{"mask-l-to":ie()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":ie()}],"mask-image-x-to-pos":[{"mask-x-to":ie()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":ie()}],"mask-image-y-to-pos":[{"mask-y-to":ie()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[Te,Ae]}],"mask-image-radial-from-pos":[{"mask-radial-from":ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":ie()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":z()}],"mask-image-conic-pos":[{"mask-conic":[qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":ie()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ce()}],"mask-repeat":[{mask:se()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Te,Ae]}],filter:[{filter:["","none",Te,Ae]}],blur:[{blur:pe()}],brightness:[{brightness:[qe,Te,Ae]}],contrast:[{contrast:[qe,Te,Ae]}],"drop-shadow":[{"drop-shadow":["","none",_,rf,nf]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",qe,Te,Ae]}],"hue-rotate":[{"hue-rotate":[qe,Te,Ae]}],invert:[{invert:["",qe,Te,Ae]}],saturate:[{saturate:[qe,Te,Ae]}],sepia:[{sepia:["",qe,Te,Ae]}],"backdrop-filter":[{"backdrop-filter":["","none",Te,Ae]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[qe,Te,Ae]}],"backdrop-contrast":[{"backdrop-contrast":[qe,Te,Ae]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qe,Te,Ae]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qe,Te,Ae]}],"backdrop-invert":[{"backdrop-invert":["",qe,Te,Ae]}],"backdrop-opacity":[{"backdrop-opacity":[qe,Te,Ae]}],"backdrop-saturate":[{"backdrop-saturate":[qe,Te,Ae]}],"backdrop-sepia":[{"backdrop-sepia":["",qe,Te,Ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Te,Ae]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qe,"initial",Te,Ae]}],ease:[{ease:["linear","initial",j,Te,Ae]}],delay:[{delay:[qe,Te,Ae]}],animate:[{animate:["none",O,Te,Ae]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,Te,Ae]}],"perspective-origin":[{"perspective-origin":V()}],rotate:[{rotate:ke()}],"rotate-x":[{"rotate-x":ke()}],"rotate-y":[{"rotate-y":ke()}],"rotate-z":[{"rotate-z":ke()}],scale:[{scale:De()}],"scale-x":[{"scale-x":De()}],"scale-y":[{"scale-y":De()}],"scale-z":[{"scale-z":De()}],"scale-3d":["scale-3d"],skew:[{skew:Ge()}],"skew-x":[{"skew-x":Ge()}],"skew-y":[{"skew-y":Ge()}],transform:[{transform:[Te,Ae,"","none","gpu","cpu"]}],"transform-origin":[{origin:V()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ye()}],"translate-x":[{"translate-x":Ye()}],"translate-y":[{"translate-y":Ye()}],"translate-z":[{"translate-z":Ye()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te,Ae]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te,Ae]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[qe,Au,ba,dy]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},D3=g3(F3);function gt(...t){return D3(sA(t))}const O3=iA("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function ze({className:t,variant:e,size:n,asChild:r=!1,...s}){const o=r?nA:"button";return l.jsx(o,{"data-slot":"button",className:gt(O3({variant:e,size:n,className:t})),...s})}const E0=A.createContext({});function vc(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const N0=typeof window<"u",zm=N0?A.useLayoutEffect:A.useEffect,Um=A.createContext(null);function A0(t,e){t.indexOf(e)===-1&&t.push(e)}function T0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Zs=(t,e,n)=>n>e?e:n<t?t:n;let rd=()=>{};const Ii={},gA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function yA(t){return typeof t=="object"&&t!==null}const xA=t=>/^0[^.\s]+$/u.test(t);function C0(t){let e;return()=>(e===void 0&&(e=t()),e)}const lr=t=>t,V3=(t,e)=>n=>e(t(n)),Nd=(...t)=>t.reduce(V3),ic=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class S0{constructor(){this.subscriptions=[]}add(e){return A0(this.subscriptions,e),()=>T0(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const c=this.subscriptions[o];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $s=t=>t*1e3,Hr=t=>t/1e3;function I0(t,e){return e?t*(1e3/e):0}const vA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,L3=1e-7,B3=12;function z3(t,e,n,r,s){let o,c,u=0;do c=e+(n-e)/2,o=vA(c,r,s)-t,o>0?n=c:e=c;while(Math.abs(o)>L3&&++u<B3);return c}function Ad(t,e,n,r){if(t===e&&n===r)return lr;const s=o=>z3(o,0,1,t,n);return o=>o===0||o===1?o:vA(s(o),e,r)}const wA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,bA=t=>e=>1-t(1-e),_A=Ad(.33,1.53,.69,.99),j0=bA(_A),EA=wA(j0),NA=t=>(t*=2)<1?.5*j0(t):.5*(2-Math.pow(2,-10*(t-1))),k0=t=>1-Math.sin(Math.acos(t)),AA=bA(k0),TA=wA(k0),U3=Ad(.42,0,1,1),H3=Ad(0,0,.58,1),CA=Ad(.42,0,.58,1),$3=t=>Array.isArray(t)&&typeof t[0]!="number",SA=t=>Array.isArray(t)&&typeof t[0]=="number",W3={linear:lr,easeIn:U3,easeInOut:CA,easeOut:H3,circIn:k0,circInOut:TA,circOut:AA,backIn:j0,backInOut:EA,backOut:_A,anticipate:NA},G3=t=>typeof t=="string",i_=t=>{if(SA(t)){rd(t.length===4);const[e,n,r,s]=t;return Ad(e,n,r,s)}else if(G3(t))return W3[t];return t},sf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function q3(t,e){let n=new Set,r=new Set,s=!1,o=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(g){c.has(g)&&(m.schedule(g),t()),g(u)}const m={schedule:(g,y=!1,v=!1)=>{const C=v&&s?n:r;return y&&c.add(g),C.has(g)||C.add(g),g},cancel:g=>{r.delete(g),c.delete(g)},process:g=>{if(u=g,s){o=!0;return}s=!0,[n,r]=[r,n],n.forEach(h),n.clear(),s=!1,o&&(o=!1,m.process(g))}};return m}const K3=40;function IA(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,c=sf.reduce((R,z)=>(R[z]=q3(o),R),{}),{setup:u,read:h,resolveKeyframes:m,preUpdate:g,update:y,preRender:v,render:_,postRender:C}=c,E=()=>{const R=Ii.useManualTiming?s.timestamp:performance.now();n=!1,Ii.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(R-s.timestamp,K3),1)),s.timestamp=R,s.isProcessing=!0,u.process(s),h.process(s),m.process(s),g.process(s),y.process(s),v.process(s),_.process(s),C.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(E))},N=()=>{n=!0,r=!0,s.isProcessing||t(E)};return{schedule:sf.reduce((R,z)=>{const V=c[z];return R[z]=(q,k=!1,S=!1)=>(n||N(),V.schedule(q,k,S)),R},{}),cancel:R=>{for(let z=0;z<sf.length;z++)c[sf[z]].cancel(R)},state:s,steps:c}}const{schedule:ut,cancel:us,state:mn,steps:hy}=IA(typeof requestAnimationFrame<"u"?requestAnimationFrame:lr,!0);let jf;function Y3(){jf=void 0}const ar={now:()=>(jf===void 0&&ar.set(mn.isProcessing||Ii.useManualTiming?mn.timestamp:performance.now()),jf),set:t=>{jf=t,queueMicrotask(Y3)}},jA=t=>e=>typeof e=="string"&&e.startsWith(t),R0=jA("--"),X3=jA("var(--"),P0=t=>X3(t)?J3.test(t.split("/*")[0].trim()):!1,J3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,wc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},sd={...wc,transform:t=>Zs(0,1,t)},of={...wc,default:1},Uu=t=>Math.round(t*1e5)/1e5,M0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Q3(t){return t==null}const Z3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,F0=(t,e)=>n=>!!(typeof n=="string"&&Z3.test(n)&&n.startsWith(t)||e&&!Q3(n)&&Object.prototype.hasOwnProperty.call(n,e)),kA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,c,u]=r.match(M0);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},eM=t=>Zs(0,255,t),fy={...wc,transform:t=>Math.round(eM(t))},Sa={test:F0("rgb","red"),parse:kA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+fy.transform(t)+", "+fy.transform(e)+", "+fy.transform(n)+", "+Uu(sd.transform(r))+")"};function tM(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const cx={test:F0("#"),parse:tM,transform:Sa.transform},Td=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),mo=Td("deg"),Ws=Td("%"),Be=Td("px"),nM=Td("vh"),rM=Td("vw"),o_={...Ws,parse:t=>Ws.parse(t)/100,transform:t=>Ws.transform(t*100)},Hl={test:F0("hsl","hue"),parse:kA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ws.transform(Uu(e))+", "+Ws.transform(Uu(n))+", "+Uu(sd.transform(r))+")"},Zt={test:t=>Sa.test(t)||cx.test(t)||Hl.test(t),parse:t=>Sa.test(t)?Sa.parse(t):Hl.test(t)?Hl.parse(t):cx.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Sa.transform(t):Hl.transform(t),getAnimatableNone:t=>{const e=Zt.parse(t);return e.alpha=0,Zt.transform(e)}},sM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iM(t){return isNaN(t)&&typeof t=="string"&&(t.match(M0)?.length||0)+(t.match(sM)?.length||0)>0}const RA="number",PA="color",oM="var",aM="var(",a_="${}",lM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function id(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const u=e.replace(lM,h=>(Zt.test(h)?(r.color.push(o),s.push(PA),n.push(Zt.parse(h))):h.startsWith(aM)?(r.var.push(o),s.push(oM),n.push(h)):(r.number.push(o),s.push(RA),n.push(parseFloat(h))),++o,a_)).split(a_);return{values:n,split:u,indexes:r,types:s}}function MA(t){return id(t).values}function FA(t){const{split:e,types:n}=id(t),r=e.length;return s=>{let o="";for(let c=0;c<r;c++)if(o+=e[c],s[c]!==void 0){const u=n[c];u===RA?o+=Uu(s[c]):u===PA?o+=Zt.transform(s[c]):o+=s[c]}return o}}const cM=t=>typeof t=="number"?0:Zt.test(t)?Zt.getAnimatableNone(t):t;function uM(t){const e=MA(t);return FA(t)(e.map(cM))}const So={test:iM,parse:MA,createTransformer:FA,getAnimatableNone:uM};function my(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dM({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,c=0;if(!e)s=o=c=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;s=my(h,u,t+1/3),o=my(h,u,t),c=my(h,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:r}}function em(t,e){return n=>n>0?e:t}const Mt=(t,e,n)=>t+(e-t)*n,py=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},hM=[cx,Sa,Hl],fM=t=>hM.find(e=>e.test(t));function l_(t){const e=fM(t);if(!e)return!1;let n=e.parse(t);return e===Hl&&(n=dM(n)),n}const c_=(t,e)=>{const n=l_(t),r=l_(e);if(!n||!r)return em(t,e);const s={...n};return o=>(s.red=py(n.red,r.red,o),s.green=py(n.green,r.green,o),s.blue=py(n.blue,r.blue,o),s.alpha=Mt(n.alpha,r.alpha,o),Sa.transform(s))},ux=new Set(["none","hidden"]);function mM(t,e){return ux.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function pM(t,e){return n=>Mt(t,e,n)}function D0(t){return typeof t=="number"?pM:typeof t=="string"?P0(t)?em:Zt.test(t)?c_:xM:Array.isArray(t)?DA:typeof t=="object"?Zt.test(t)?c_:gM:em}function DA(t,e){const n=[...t],r=n.length,s=t.map((o,c)=>D0(o)(o,e[c]));return o=>{for(let c=0;c<r;c++)n[c]=s[c](o);return n}}function gM(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=D0(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function yM(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],c=t.indexes[o][r[o]],u=t.values[c]??0;n[s]=u,r[o]++}return n}const xM=(t,e)=>{const n=So.createTransformer(e),r=id(t),s=id(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?ux.has(t)&&!s.values.length||ux.has(e)&&!r.values.length?mM(t,e):Nd(DA(yM(r,s),s.values),n):em(t,e)};function OA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Mt(t,e,n):D0(t)(t,e)}const vM=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ut.update(e,n),stop:()=>us(e),now:()=>mn.isProcessing?mn.timestamp:ar.now()}},VA=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=Math.round(t(o/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},tm=2e4;function O0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<tm;)e+=n,r=t.next(e);return e>=tm?1/0:e}function wM(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(O0(r),tm);return{type:"keyframes",ease:o=>r.next(s*o).value/e,duration:Hr(s)}}const bM=5;function LA(t,e,n){const r=Math.max(e-bM,0);return I0(n-t(r),e-r)}const Bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gy=.001;function _M({duration:t=Bt.duration,bounce:e=Bt.bounce,velocity:n=Bt.velocity,mass:r=Bt.mass}){let s,o,c=1-e;c=Zs(Bt.minDamping,Bt.maxDamping,c),t=Zs(Bt.minDuration,Bt.maxDuration,Hr(t)),c<1?(s=m=>{const g=m*c,y=g*t,v=g-n,_=dx(m,c),C=Math.exp(-y);return gy-v/_*C},o=m=>{const y=m*c*t,v=y*n+n,_=Math.pow(c,2)*Math.pow(m,2)*t,C=Math.exp(-y),E=dx(Math.pow(m,2),c);return(-s(m)+gy>0?-1:1)*((v-_)*C)/E}):(s=m=>{const g=Math.exp(-m*t),y=(m-n)*t+1;return-gy+g*y},o=m=>{const g=Math.exp(-m*t),y=(n-m)*(t*t);return g*y});const u=5/t,h=NM(s,o,u);if(t=$s(t),isNaN(h))return{stiffness:Bt.stiffness,damping:Bt.damping,duration:t};{const m=Math.pow(h,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:t}}}const EM=12;function NM(t,e,n){let r=n;for(let s=1;s<EM;s++)r=r-t(r)/e(r);return r}function dx(t,e){return t*Math.sqrt(1-e*e)}const AM=["duration","bounce"],TM=["stiffness","damping","mass"];function u_(t,e){return e.some(n=>t[n]!==void 0)}function CM(t){let e={velocity:Bt.velocity,stiffness:Bt.stiffness,damping:Bt.damping,mass:Bt.mass,isResolvedFromDuration:!1,...t};if(!u_(t,TM)&&u_(t,AM))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*Zs(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Bt.mass,stiffness:s,damping:o}}else{const n=_M(t);e={...e,...n,mass:Bt.mass},e.isResolvedFromDuration=!0}return e}function nm(t=Bt.visualDuration,e=Bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:m,mass:g,duration:y,velocity:v,isResolvedFromDuration:_}=CM({...n,velocity:-Hr(n.velocity||0)}),C=v||0,E=m/(2*Math.sqrt(h*g)),N=c-o,j=Hr(Math.sqrt(h/g)),O=Math.abs(N)<5;r||(r=O?Bt.restSpeed.granular:Bt.restSpeed.default),s||(s=O?Bt.restDelta.granular:Bt.restDelta.default);let R;if(E<1){const V=dx(j,E);R=q=>{const k=Math.exp(-E*j*q);return c-k*((C+E*j*N)/V*Math.sin(V*q)+N*Math.cos(V*q))}}else if(E===1)R=V=>c-Math.exp(-j*V)*(N+(C+j*N)*V);else{const V=j*Math.sqrt(E*E-1);R=q=>{const k=Math.exp(-E*j*q),S=Math.min(V*q,300);return c-k*((C+E*j*N)*Math.sinh(S)+V*N*Math.cosh(S))/V}}const z={calculatedDuration:_&&y||null,next:V=>{const q=R(V);if(_)u.done=V>=y;else{let k=V===0?C:0;E<1&&(k=V===0?$s(C):LA(R,V,q));const S=Math.abs(k)<=r,M=Math.abs(c-q)<=s;u.done=S&&M}return u.value=u.done?c:q,u},toString:()=>{const V=Math.min(O0(z),tm),q=VA(k=>z.next(V*k).value,V,30);return V+"ms "+q},toTransition:()=>{}};return z}nm.applyToOptions=t=>{const e=wM(t,100,nm);return t.ease=e.ease,t.duration=$s(e.duration),t.type="keyframes",t};function hx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:c,min:u,max:h,restDelta:m=.5,restSpeed:g}){const y=t[0],v={done:!1,value:y},_=S=>u!==void 0&&S<u||h!==void 0&&S>h,C=S=>u===void 0?h:h===void 0||Math.abs(u-S)<Math.abs(h-S)?u:h;let E=n*e;const N=y+E,j=c===void 0?N:c(N);j!==N&&(E=j-y);const O=S=>-E*Math.exp(-S/r),R=S=>j+O(S),z=S=>{const M=O(S),B=R(S);v.done=Math.abs(M)<=m,v.value=v.done?j:B};let V,q;const k=S=>{_(v.value)&&(V=S,q=nm({keyframes:[v.value,C(v.value)],velocity:LA(R,S,v.value),damping:s,stiffness:o,restDelta:m,restSpeed:g}))};return k(0),{calculatedDuration:null,next:S=>{let M=!1;return!q&&V===void 0&&(M=!0,z(S),k(S)),V!==void 0&&S>=V?q.next(S-V):(!M&&z(S),v)}}}function SM(t,e,n){const r=[],s=n||Ii.mix||OA,o=t.length-1;for(let c=0;c<o;c++){let u=s(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||lr:e;u=Nd(h,u)}r.push(u)}return r}function V0(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(rd(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=SM(e,r,s),h=u.length,m=g=>{if(c&&g<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const v=ic(t[y],t[y+1],g);return u[y](v)};return n?g=>m(Zs(t[0],t[o-1],g)):m}function IM(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ic(0,e,r);t.push(Mt(n,1,s))}}function BA(t){const e=[0];return IM(e,t.length-1),e}function jM(t,e){return t.map(n=>n*e)}function kM(t,e){return t.map(()=>e||CA).splice(0,t.length-1)}function Hu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=$3(r)?r.map(i_):i_(r),o={done:!1,value:e[0]},c=jM(n&&n.length===e.length?n:BA(e),t),u=V0(c,e,{ease:Array.isArray(s)?s:kM(e,s)});return{calculatedDuration:t,next:h=>(o.value=u(h),o.done=h>=t,o)}}const RM=t=>t!==null;function L0(t,{repeat:e,repeatType:n="loop"},r,s=1){const o=t.filter(RM),u=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||r===void 0?o[u]:r}const PM={decay:hx,inertia:hx,tween:Hu,keyframes:Hu,spring:nm};function zA(t){typeof t.type=="string"&&(t.type=PM[t.type])}class B0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const MM=t=>t/100;class Hm extends B0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==ar.now()&&this.tick(ar.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;zA(e);const{type:n=Hu,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:c=0}=e;let{keyframes:u}=e;const h=n||Hu;h!==Hu&&typeof u[0]!="number"&&(this.mixKeyframes=Nd(MM,OA(u[0],u[1])),u=[0,100]);const m=h({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=O0(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:g,repeat:y,repeatType:v,repeatDelay:_,type:C,onUpdate:E,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-m*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?j<0:j>s;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let R=this.currentTime,z=r;if(y){const S=Math.min(this.currentTime,s)/u;let M=Math.floor(S),B=S%1;!B&&S>=1&&(B=1),B===1&&M--,M=Math.min(M,y+1),!!(M%2)&&(v==="reverse"?(B=1-B,_&&(B-=_/u)):v==="mirror"&&(z=c)),R=Zs(0,1,B)*u}const V=O?{done:!1,value:g[0]}:z.next(R);o&&(V.value=o(V.value));let{done:q}=V;!O&&h!==null&&(q=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return k&&C!==hx&&(V.value=L0(g,this.options,N,this.speed)),E&&E(V.value),k&&this.finish(),V}then(e,n){return this.finished.then(e,n)}get duration(){return Hr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Hr(e)}get time(){return Hr(this.currentTime)}set time(e){e=$s(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ar.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Hr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=vM,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ar.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function FM(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ia=t=>t*180/Math.PI,fx=t=>{const e=Ia(Math.atan2(t[1],t[0]));return mx(e)},DM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:fx,rotateZ:fx,skewX:t=>Ia(Math.atan(t[1])),skewY:t=>Ia(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},mx=t=>(t=t%360,t<0&&(t+=360),t),d_=fx,h_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),f_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),OM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:h_,scaleY:f_,scale:t=>(h_(t)+f_(t))/2,rotateX:t=>mx(Ia(Math.atan2(t[6],t[5]))),rotateY:t=>mx(Ia(Math.atan2(-t[2],t[0]))),rotateZ:d_,rotate:d_,skewX:t=>Ia(Math.atan(t[4])),skewY:t=>Ia(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function px(t){return t.includes("scale")?1:0}function gx(t,e){if(!t||t==="none")return px(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=OM,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=DM,s=u}if(!s)return px(e);const o=r[e],c=s[1].split(",").map(LM);return typeof o=="function"?o(c):c[o]}const VM=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return gx(n,e)};function LM(t){return parseFloat(t.trim())}const bc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_c=new Set(bc),m_=t=>t===wc||t===Be,BM=new Set(["x","y","z"]),zM=bc.filter(t=>!BM.has(t));function UM(t){const e=[];return zM.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ra={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>gx(e,"x"),y:(t,{transform:e})=>gx(e,"y")};Ra.translateX=Ra.x;Ra.translateY=Ra.y;const Pa=new Set;let yx=!1,xx=!1,vx=!1;function UA(){if(xx){const t=Array.from(Pa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=UM(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,c])=>{r.getValue(o)?.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}xx=!1,yx=!1,Pa.forEach(t=>t.complete(vx)),Pa.clear()}function HA(){Pa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(xx=!0)})}function HM(){vx=!0,HA(),UA(),vx=!1}class z0{constructor(e,n,r,s,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Pa.add(this),yx||(yx=!0,ut.read(HA),ut.resolveKeyframes(UA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const o=s?.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),s&&o===void 0&&s.set(e[0])}FM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Pa.delete(this)}cancel(){this.state==="scheduled"&&(Pa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $M=t=>t.startsWith("--");function WM(t,e,n){$M(e)?t.style.setProperty(e,n):t.style[e]=n}const $A=C0(()=>window.ScrollTimeline!==void 0),GM={};function qM(t,e){const n=C0(t);return()=>GM[e]??n()}const WA=qM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,p_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pu([0,.65,.55,1]),circOut:Pu([.55,0,1,.45]),backIn:Pu([.31,.01,.66,-.59]),backOut:Pu([.33,1.53,.69,.99])};function GA(t,e){if(t)return typeof t=="function"?WA()?VA(t,e):"ease-out":SA(t)?Pu(t):Array.isArray(t)?t.map(n=>GA(n,e)||p_.easeOut):p_[t]}function KM(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:c="loop",ease:u="easeOut",times:h}={},m=void 0){const g={[e]:n};h&&(g.offset=h);const y=GA(u,s);Array.isArray(y)&&(g.easing=y);const v={delay:r,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return m&&(v.pseudoElement=m),t.animate(g,v)}function qA(t){return typeof t=="function"&&"applyToOptions"in t}function YM({type:t,...e}){return qA(t)&&WA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class XM extends B0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,rd(typeof e.type!="string");const m=YM(e);this.animation=KM(n,r,s,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=L0(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):WM(n,r,g),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Hr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Hr(e)}get time(){return Hr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=$s(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&$A()?(this.animation.timeline=e,lr):n(this)}}const KA={anticipate:NA,backInOut:EA,circInOut:TA};function JM(t){return t in KA}function QM(t){typeof t.ease=="string"&&JM(t.ease)&&(t.ease=KA[t.ease])}const g_=10;class ZM extends XM{constructor(e){QM(e),zA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:o,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new Hm({...c,autoplay:!1}),h=$s(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-g_).value,u.sample(h).value,g_),u.stop()}}const y_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(So.test(t)||t==="0")&&!t.startsWith("url("));function eF(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function tF(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=y_(s,e),u=y_(o,e);return!c||!u?!1:eF(t)||(n==="spring"||qA(n))&&r}function wx(t){t.duration=0,t.type="keyframes"}const nF=new Set(["opacity","clipPath","filter","transform"]),rF=C0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function sF(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:o,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=e.owner.getProps();return rF()&&n&&nF.has(n)&&(n!=="transform"||!m)&&!h&&!r&&s!=="mirror"&&o!==0&&c!=="inertia"}const iF=40;class oF extends B0{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:c="loop",keyframes:u,name:h,motionValue:m,element:g,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ar.now();const v={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:c,name:h,motionValue:m,element:g,...y},_=g?.KeyframeResolver||z0;this.keyframeResolver=new _(u,(C,E,N)=>this.onKeyframesResolved(C,E,v,!N),h,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:o,type:c,velocity:u,delay:h,isHandoff:m,onUpdate:g}=r;this.resolvedAt=ar.now(),tF(e,o,c,u)||((Ii.instantAnimations||!h)&&g?.(L0(e,r,n)),e[0]=e[e.length-1],wx(r),r.repeat=0);const v={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>iF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},_=!m&&sF(v)?new ZM({...v,element:v.motionValue.owner.current}):new Hm(v);_.finished.then(()=>this.notifyFinished()).catch(lr),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),HM()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const aF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lF(t){const e=aF.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function YA(t,e,n=1){const[r,s]=lF(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const c=o.trim();return gA(c)?parseFloat(c):c}return P0(s)?YA(s,e,n+1):s}function U0(t,e){return t?.[e]??t?.default??t}const XA=new Set(["width","height","top","left","right","bottom",...bc]),cF={test:t=>t==="auto",parse:t=>t},JA=t=>e=>e.test(t),QA=[wc,Be,Ws,mo,rM,nM,cF],x_=t=>QA.find(JA(t));function uF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||xA(t):!0}const dF=new Set(["brightness","contrast","saturate","opacity"]);function hF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(M0)||[];if(!r)return t;const s=n.replace(r,"");let o=dF.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const fF=/\b([a-z-]*)\(.*?\)/gu,bx={...So,getAnimatableNone:t=>{const e=t.match(fF);return e?e.map(hF).join(" "):t}},v_={...wc,transform:Math.round},mF={rotate:mo,rotateX:mo,rotateY:mo,rotateZ:mo,scale:of,scaleX:of,scaleY:of,scaleZ:of,skew:mo,skewX:mo,skewY:mo,distance:Be,translateX:Be,translateY:Be,translateZ:Be,x:Be,y:Be,z:Be,perspective:Be,transformPerspective:Be,opacity:sd,originX:o_,originY:o_,originZ:Be},H0={borderWidth:Be,borderTopWidth:Be,borderRightWidth:Be,borderBottomWidth:Be,borderLeftWidth:Be,borderRadius:Be,radius:Be,borderTopLeftRadius:Be,borderTopRightRadius:Be,borderBottomRightRadius:Be,borderBottomLeftRadius:Be,width:Be,maxWidth:Be,height:Be,maxHeight:Be,top:Be,right:Be,bottom:Be,left:Be,padding:Be,paddingTop:Be,paddingRight:Be,paddingBottom:Be,paddingLeft:Be,margin:Be,marginTop:Be,marginRight:Be,marginBottom:Be,marginLeft:Be,backgroundPositionX:Be,backgroundPositionY:Be,...mF,zIndex:v_,fillOpacity:sd,strokeOpacity:sd,numOctaves:v_},pF={...H0,color:Zt,backgroundColor:Zt,outlineColor:Zt,fill:Zt,stroke:Zt,borderColor:Zt,borderTopColor:Zt,borderRightColor:Zt,borderBottomColor:Zt,borderLeftColor:Zt,filter:bx,WebkitFilter:bx},ZA=t=>pF[t];function eT(t,e){let n=ZA(t);return n!==bx&&(n=So),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const gF=new Set(["auto","none","0"]);function yF(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!gF.has(o)&&id(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=eT(n,s)}class xF extends z0{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),P0(m))){const g=YA(m,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!XA.has(r)||e.length!==2)return;const[s,o]=e,c=x_(s),u=x_(o);if(c!==u)if(m_(c)&&m_(u))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else Ra[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||uF(e[s]))&&r.push(s);r.length&&yF(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ra[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,c=r[o];r[o]=Ra[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,h])=>{e.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function $0(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const tT=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function W0(t){return yA(t)&&"offsetHeight"in t}const w_=30,vF=t=>!isNaN(parseFloat(t)),$u={current:void 0};class wF{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=ar.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ar.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=vF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new S0);const r=this.events[e].add(n);return e==="change"?()=>{r(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return $u.current&&$u.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=ar.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>w_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,w_);return I0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function as(t,e){return new wF(t,e)}const{schedule:G0}=IA(queueMicrotask,!1),is={x:!1,y:!1};function nT(){return is.x||is.y}function bF(t){return t==="x"||t==="y"?is[t]?null:(is[t]=!0,()=>{is[t]=!1}):is.x||is.y?null:(is.x=is.y=!0,()=>{is.x=is.y=!1})}function rT(t,e){const n=$0(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function b_(t){return!(t.pointerType==="touch"||nT())}function _F(t,e,n={}){const[r,s,o]=rT(t,n),c=u=>{if(!b_(u))return;const{target:h}=u,m=e(h,u);if(typeof m!="function"||!h)return;const g=y=>{b_(y)&&(m(y),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,s)};return r.forEach(u=>{u.addEventListener("pointerenter",c,s)}),o}const sT=(t,e)=>e?t===e?!0:sT(t,e.parentElement):!1,q0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,EF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NF(t){return EF.has(t.tagName)||t.tabIndex!==-1}const kf=new WeakSet;function __(t){return e=>{e.key==="Enter"&&t(e)}}function yy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const AF=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=__(()=>{if(kf.has(n))return;yy(n,"down");const s=__(()=>{yy(n,"up")}),o=()=>yy(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function E_(t){return q0(t)&&!nT()}function TF(t,e,n={}){const[r,s,o]=rT(t,n),c=u=>{const h=u.currentTarget;if(!E_(u))return;kf.add(h);const m=e(h,u),g=(_,C)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),kf.has(h)&&kf.delete(h),E_(_)&&typeof m=="function"&&m(_,{success:C})},y=_=>{g(_,h===window||h===document||n.useGlobalTarget||sT(h,_.target))},v=_=>{g(_,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",v,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",c,s),W0(u)&&(u.addEventListener("focus",m=>AF(m,s)),!NF(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function K0(t){return yA(t)&&"ownerSVGElement"in t}const Rf=new WeakMap;let Pf;const iT=(t,e,n)=>(r,s)=>s&&s[0]?s[0][t+"Size"]:K0(r)&&"getBBox"in r?r.getBBox()[e]:r[n],CF=iT("inline","width","offsetWidth"),SF=iT("block","height","offsetHeight");function IF({target:t,borderBoxSize:e}){Rf.get(t)?.forEach(n=>{n(t,{get width(){return CF(t,e)},get height(){return SF(t,e)}})})}function jF(t){t.forEach(IF)}function kF(){typeof ResizeObserver>"u"||(Pf=new ResizeObserver(jF))}function RF(t,e){Pf||kF();const n=$0(t);return n.forEach(r=>{let s=Rf.get(r);s||(s=new Set,Rf.set(r,s)),s.add(e),Pf?.observe(r)}),()=>{n.forEach(r=>{const s=Rf.get(r);s?.delete(e),s?.size||Pf?.unobserve(r)})}}const Mf=new Set;let $l;function PF(){$l=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Mf.forEach(e=>e(t))},window.addEventListener("resize",$l)}function MF(t){return Mf.add(t),$l||PF(),()=>{Mf.delete(t),!Mf.size&&typeof $l=="function"&&(window.removeEventListener("resize",$l),$l=void 0)}}function FF(t,e){return typeof t=="function"?MF(t):RF(t,e)}function oT(t,e){let n;const r=()=>{const{currentTime:s}=e,c=(s===null?0:s.value)/100;n!==c&&t(c),n=c};return ut.preUpdate(r,!0),()=>us(r)}function DF(t){return K0(t)&&t.tagName==="svg"}function OF(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],s=t[1+n],o=t[2+n],c=t[3+n],u=V0(s,o,c);return e?u(r):u}const gn=t=>!!(t&&t.getVelocity);function VF(t,e,n){const r=t.get();let s=null,o=r,c;const u=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,h=()=>{s&&(s.stop(),s=null)},m=()=>{h(),s=new Hm({keyframes:[A_(t.get()),A_(o)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:c})};if(t.attach((g,y)=>{o=g,c=v=>y(N_(v,u)),ut.postRender(m)},h),gn(e)){const g=e.on("change",v=>t.set(N_(v,u))),y=t.on("destroy",g);return()=>{g(),y()}}return h}function N_(t,e){return e?t+e:t}function A_(t){return typeof t=="number"?t:parseFloat(t)}const LF=[...QA,Zt,So],BF=t=>LF.find(JA(t)),Cd=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function T_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function zF(...t){return e=>{let n=!1;const r=t.map(s=>{const o=T_(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():T_(t[s],null)}}}}function UF(...t){return A.useCallback(zF(...t),t)}class HF extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=W0(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function $F({children:t,isPresent:e,anchorX:n,root:r}){const s=A.useId(),o=A.useRef(null),c=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=A.useContext(Cd),h=UF(o,t?.ref);return A.useInsertionEffect(()=>{const{width:m,height:g,top:y,left:v,right:_}=c.current;if(e||!o.current||!m||!g)return;const C=n==="left"?`left: ${v}`:`right: ${_}`;o.current.dataset.motionPopId=s;const E=document.createElement("style");u&&(E.nonce=u);const N=r??document.head;return N.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${g}px !important;
            ${C}px !important;
            top: ${y}px !important;
          }
        `),()=>{N.contains(E)&&N.removeChild(E)}},[e]),l.jsx(HF,{isPresent:e,childRef:o,sizeRef:c,children:A.cloneElement(t,{ref:h})})}const WF=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:c,anchorX:u,root:h})=>{const m=vc(GF),g=A.useId();let y=!0,v=A.useMemo(()=>(y=!1,{id:g,initial:e,isPresent:n,custom:s,onExitComplete:_=>{m.set(_,!0);for(const C of m.values())if(!C)return;r&&r()},register:_=>(m.set(_,!1),()=>m.delete(_))}),[n,m,r]);return o&&y&&(v={...v}),A.useMemo(()=>{m.forEach((_,C)=>m.set(C,!1))},[n]),A.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),c==="popLayout"&&(t=l.jsx($F,{isPresent:n,anchorX:u,root:h,children:t})),l.jsx(Um.Provider,{value:v,children:t})};function GF(){return new Map}function aT(t=!0){const e=A.useContext(Um);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=A.useId();A.useEffect(()=>{if(t)return s(o)},[t]);const c=A.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,c]:[!0]}const af=t=>t.key||"";function C_(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const ei=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync",propagate:c=!1,anchorX:u="left",root:h})=>{const[m,g]=aT(c),y=A.useMemo(()=>C_(t),[t]),v=c&&!m?[]:y.map(af),_=A.useRef(!0),C=A.useRef(y),E=vc(()=>new Map),[N,j]=A.useState(y),[O,R]=A.useState(y);zm(()=>{_.current=!1,C.current=y;for(let q=0;q<O.length;q++){const k=af(O[q]);v.includes(k)?E.delete(k):E.get(k)!==!0&&E.set(k,!1)}},[O,v.length,v.join("-")]);const z=[];if(y!==N){let q=[...y];for(let k=0;k<O.length;k++){const S=O[k],M=af(S);v.includes(M)||(q.splice(k,0,S),z.push(S))}return o==="wait"&&z.length&&(q=z),R(C_(q)),j(y),null}const{forceRender:V}=A.useContext(E0);return l.jsx(l.Fragment,{children:O.map(q=>{const k=af(q),S=c&&!m?!1:y===O||v.includes(k),M=()=>{if(E.has(k))E.set(k,!0);else return;let B=!0;E.forEach(D=>{D||(B=!1)}),B&&(V?.(),R(C.current),c&&g?.(),r&&r())};return l.jsx(WF,{isPresent:S,initial:!_.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,root:h,onExitComplete:S?void 0:M,anchorX:u,children:q},k)})})},lT=A.createContext({strict:!1}),S_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},oc={};for(const t in S_)oc[t]={isEnabled:e=>S_[t].some(n=>!!e[n])};function qF(t){for(const e in t)oc[e]={...oc[e],...t[e]}}const KF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||KF.has(t)}let cT=t=>!rm(t);function YF(t){typeof t=="function"&&(cT=e=>e.startsWith("on")?!rm(e):t(e))}try{YF(require("@emotion/is-prop-valid").default)}catch{}function XF(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(cT(s)||n===!0&&rm(s)||!e&&!rm(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const $m=A.createContext({});function Wm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function od(t){return typeof t=="string"||Array.isArray(t)}const Y0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],X0=["initial",...Y0];function Gm(t){return Wm(t.animate)||X0.some(e=>od(t[e]))}function uT(t){return!!(Gm(t)||t.variants)}function JF(t,e){if(Gm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||od(n)?n:void 0,animate:od(r)?r:void 0}}return t.inherit!==!1?e:{}}function QF(t){const{initial:e,animate:n}=JF(t,A.useContext($m));return A.useMemo(()=>({initial:e,animate:n}),[I_(e),I_(n)])}function I_(t){return Array.isArray(t)?t.join(" "):t}const ad={};function ZF(t){for(const e in t)ad[e]=t[e],R0(e)&&(ad[e].isCSSVariable=!0)}function dT(t,{layout:e,layoutId:n}){return _c.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ad[t]||t==="opacity")}const e4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},t4=bc.length;function n4(t,e,n){let r="",s=!0;for(let o=0;o<t4;o++){const c=bc[o],u=t[c];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(c.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const m=tT(u,H0[c]);if(!h){s=!1;const g=e4[c]||c;r+=`${g}(${m}) `}n&&(e[c]=m)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function J0(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let c=!1,u=!1;for(const h in e){const m=e[h];if(_c.has(h)){c=!0;continue}else if(R0(h)){s[h]=m;continue}else{const g=tT(m,H0[h]);h.startsWith("origin")?(u=!0,o[h]=g):r[h]=g}}if(e.transform||(c||n?r.transform=n4(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:g=0}=o;r.transformOrigin=`${h} ${m} ${g}`}}const Q0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hT(t,e,n){for(const r in e)!gn(e[r])&&!dT(r,n)&&(t[r]=e[r])}function r4({transformTemplate:t},e){return A.useMemo(()=>{const n=Q0();return J0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function s4(t,e){const n=t.style||{},r={};return hT(r,n,t),Object.assign(r,r4(t,e)),r}function i4(t,e){const n={},r=s4(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const o4={offset:"stroke-dashoffset",array:"stroke-dasharray"},a4={offset:"strokeDashoffset",array:"strokeDasharray"};function l4(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?o4:a4;t[o.offset]=Be.transform(-r);const c=Be.transform(e),u=Be.transform(n);t[o.array]=`${c} ${u}`}function fT(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:c=0,...u},h,m,g){if(J0(t,u,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:v}=t;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=g?.transformBox??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),s!==void 0&&l4(y,s,o,c,!1)}const mT=()=>({...Q0(),attrs:{}}),pT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function c4(t,e,n,r){const s=A.useMemo(()=>{const o=mT();return fT(o,e,pT(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};hT(o,t.style,t),s.style={...o,...s.style}}return s}const u4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Z0(t){return typeof t!="string"||t.includes("-")?!1:!!(u4.indexOf(t)>-1||/[A-Z]/u.test(t))}function d4(t,e,n,{latestValues:r},s,o=!1){const u=(Z0(t)?c4:i4)(e,r,s,t),h=XF(e,typeof t=="string",o),m=t!==A.Fragment?{...h,...u,ref:n}:{},{children:g}=e,y=A.useMemo(()=>gn(g)?g.get():g,[g]);return A.createElement(t,{...m,children:y})}function j_(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function ev(t,e,n,r){if(typeof e=="function"){const[s,o]=j_(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=j_(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function Ff(t){return gn(t)?t.get():t}function h4({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:f4(n,r,s,t),renderState:e()}}function f4(t,e,n,r){const s={},o=r(t,{});for(const v in o)s[v]=Ff(o[v]);let{initial:c,animate:u}=t;const h=Gm(t),m=uT(t);e&&m&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const y=g?u:c;if(y&&typeof y!="boolean"&&!Wm(y)){const v=Array.isArray(y)?y:[y];for(let _=0;_<v.length;_++){const C=ev(t,v[_]);if(C){const{transitionEnd:E,transition:N,...j}=C;for(const O in j){let R=j[O];if(Array.isArray(R)){const z=g?R.length-1:0;R=R[z]}R!==null&&(s[O]=R)}for(const O in E)s[O]=E[O]}}}return s}const gT=t=>(e,n)=>{const r=A.useContext($m),s=A.useContext(Um),o=()=>h4(t,e,r,s);return n?o():vc(o)};function tv(t,e,n){const{style:r}=t,s={};for(const o in r)(gn(r[o])||e.style&&gn(e.style[o])||dT(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(s[o]=r[o]);return s}const m4=gT({scrapeMotionValuesFromProps:tv,createRenderState:Q0});function yT(t,e,n){const r=tv(t,e,n);for(const s in t)if(gn(t[s])||gn(e[s])){const o=bc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}const p4=gT({scrapeMotionValuesFromProps:yT,createRenderState:mT}),g4=Symbol.for("motionComponentSymbol");function Wl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function y4(t,e,n){return A.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Wl(n)&&(n.current=r))},[e])}const nv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),x4="framerAppearId",xT="data-"+nv(x4),vT=A.createContext({});function v4(t,e,n,r,s){const{visualElement:o}=A.useContext($m),c=A.useContext(lT),u=A.useContext(Um),h=A.useContext(Cd).reducedMotion,m=A.useRef(null);r=r||c.renderer,!m.current&&r&&(m.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const g=m.current,y=A.useContext(vT);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&w4(m.current,n,s,y);const v=A.useRef(!1);A.useInsertionEffect(()=>{g&&v.current&&g.update(n,u)});const _=n[xT],C=A.useRef(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return zm(()=>{g&&(v.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),C.current&&g.animationState&&g.animationState.animateChanges())}),A.useEffect(()=>{g&&(!C.current&&g.animationState&&g.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),C.current=!1),g.enteringChildren=void 0)}),g}function w4(t,e,n,r){const{layoutId:s,layout:o,drag:c,dragConstraints:u,layoutScroll:h,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:wT(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!c||u&&Wl(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:h,layoutRoot:m})}function wT(t){if(t)return t.options.allowProjection!==!1?t.projection:wT(t.parent)}function xy(t,{forwardMotionProps:e=!1}={},n,r){n&&qF(n);const s=Z0(t)?p4:m4;function o(u,h){let m;const g={...A.useContext(Cd),...u,layoutId:b4(u)},{isStatic:y}=g,v=QF(u),_=s(u,y);if(!y&&N0){_4();const C=E4(g);m=C.MeasureLayout,v.visualElement=v4(t,_,g,r,C.ProjectionNode)}return l.jsxs($m.Provider,{value:v,children:[m&&v.visualElement?l.jsx(m,{visualElement:v.visualElement,...g}):null,d4(t,u,y4(_,v.visualElement,h),_,y,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=A.forwardRef(o);return c[g4]=t,c}function b4({layoutId:t}){const e=A.useContext(E0).id;return e&&t!==void 0?e+"-"+t:t}function _4(t,e){A.useContext(lT).strict}function E4(t){const{drag:e,layout:n}=oc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function N4(t,e){if(typeof Proxy>"u")return xy;const n=new Map,r=(o,c)=>xy(o,c,t,e),s=(o,c)=>r(o,c);return new Proxy(s,{get:(o,c)=>c==="create"?r:(n.has(c)||n.set(c,xy(c,void 0,t,e)),n.get(c))})}function bT({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function A4({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function T4(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function vy(t){return t===void 0||t===1}function _x({scale:t,scaleX:e,scaleY:n}){return!vy(t)||!vy(e)||!vy(n)}function Na(t){return _x(t)||_T(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function _T(t){return k_(t.x)||k_(t.y)}function k_(t){return t&&t!=="0%"}function sm(t,e,n){const r=t-n,s=e*r;return n+s}function R_(t,e,n,r,s){return s!==void 0&&(t=sm(t,s,r)),sm(t,n,r)+e}function Ex(t,e=0,n=1,r,s){t.min=R_(t.min,e,n,r,s),t.max=R_(t.max,e,n,r,s)}function ET(t,{x:e,y:n}){Ex(t.x,e.translate,e.scale,e.originPoint),Ex(t.y,n.translate,n.scale,n.originPoint)}const P_=.999999999999,M_=1.0000000000001;function C4(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,c;for(let u=0;u<s;u++){o=n[u],c=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ql(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,ET(t,c)),r&&Na(o.latestValues)&&ql(t,o.latestValues))}e.x<M_&&e.x>P_&&(e.x=1),e.y<M_&&e.y>P_&&(e.y=1)}function Gl(t,e){t.min=t.min+e,t.max=t.max+e}function F_(t,e,n,r,s=.5){const o=Mt(t.min,t.max,s);Ex(t,e,n,o,r)}function ql(t,e){F_(t.x,e.x,e.scaleX,e.scale,e.originX),F_(t.y,e.y,e.scaleY,e.scale,e.originY)}function NT(t,e){return bT(T4(t.getBoundingClientRect(),e))}function S4(t,e,n){const r=NT(t,n),{scroll:s}=e;return s&&(Gl(r.x,s.offset.x),Gl(r.y,s.offset.y)),r}const D_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kl=()=>({x:D_(),y:D_()}),O_=()=>({min:0,max:0}),Wt=()=>({x:O_(),y:O_()}),Nx={current:null},AT={current:!1};function I4(){if(AT.current=!0,!!N0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Nx.current=t.matches;t.addEventListener("change",e),e()}else Nx.current=!1}const j4=new WeakMap;function k4(t,e,n){for(const r in e){const s=e[r],o=n[r];if(gn(s))t.addValue(r,s);else if(gn(o))t.addValue(r,as(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(s):c.hasAnimated||c.set(s)}else{const c=t.getStaticValue(r);t.addValue(r,as(c!==void 0?c:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const V_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class R4{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=z0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=ar.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,ut.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Gm(n),this.isVariantNode=uT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in y){const _=y[v];h[v]!==void 0&&gn(_)&&_.set(h[v])}}mount(e){this.current=e,j4.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),AT.current||I4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Nx.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),us(this.notifyUpdate),us(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=_c.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ut.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in oc){const n=oc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<V_.length;r++){const s=V_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,c=e[o];c&&(this.propEventSubscriptions[s]=this.on(s,c))}this.prevMotionValues=k4(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=as(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(gA(r)||xA(r))?r=parseFloat(r):!BF(r)&&So.test(n)&&(r=eT(e,n)),this.setBaseTarget(e,gn(r)?r.get():r)),gn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=ev(this.props,n,this.presenceContext?.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!gn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new S0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){G0.render(this.render)}}class TT extends R4{constructor(){super(...arguments),this.KeyframeResolver=xF}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function CT(t,{style:e,vars:n},r,s){const o=t.style;let c;for(c in e)o[c]=e[c];s?.applyProjectionStyles(o,r);for(c in n)o.setProperty(c,n[c])}function P4(t){return window.getComputedStyle(t)}class M4 extends TT{constructor(){super(...arguments),this.type="html",this.renderInstance=CT}readValueFromInstance(e,n){if(_c.has(n))return this.projection?.isProjecting?px(n):VM(e,n);{const r=P4(e),s=(R0(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return NT(e,n)}build(e,n,r){J0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return tv(e,n,r)}}const ST=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function F4(t,e,n,r){CT(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(ST.has(s)?s:nv(s),e.attrs[s])}class D4 extends TT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(_c.has(n)){const r=ZA(n);return r&&r.default||0}return n=ST.has(n)?n:nv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return yT(e,n,r)}build(e,n,r){fT(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){F4(e,n,r,s)}mount(e){this.isSVGTag=pT(e.tagName),super.mount(e)}}const O4=(t,e)=>Z0(t)?new D4(e):new M4(e,{allowProjection:t!==A.Fragment});function Yl(t,e,n){const r=t.getProps();return ev(r,e,n!==void 0?n:r.custom,t)}const Ax=t=>Array.isArray(t);function V4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,as(n))}function L4(t){return Ax(t)?t[t.length-1]||0:t}function B4(t,e){const n=Yl(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const c in o){const u=L4(o[c]);V4(t,c,u)}}function z4(t){return!!(gn(t)&&t.add)}function Tx(t,e){const n=t.getValue("willChange");if(z4(n))return n.add(e);if(!n&&Ii.WillChange){const r=new Ii.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function IT(t){return t.props[xT]}const U4=t=>t!==null;function H4(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(U4),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const $4={type:"spring",stiffness:500,damping:25,restSpeed:10},W4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),G4={type:"keyframes",duration:.8},q4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},K4=(t,{keyframes:e})=>e.length>2?G4:_c.has(t)?t.startsWith("scale")?W4(e[1]):$4:q4;function Y4({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:c,repeatDelay:u,from:h,elapsed:m,...g}){return!!Object.keys(g).length}const rv=(t,e,n,r={},s,o)=>c=>{const u=U0(r,t)||{},h=u.delay||r.delay||0;let{elapsed:m=0}=r;m=m-$s(h);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-m,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:s};Y4(u)||Object.assign(g,K4(t,g)),g.duration&&(g.duration=$s(g.duration)),g.repeatDelay&&(g.repeatDelay=$s(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(wx(g),g.delay===0&&(y=!0)),(Ii.instantAnimations||Ii.skipAnimations)&&(y=!0,wx(g),g.delay=0),g.allowFlatten=!u.type&&!u.ease,y&&!o&&e.get()!==void 0){const v=H4(g.keyframes,u);if(v!==void 0){ut.update(()=>{g.onUpdate(v),g.onComplete()});return}}return u.isSync?new Hm(g):new oF(g)};function X4({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function jT(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:c,...u}=e;r&&(o=r);const h=[],m=s&&t.animationState&&t.animationState.getState()[s];for(const g in u){const y=t.getValue(g,t.latestValues[g]??null),v=u[g];if(v===void 0||m&&X4(m,g))continue;const _={delay:n,...U0(o||{},g)},C=y.get();if(C!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===C&&!_.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const j=IT(t);if(j){const O=window.MotionHandoffAnimation(j,g,ut);O!==null&&(_.startTime=O,E=!0)}}Tx(t,g),y.start(rv(g,y,v,t.shouldReduceMotion&&XA.has(g)?{type:!1}:_,t,E));const N=y.animation;N&&h.push(N)}return c&&Promise.all(h).then(()=>{ut.update(()=>{c&&B4(t,c)})}),h}function kT(t,e,n,r=0,s=1){const o=Array.from(t).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),c=t.size,u=(c-1)*r;return typeof n=="function"?n(o,c):s===1?o*r:u-o*r}function Cx(t,e,n={}){const r=Yl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(jT(t,r,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:y}=s;return J4(t,e,h,m,g,y,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[h,m]=u==="beforeChildren"?[o,c]:[c,o];return h().then(()=>m())}else return Promise.all([o(),c(n.delay)])}function J4(t,e,n=0,r=0,s=0,o=1,c){const u=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),u.push(Cx(h,e,{...c,delay:n+(typeof r=="function"?0:r)+kT(t.variantChildren,h,r,s,o)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(u)}function Q4(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>Cx(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=Cx(t,e,n);else{const s=typeof e=="function"?Yl(t,e,n.custom):e;r=Promise.all(jT(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function RT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Z4=X0.length;function PT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?PT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Z4;n++){const r=X0[n],s=t.props[r];(od(s)||s===!1)&&(e[r]=s)}return e}const eD=[...Y0].reverse(),tD=Y0.length;function nD(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Q4(t,n,r)))}function rD(t){let e=nD(t),n=L_(),r=!0;const s=h=>(m,g)=>{const y=Yl(t,g,h==="exit"?t.presenceContext?.custom:void 0);if(y){const{transition:v,transitionEnd:_,...C}=y;m={...m,...C,..._}}return m};function o(h){e=h(t)}function c(h){const{props:m}=t,g=PT(t.parent)||{},y=[],v=new Set;let _={},C=1/0;for(let N=0;N<tD;N++){const j=eD[N],O=n[j],R=m[j]!==void 0?m[j]:g[j],z=od(R),V=j===h?O.isActive:null;V===!1&&(C=N);let q=R===g[j]&&R!==m[j]&&z;if(q&&r&&t.manuallyAnimateOnMount&&(q=!1),O.protectedKeys={..._},!O.isActive&&V===null||!R&&!O.prevProp||Wm(R)||typeof R=="boolean")continue;const k=sD(O.prevProp,R);let S=k||j===h&&O.isActive&&!q&&z||N>C&&z,M=!1;const B=Array.isArray(R)?R:[R];let D=B.reduce(s(j),{});V===!1&&(D={});const{prevResolvedValues:U={}}=O,F={...U,...D},ye=le=>{S=!0,v.has(le)&&(M=!0,v.delete(le)),O.needsAnimating[le]=!0;const G=t.getValue(le);G&&(G.liveStyle=!1)};for(const le in F){const G=D[le],ce=U[le];if(_.hasOwnProperty(le))continue;let se=!1;Ax(G)&&Ax(ce)?se=!RT(G,ce):se=G!==ce,se?G!=null?ye(le):v.add(le):G!==void 0&&v.has(le)?ye(le):O.protectedKeys[le]=!0}O.prevProp=R,O.prevResolvedValues=D,O.isActive&&(_={..._,...D}),r&&t.blockInitialAnimation&&(S=!1);const Ce=q&&k;S&&(!Ce||M)&&y.push(...B.map(le=>{const G={type:j};if(typeof le=="string"&&r&&!Ce&&t.manuallyAnimateOnMount&&t.parent){const{parent:ce}=t,se=Yl(ce,le);if(ce.enteringChildren&&se){const{delayChildren:$}=se.transition||{};G.delay=kT(ce.enteringChildren,t,$)}}return{animation:le,options:G}}))}if(v.size){const N={};if(typeof m.initial!="boolean"){const j=Yl(t,Array.isArray(m.initial)?m.initial[0]:m.initial);j&&j.transition&&(N.transition=j.transition)}v.forEach(j=>{const O=t.getBaseTarget(j),R=t.getValue(j);R&&(R.liveStyle=!0),N[j]=O??null}),y.push({animation:N})}let E=!!y.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(y):Promise.resolve()}function u(h,m){if(n[h].isActive===m)return Promise.resolve();t.variantChildren?.forEach(y=>y.animationState?.setActive(h,m)),n[h].isActive=m;const g=c(h);for(const y in n)n[y].protectedKeys={};return g}return{animateChanges:c,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=L_()}}}function sD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!RT(e,t):!1}function _a(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function L_(){return{animate:_a(!0),whileInView:_a(),whileHover:_a(),whileTap:_a(),whileDrag:_a(),whileFocus:_a(),exit:_a()}}class zo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class iD extends zo{constructor(e){super(e),e.animationState||(e.animationState=rD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let oD=0;class aD extends zo{constructor(){super(...arguments),this.id=oD++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const lD={animation:{Feature:iD},exit:{Feature:aD}};function ld(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Sd(t){return{point:{x:t.pageX,y:t.pageY}}}const cD=t=>e=>q0(e)&&t(e,Sd(e));function Wu(t,e,n,r){return ld(t,e,cD(n),r)}const MT=1e-4,uD=1-MT,dD=1+MT,FT=.01,hD=0-FT,fD=0+FT;function Wn(t){return t.max-t.min}function mD(t,e,n){return Math.abs(t-e)<=n}function B_(t,e,n,r=.5){t.origin=r,t.originPoint=Mt(e.min,e.max,t.origin),t.scale=Wn(n)/Wn(e),t.translate=Mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=uD&&t.scale<=dD||isNaN(t.scale))&&(t.scale=1),(t.translate>=hD&&t.translate<=fD||isNaN(t.translate))&&(t.translate=0)}function Gu(t,e,n,r){B_(t.x,e.x,n.x,r?r.originX:void 0),B_(t.y,e.y,n.y,r?r.originY:void 0)}function z_(t,e,n){t.min=n.min+e.min,t.max=t.min+Wn(e)}function pD(t,e,n){z_(t.x,e.x,n.x),z_(t.y,e.y,n.y)}function U_(t,e,n){t.min=e.min-n.min,t.max=t.min+Wn(e)}function qu(t,e,n){U_(t.x,e.x,n.x),U_(t.y,e.y,n.y)}function Br(t){return[t("x"),t("y")]}const DT=({current:t})=>t?t.ownerDocument.defaultView:null,H_=(t,e)=>Math.abs(t-e);function gD(t,e){const n=H_(t.x,e.x),r=H_(t.y,e.y);return Math.sqrt(n**2+r**2)}class OT{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=by(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,C=gD(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!C)return;const{point:E}=v,{timestamp:N}=mn;this.history.push({...E,timestamp:N});const{onStart:j,onMove:O}=this.handlers;_||(j&&j(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,v)},this.handlePointerMove=(v,_)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=wy(_,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(v,_)=>{this.end();const{onEnd:C,onSessionEnd:E,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=by(v.type==="pointercancel"?this.lastMoveEventInfo:wy(_,this.transformPagePoint),this.history);this.startEvent&&C&&C(v,j),E&&E(v,j)},!q0(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=s||window;const u=Sd(e),h=wy(u,this.transformPagePoint),{point:m}=h,{timestamp:g}=mn;this.history=[{...m,timestamp:g}];const{onSessionStart:y}=n;y&&y(e,by(h,this.history)),this.removeListeners=Nd(Wu(this.contextWindow,"pointermove",this.handlePointerMove),Wu(this.contextWindow,"pointerup",this.handlePointerUp),Wu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),us(this.updatePoint)}}function wy(t,e){return e?{point:e(t.point)}:t}function $_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function by({point:t},e){return{point:t,delta:$_(t,VT(e)),offset:$_(t,yD(e)),velocity:xD(e,.1)}}function yD(t){return t[0]}function VT(t){return t[t.length-1]}function xD(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=VT(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>$s(e)));)n--;if(!r)return{x:0,y:0};const o=Hr(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const c={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function vD(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Mt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Mt(n,t,r.max):Math.min(t,n)),t}function W_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function wD(t,{top:e,left:n,bottom:r,right:s}){return{x:W_(t.x,n,s),y:W_(t.y,e,r)}}function G_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function bD(t,e){return{x:G_(t.x,e.x),y:G_(t.y,e.y)}}function _D(t,e){let n=.5;const r=Wn(t),s=Wn(e);return s>r?n=ic(e.min,e.max-r,t.min):r>s&&(n=ic(t.min,t.max-s,e.min)),Zs(0,1,n)}function ED(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Sx=.35;function ND(t=Sx){return t===!1?t=0:t===!0&&(t=Sx),{x:q_(t,"left","right"),y:q_(t,"top","bottom")}}function q_(t,e,n){return{min:K_(t,e),max:K_(t,n)}}function K_(t,e){return typeof t=="number"?t:t[e]||0}const AD=new WeakMap;class TD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=y=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Sd(y).point)},c=(y,v)=>{const{drag:_,dragPropagation:C,onDragStart:E}=this.getProps();if(_&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bF(_),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Br(j=>{let O=this.getAxisMotionValue(j).get()||0;if(Ws.test(O)){const{projection:R}=this.visualElement;if(R&&R.layout){const z=R.layout.layoutBox[j];z&&(O=Wn(z)*(parseFloat(O)/100))}}this.originPoint[j]=O}),E&&ut.postRender(()=>E(y,v)),Tx(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},u=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v;const{dragPropagation:_,dragDirectionLock:C,onDirectionLock:E,onDrag:N}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:j}=v;if(C&&this.currentDirection===null){this.currentDirection=CD(j),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",v.point,j),this.updateAxis("y",v.point,j),this.visualElement.render(),N&&N(y,v)},h=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v,this.stop(y,v),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Br(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new OT(e,{onSessionStart:o,onStart:c,onMove:u,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:DT(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!r)return;const{velocity:c}=s;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&ut.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!lf(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=vD(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Wl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=wD(r.layoutBox,e):this.constraints=!1,this.elastic=ND(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Br(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=ED(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Wl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=S4(r,s.root,this.visualElement.getTransformPagePoint());let c=bD(s.layout.layoutBox,o);if(n){const u=n(A4(c));this.hasMutatedConstraints=!!u,u&&(c=bT(u))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},m=Br(g=>{if(!lf(g,n,this.currentDirection))return;let y=h&&h[g]||{};c&&(y={min:0,max:0});const v=s?200:1e6,_=s?40:1e7,C={type:"inertia",velocity:r?e[g]:0,bounceStiffness:v,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(g,C)});return Promise.all(m).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Tx(this.visualElement,e),r.start(rv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Br(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Br(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Br(n=>{const{drag:r}=this.getProps();if(!lf(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:c,max:u}=s.layout.layoutBox[n];o.set(e[n]-Mt(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Wl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Br(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const h=u.get();s[c]=_D({min:h,max:h},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Br(c=>{if(!lf(c,e,null))return;const u=this.getAxisMotionValue(c),{min:h,max:m}=this.constraints[c];u.set(Mt(h,m,s[c]))})}addListeners(){if(!this.visualElement.current)return;AD.set(this.visualElement,this);const e=this.visualElement.current,n=Wu(e,"pointerdown",h=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Wl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ut.read(r);const c=ld(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Br(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=h[g].translate,y.set(y.get()+h[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:c=Sx,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:c,dragMomentum:u}}}function lf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function CD(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class SD extends zo{constructor(e){super(e),this.removeGroupControls=lr,this.removeListeners=lr,this.controls=new TD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||lr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Y_=t=>(e,n)=>{t&&ut.postRender(()=>t(e,n))};class ID extends zo{constructor(){super(...arguments),this.removePointerDownListener=lr}onPointerDown(e){this.session=new OT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:DT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Y_(e),onStart:Y_(n),onMove:r,onEnd:(o,c)=>{delete this.session,s&&ut.postRender(()=>s(o,c))}}}mount(){this.removePointerDownListener=Wu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Df={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function X_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Tu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Be.test(t))t=parseFloat(t);else return t;const n=X_(t,e.target.x),r=X_(t,e.target.y);return`${n}% ${r}%`}},jD={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=So.parse(t);if(s.length>5)return r;const o=So.createTransformer(t),c=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;s[0+c]/=u,s[1+c]/=h;const m=Mt(u,h,.5);return typeof s[2+c]=="number"&&(s[2+c]/=m),typeof s[3+c]=="number"&&(s[3+c]/=m),o(s)}};let _y=!1;class kD extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;ZF(RD),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),_y&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Df.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,{projection:c}=r;return c&&(c.isPresent=o,_y=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||ut.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),G0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;_y=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function LT(t){const[e,n]=aT(),r=A.useContext(E0);return l.jsx(kD,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(vT),isPresent:e,safeToRemove:n})}const RD={borderRadius:{...Tu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tu,borderTopRightRadius:Tu,borderBottomLeftRadius:Tu,borderBottomRightRadius:Tu,boxShadow:jD};function PD(t,e,n){const r=gn(t)?t:as(t);return r.start(rv("",r,e,n)),r.animation}const MD=(t,e)=>t.depth-e.depth;class FD{constructor(){this.children=[],this.isDirty=!1}add(e){A0(this.children,e),this.isDirty=!0}remove(e){T0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(MD),this.isDirty=!1,this.children.forEach(e)}}function DD(t,e){const n=ar.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(us(r),t(o-e))};return ut.setup(r,!0),()=>us(r)}const BT=["TopLeft","TopRight","BottomLeft","BottomRight"],OD=BT.length,J_=t=>typeof t=="string"?parseFloat(t):t,Q_=t=>typeof t=="number"||Be.test(t);function VD(t,e,n,r,s,o){s?(t.opacity=Mt(0,n.opacity??1,LD(r)),t.opacityExit=Mt(e.opacity??1,0,BD(r))):o&&(t.opacity=Mt(e.opacity??1,n.opacity??1,r));for(let c=0;c<OD;c++){const u=`border${BT[c]}Radius`;let h=Z_(e,u),m=Z_(n,u);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||Q_(h)===Q_(m)?(t[u]=Math.max(Mt(J_(h),J_(m),r),0),(Ws.test(m)||Ws.test(h))&&(t[u]+="%")):t[u]=m}(e.rotate||n.rotate)&&(t.rotate=Mt(e.rotate||0,n.rotate||0,r))}function Z_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const LD=zT(0,.5,AA),BD=zT(.5,.95,lr);function zT(t,e,n){return r=>r<t?0:r>e?1:n(ic(t,e,r))}function eE(t,e){t.min=e.min,t.max=e.max}function Lr(t,e){eE(t.x,e.x),eE(t.y,e.y)}function tE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function nE(t,e,n,r,s){return t-=e,t=sm(t,1/n,r),s!==void 0&&(t=sm(t,1/s,r)),t}function zD(t,e=0,n=1,r=.5,s,o=t,c=t){if(Ws.test(e)&&(e=parseFloat(e),e=Mt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=Mt(o.min,o.max,r);t===o&&(u-=e),t.min=nE(t.min,e,n,u,s),t.max=nE(t.max,e,n,u,s)}function rE(t,e,[n,r,s],o,c){zD(t,e[n],e[r],e[s],e.scale,o,c)}const UD=["x","scaleX","originX"],HD=["y","scaleY","originY"];function sE(t,e,n,r){rE(t.x,e,UD,n?n.x:void 0,r?r.x:void 0),rE(t.y,e,HD,n?n.y:void 0,r?r.y:void 0)}function iE(t){return t.translate===0&&t.scale===1}function UT(t){return iE(t.x)&&iE(t.y)}function oE(t,e){return t.min===e.min&&t.max===e.max}function $D(t,e){return oE(t.x,e.x)&&oE(t.y,e.y)}function aE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function HT(t,e){return aE(t.x,e.x)&&aE(t.y,e.y)}function lE(t){return Wn(t.x)/Wn(t.y)}function cE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class WD{constructor(){this.members=[]}add(e){A0(this.members,e),e.scheduleRender()}remove(e){if(T0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function GD(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,c=n?.z||0;if((s||o||c)&&(r=`translate3d(${s}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:y,rotateY:v,skewX:_,skewY:C}=n;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),v&&(r+=`rotateY(${v}deg) `),_&&(r+=`skewX(${_}deg) `),C&&(r+=`skewY(${C}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const Ey=["","X","Y","Z"],qD=1e3;let KD=0;function Ny(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function $T(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=IT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ut,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&$T(r)}function WT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(c={},u=e?.()){this.id=KD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(JD),this.nodes.forEach(tO),this.nodes.forEach(nO),this.nodes.forEach(QD)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new FD)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new S0),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const h=this.eventHandlers.get(c);h&&h.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=K0(c)&&!DF(c),this.instance=c;const{layoutId:u,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),t){let g,y=0;const v=()=>this.root.updateBlockedByResize=!1;ut.read(()=>{y=window.innerWidth}),t(c,()=>{const _=window.innerWidth;_!==y&&(y=_,this.root.updateBlockedByResize=!0,g&&g(),g=DD(v,250),Df.hasAnimatedSinceResize&&(Df.hasAnimatedSinceResize=!1,this.nodes.forEach(hE)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||aO,{onLayoutAnimationStart:E,onLayoutAnimationComplete:N}=m.getProps(),j=!this.targetLayout||!HT(this.targetLayout,_),O=!y&&v;if(this.options.layoutRoot||this.resumeFrom||O||y&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...U0(C,"layout"),onPlay:E,onComplete:N};(m.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(g,O)}else y||hE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),us(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rO),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$T(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(dE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(eO),this.nodes.forEach(YD),this.nodes.forEach(XD)):this.nodes.forEach(dE),this.clearAllSnapshots();const u=ar.now();mn.delta=Zs(0,1e3/60,u-mn.timestamp),mn.timestamp=u,mn.isProcessing=!0,hy.update.process(mn),hy.preRender.process(mn),hy.render.process(mn),mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,G0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ZD),this.sharedNodes.forEach(sO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Wn(this.snapshot.measuredBox.x)&&!Wn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!UT(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&this.instance&&(u||Na(this.latestValues)||g)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return c&&(h=this.removeTransform(h)),lO(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Wt();const u=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(cO))){const{scroll:m}=this.root;m&&(Gl(u.x,m.offset.x),Gl(u.y,m.offset.y))}return u}removeElementScroll(c){const u=Wt();if(Lr(u,c),this.scroll?.wasRoot)return u;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:g,options:y}=m;m!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&Lr(u,c),Gl(u.x,g.offset.x),Gl(u.y,g.offset.y))}return u}applyTransform(c,u=!1){const h=Wt();Lr(h,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ql(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Na(g.latestValues)&&ql(h,g.latestValues)}return Na(this.latestValues)&&ql(h,this.latestValues),h}removeTransform(c){const u=Wt();Lr(u,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!Na(m.latestValues))continue;_x(m.latestValues)&&m.updateSnapshot();const g=Wt(),y=m.measurePageBox();Lr(g,y),sE(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Na(this.latestValues)&&sE(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=mn.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),qu(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Wt(),this.targetWithTransforms=Wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),pD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Lr(this.target,this.layout.layoutBox),ET(this.target,this.targetDelta)):Lr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),qu(this.relativeTargetOrigin,this.target,v.target),Lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||_x(this.parent.latestValues)||_T(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),u=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Lr(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;C4(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Wt());const{target:_}=c;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tE(this.prevProjectionDelta.x,this.projectionDelta.x),tE(this.prevProjectionDelta.y,this.projectionDelta.y)),Gu(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!cE(this.projectionDelta.x,this.prevProjectionDelta.x)||!cE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Kl(),this.projectionDelta=Kl(),this.projectionDeltaWithTransform=Kl()}setAnimationOrigin(c,u=!1){const h=this.snapshot,m=h?h.latestValues:{},g={...this.latestValues},y=Kl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=Wt(),_=h?h.source:void 0,C=this.layout?this.layout.source:void 0,E=_!==C,N=this.getStack(),j=!N||N.members.length<=1,O=!!(E&&!j&&this.options.crossfade===!0&&!this.path.some(oO));this.animationProgress=0;let R;this.mixTargetDelta=z=>{const V=z/1e3;fE(y.x,c.x,V),fE(y.y,c.y,V),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qu(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iO(this.relativeTarget,this.relativeTargetOrigin,v,V),R&&$D(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Wt()),Lr(R,this.relativeTarget)),E&&(this.animationValues=g,VD(g,m,this.latestValues,V,O,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(us(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{Df.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=as(0)),this.currentAnimation=PD(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:h,layout:m,latestValues:g}=c;if(!(!u||!h||!m)){if(this!==c&&this.layout&&m&&GT(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||Wt();const y=Wn(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+y;const v=Wn(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+v}Lr(u,h),ql(u,g),Gu(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new WD),this.sharedNodes.get(c).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const m={};h.z&&Ny("z",c,m,this.animationValues);for(let g=0;g<Ey.length;g++)Ny(`rotate${Ey[g]}`,c,m,this.animationValues),Ny(`skew${Ey[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Ff(u?.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Ff(u?.pointerEvents)||""),this.hasProjected&&!Na(this.latestValues)&&(c.transform=h?h({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let y=GD(this.projectionDeltaWithTransform,this.treeScale,g);h&&(y=h(g,y)),c.transform=y;const{x:v,y:_}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${_.origin*100}% 0`,m.animationValues?c.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const C in ad){if(g[C]===void 0)continue;const{correct:E,applyTo:N,isCSSVariable:j}=ad[C],O=y==="none"?g[C]:E(g[C],m);if(N){const R=N.length;for(let z=0;z<R;z++)c[N[z]]=O}else j?this.options.visualElement.renderState.vars[C]=O:c[C]=O}this.options.layoutId&&(c.pointerEvents=m===this?Ff(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(uE),this.root.sharedNodes.clear()}}}function YD(t){t.updateLayout()}function XD(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Br(g=>{const y=o?e.measuredBox[g]:e.layoutBox[g],v=Wn(y);y.min=n[g].min,y.max=y.min+v}):GT(s,e.layoutBox,n)&&Br(g=>{const y=o?e.measuredBox[g]:e.layoutBox[g],v=Wn(n[g]);y.max=y.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+v)});const c=Kl();Gu(c,n,e.layoutBox);const u=Kl();o?Gu(u,t.applyTransform(r,!0),e.measuredBox):Gu(u,n,e.layoutBox);const h=!UT(c);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:v}=g;if(y&&v){const _=Wt();qu(_,e.layoutBox,y.layoutBox);const C=Wt();qu(C,n,v.layoutBox),HT(_,C)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=_,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function JD(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function QD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ZD(t){t.clearSnapshot()}function uE(t){t.clearMeasurements()}function dE(t){t.isLayoutDirty=!1}function eO(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function hE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function tO(t){t.resolveTargetDelta()}function nO(t){t.calcProjection()}function rO(t){t.resetSkewAndRotation()}function sO(t){t.removeLeadSnapshot()}function fE(t,e,n){t.translate=Mt(e.translate,0,n),t.scale=Mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function mE(t,e,n,r){t.min=Mt(e.min,n.min,r),t.max=Mt(e.max,n.max,r)}function iO(t,e,n,r){mE(t.x,e.x,n.x,r),mE(t.y,e.y,n.y,r)}function oO(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const aO={duration:.45,ease:[.4,0,.1,1]},pE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),gE=pE("applewebkit/")&&!pE("chrome/")?Math.round:lr;function yE(t){t.min=gE(t.min),t.max=gE(t.max)}function lO(t){yE(t.x),yE(t.y)}function GT(t,e,n){return t==="position"||t==="preserve-aspect"&&!mD(lE(e),lE(n),.2)}function cO(t){return t!==t.root&&t.scroll?.wasRoot}const uO=WT({attachResizeListener:(t,e)=>ld(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ay={current:void 0},qT=WT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ay.current){const t=new uO({});t.mount(window),t.setOptions({layoutScroll:!0}),Ay.current=t}return Ay.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),dO={pan:{Feature:ID},drag:{Feature:SD,ProjectionNode:qT,MeasureLayout:LT}};function xE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&ut.postRender(()=>o(e,Sd(e)))}class hO extends zo{mount(){const{current:e}=this.node;e&&(this.unmount=_F(e,(n,r)=>(xE(this.node,r,"Start"),s=>xE(this.node,s,"End"))))}unmount(){}}class fO extends zo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nd(ld(this.node.current,"focus",()=>this.onFocus()),ld(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vE(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&ut.postRender(()=>o(e,Sd(e)))}class mO extends zo{mount(){const{current:e}=this.node;e&&(this.unmount=TF(e,(n,r)=>(vE(this.node,r,"Start"),(s,{success:o})=>vE(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ix=new WeakMap,Ty=new WeakMap,pO=t=>{const e=Ix.get(t.target);e&&e(t)},gO=t=>{t.forEach(pO)};function yO({root:t,...e}){const n=t||document;Ty.has(n)||Ty.set(n,{});const r=Ty.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(gO,{root:t,...e})),r[s]}function xO(t,e,n){const r=yO(e);return Ix.set(t,n),r.observe(t),()=>{Ix.delete(t),r.unobserve(t)}}const vO={some:0,all:1};class wO extends zo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:vO[s]},u=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),v=m?g:y;v&&v(h)};return xO(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(bO(e,n))&&this.startObserver()}unmount(){}}function bO({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const _O={inView:{Feature:wO},tap:{Feature:mO},focus:{Feature:fO},hover:{Feature:hO}},EO={layout:{ProjectionNode:qT,MeasureLayout:LT}},NO={...lD,..._O,...dO,...EO},K=N4(NO,O4),AO=50,wE=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),TO=()=>({time:0,x:wE(),y:wE()}),CO={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function bE(t,e,n,r){const s=n[e],{length:o,position:c}=CO[e],u=s.current,h=n.time;s.current=t[`scroll${c}`],s.scrollLength=t[`scroll${o}`]-t[`client${o}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=ic(0,s.scrollLength,s.current);const m=r-h;s.velocity=m>AO?0:I0(s.current-u,m)}function SO(t,e,n){bE(t,"x",e,n),bE(t,"y",e,n),e.time=n}function IO(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(W0(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const s=r.getBoundingClientRect();r=r.parentElement;const o=r.getBoundingClientRect();n.x+=s.left-o.left,n.y+=s.top-o.top}else if(r instanceof SVGGraphicsElement){const{x:s,y:o}=r.getBBox();n.x+=s,n.y+=o;let c=null,u=r.parentNode;for(;!c;)u.tagName==="svg"&&(c=u),u=r.parentNode;r=c}else break;return n}const jx={start:0,center:.5,end:1};function _E(t,e,n=0){let r=0;if(t in jx&&(t=jx[t]),typeof t=="string"){const s=parseFloat(t);t.endsWith("px")?r=s:t.endsWith("%")?t=s/100:t.endsWith("vw")?r=s/100*document.documentElement.clientWidth:t.endsWith("vh")?r=s/100*document.documentElement.clientHeight:t=s}return typeof t=="number"&&(r=e*t),n+r}const jO=[0,0];function kO(t,e,n,r){let s=Array.isArray(t)?t:jO,o=0,c=0;return typeof t=="number"?s=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?s=t.split(" "):s=[t,jx[t]?t:"0"]),o=_E(s[0],n,r),c=_E(s[1],e),o-c}const RO={All:[[0,0],[1,1]]},PO={x:0,y:0};function MO(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function FO(t,e,n){const{offset:r=RO.All}=n,{target:s=t,axis:o="y"}=n,c=o==="y"?"height":"width",u=s!==t?IO(s,t):PO,h=s===t?{width:t.scrollWidth,height:t.scrollHeight}:MO(s),m={width:t.clientWidth,height:t.clientHeight};e[o].offset.length=0;let g=!e[o].interpolate;const y=r.length;for(let v=0;v<y;v++){const _=kO(r[v],m[c],h[c],u[o]);!g&&_!==e[o].interpolatorOffsets[v]&&(g=!0),e[o].offset[v]=_}g&&(e[o].interpolate=V0(e[o].offset,BA(r),{clamp:!1}),e[o].interpolatorOffsets=[...e[o].offset]),e[o].progress=Zs(0,1,e[o].interpolate(e[o].current))}function DO(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function OO(t,e,n,r={}){return{measure:s=>{DO(t,r.target,n),SO(t,n,s),(r.offset||r.target)&&FO(t,n,r)},notify:()=>e(n)}}const Cu=new WeakMap,EE=new WeakMap,Cy=new WeakMap,NE=t=>t===document.scrollingElement?window:t;function KT(t,{container:e=document.scrollingElement,...n}={}){if(!e)return lr;let r=Cy.get(e);r||(r=new Set,Cy.set(e,r));const s=TO(),o=OO(e,t,s,n);if(r.add(o),!Cu.has(e)){const u=()=>{for(const y of r)y.measure(mn.timestamp);ut.preUpdate(h)},h=()=>{for(const y of r)y.notify()},m=()=>ut.read(u);Cu.set(e,m);const g=NE(e);window.addEventListener("resize",m,{passive:!0}),e!==document.documentElement&&EE.set(e,FF(e,m)),g.addEventListener("scroll",m,{passive:!0}),m()}const c=Cu.get(e);return ut.read(c,!1,!0),()=>{us(c);const u=Cy.get(e);if(!u||(u.delete(o),u.size))return;const h=Cu.get(e);Cu.delete(e),h&&(NE(e).removeEventListener("scroll",h),EE.get(e)?.(),window.removeEventListener("resize",h))}}const AE=new Map;function VO(t){const e={value:0},n=KT(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function YT({source:t,container:e,...n}){const{axis:r}=n;t&&(e=t);const s=AE.get(e)??new Map;AE.set(e,s);const o=n.target??"self",c=s.get(o)??{},u=r+(n.offset??[]).join(",");return c[u]||(c[u]=!n.target&&$A()?new ScrollTimeline({source:e,axis:r}):VO({container:e,...n})),c[u]}function LO(t,e){const n=YT(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:r=>(r.pause(),oT(s=>{r.time=r.iterationDuration*s},n))})}function BO(t){return t.length===2}function zO(t,e){return BO(t)?KT(n=>{t(n[e.axis].progress,n)},e):oT(t,YT(e))}function UO(t,{axis:e="y",container:n=document.scrollingElement,...r}={}){if(!n)return lr;const s={axis:e,container:n,...r};return typeof t=="function"?zO(t,s):LO(t,s)}const HO=()=>({scrollX:as(0),scrollY:as(0),scrollXProgress:as(0),scrollYProgress:as(0)}),cf=t=>t?!t.current:!1;function $O({container:t,target:e,...n}={}){const r=vc(HO),s=A.useRef(null),o=A.useRef(!1),c=A.useCallback(()=>(s.current=UO((u,{x:h,y:m})=>{r.scrollX.set(h.current),r.scrollXProgress.set(h.progress),r.scrollY.set(m.current),r.scrollYProgress.set(m.progress)},{...n,container:t?.current||void 0,target:e?.current||void 0}),()=>{s.current?.()}),[t,e,JSON.stringify(n.offset)]);return zm(()=>{if(o.current=!1,cf(t)||cf(e)){o.current=!0;return}else return c()},[c]),A.useEffect(()=>{if(o.current)return rd(!cf(t)),rd(!cf(e)),c()},[c]),r}function Io(t){const e=vc(()=>as(t)),{isStatic:n}=A.useContext(Cd);if(n){const[,r]=A.useState(t);A.useEffect(()=>e.on("change",r),[])}return e}function XT(t,e){const n=Io(e()),r=()=>n.set(e());return r(),zm(()=>{const s=()=>ut.preRender(r,!1,!0),o=t.map(c=>c.on("change",s));return()=>{o.forEach(c=>c()),us(r)}}),n}function WO(t){$u.current=[],t();const e=XT($u.current,t);return $u.current=void 0,e}function Ca(t,e,n,r){if(typeof t=="function")return WO(t);const s=typeof e=="function"?e:OF(e,n,r);return Array.isArray(t)?TE(t,s):TE([t],([o])=>s(o))}function TE(t,e){const n=vc(()=>[]);return XT(t,()=>{n.length=0;const r=t.length;for(let s=0;s<r;s++)n[s]=t[s].get();return e(n)})}function ac(t,e={}){const{isStatic:n}=A.useContext(Cd),r=()=>gn(t)?t.get():t;if(n)return Ca(r);const s=Io(r());return A.useInsertionEffect(()=>VF(s,t,e),[s,JSON.stringify(e)]),s}const GO={some:0,all:1};function qO(t,e,{root:n,margin:r,amount:s="some"}={}){const o=$0(t),c=new WeakMap,u=m=>{m.forEach(g=>{const y=c.get(g.target);if(g.isIntersecting!==!!y)if(g.isIntersecting){const v=e(g.target,g);typeof v=="function"?c.set(g.target,v):h.unobserve(g.target)}else typeof y=="function"&&(y(g),c.delete(g.target))})},h=new IntersectionObserver(u,{root:n,rootMargin:r,threshold:typeof s=="number"?s:GO[s]});return o.forEach(m=>h.observe(m)),()=>h.disconnect()}function ps(t,{root:e,margin:n,amount:r,once:s=!1,initial:o=!1}={}){const[c,u]=A.useState(o);return A.useEffect(()=>{if(!t.current||s&&c)return;const h=()=>(u(!0),s?void 0:()=>u(!1)),m={root:e&&e.current||void 0,margin:n,amount:r};return qO(t.current,h,m)},[e,t,n,s,r]),c}const JT=A.createContext(void 0);function KO({children:t}){const[e,n]=A.useState([]),[r,s]=A.useState("eat-in"),o=_=>{n(C=>C.find(N=>N.id===_.id)?C.map(N=>N.id===_.id?{...N,quantity:N.quantity+1}:N):[...C,{..._,quantity:1}])},c=_=>{n(C=>C.filter(E=>E.id!==_))},u=(_,C)=>{if(C<=0){c(_);return}n(E=>E.map(N=>N.id===_?{...N,quantity:C}:N))},h=()=>{n([]),s("eat-in")},m=e.reduce((_,C)=>_+C.price*C.quantity,0),g=e.reduce((_,C)=>_+C.quantity,0),y=r==="delivery"?35:0,v=m+y;return l.jsx(JT.Provider,{value:{items:e,orderType:r,addItem:o,removeItem:c,updateQuantity:u,setOrderType:s,clearCart:h,total:m,itemCount:g,deliveryFee:y,grandTotal:v},children:t})}function Ec(){const t=A.useContext(JT);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t}const YO=()=>{};var CE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},XO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],c=t[n++],u=t[n++],h=((s&7)<<18|(o&63)<<12|(c&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],c=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},ZT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],c=s+1<t.length,u=c?t[s+1]:0,h=s+2<t.length,m=h?t[s+2]:0,g=o>>2,y=(o&3)<<4|u>>4;let v=(u&15)<<2|m>>6,_=m&63;h||(_=64,c||(v=64)),r.push(n[g],n[y],n[v],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const m=s<t.length?n[t.charAt(s)]:64;++s;const y=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||u==null||m==null||y==null)throw new JO;const v=o<<2|u>>4;if(r.push(v),m!==64){const _=u<<4&240|m>>2;if(r.push(_),y!==64){const C=m<<6&192|y;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QO=function(t){const e=QT(t);return ZT.encodeByteArray(e,!0)},im=function(t){return QO(t).replace(/\./g,"")},eC=function(t){try{return ZT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=()=>ZO().__FIREBASE_DEFAULTS__,tV=()=>{if(typeof process>"u"||typeof CE>"u")return;const t=CE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eC(t[1]);return e&&JSON.parse(e)},qm=()=>{try{return YO()||eV()||tV()||nV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tC=t=>qm()?.emulatorHosts?.[t],nC=t=>{const e=tC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rC=()=>qm()?.config,sC=t=>qm()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[im(JSON.stringify(n)),im(JSON.stringify(c)),""].join(".")}const Ku={};function sV(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ku))Ku[e]?t.emulator.push(e):t.prod.push(e);return t}function iV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let SE=!1;function iv(t,e){if(typeof window>"u"||typeof document>"u"||!Uo(window.location.host)||Ku[t]===e||Ku[t]||SE)return;Ku[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=sV().prod.length>0;function c(){const v=document.getElementById(r);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function m(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{SE=!0,c()},v}function g(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=iV(r),_=n("text"),C=document.getElementById(_)||document.createElement("span"),E=n("learnmore"),N=document.getElementById(E)||document.createElement("a"),j=n("preprendIcon"),O=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const R=v.element;u(R),g(N,E);const z=m();h(O,j),R.append(O,C,N,z),document.body.appendChild(R)}o?(C.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function aV(){const t=qm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dV(){const t=On();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hV(){return!aV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fV(){try{return typeof indexedDB=="object"}catch{return!1}}function mV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV="FirebaseError";class ri extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pV,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Id.prototype.create)}}class Id{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?gV(o,r):"Error",u=`${this.serviceName}: ${c} (${s}).`;return new ri(s,u,r)}}function gV(t,e){return t.replace(yV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const yV=/\{\$([^}]+)}/g;function xV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Da(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],c=e[s];if(IE(o)&&IE(c)){if(!Da(o,c))return!1}else if(o!==c)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function IE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Fu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vV(t,e){const n=new wV(t,e);return n.subscribe.bind(n)}class wV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bV(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Sy),s.error===void 0&&(s.error=Sy),s.complete===void 0&&(s.complete=Sy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){return t&&t._delegate?t._delegate:t}class jo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NV(e))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Aa){return this.instances.has(e)}getOptions(e=Aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&c.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Aa){return this.component?this.component.multipleInstances?e:Aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EV(t){return t===Aa?void 0:t}function NV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _V(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qe||(Qe={}));const TV={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},CV=Qe.INFO,SV={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},IV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=SV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ov{constructor(e){this.name=e,this._logLevel=CV,this._logHandler=IV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const jV=(t,e)=>e.some(n=>t instanceof n);let jE,kE;function kV(){return jE||(jE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RV(){return kE||(kE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oC=new WeakMap,kx=new WeakMap,aC=new WeakMap,Iy=new WeakMap,av=new WeakMap;function PV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Eo(t.result)),s()},c=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&oC.set(n,t)}).catch(()=>{}),av.set(e,t),e}function MV(t){if(kx.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),s()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});kx.set(t,e)}let Rx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Eo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FV(t){Rx=t(Rx)}function DV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(jy(this),e,...n);return aC.set(r,e.sort?e.sort():[e]),Eo(r)}:RV().includes(t)?function(...e){return t.apply(jy(this),e),Eo(oC.get(this))}:function(...e){return Eo(t.apply(jy(this),e))}}function OV(t){return typeof t=="function"?DV(t):(t instanceof IDBTransaction&&MV(t),jV(t,kV())?new Proxy(t,Rx):t)}function Eo(t){if(t instanceof IDBRequest)return PV(t);if(Iy.has(t))return Iy.get(t);const e=OV(t);return e!==t&&(Iy.set(t,e),av.set(e,t)),e}const jy=t=>av.get(t);function VV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const c=indexedDB.open(t,e),u=Eo(c);return r&&c.addEventListener("upgradeneeded",h=>{r(Eo(c.result),h.oldVersion,h.newVersion,Eo(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const LV=["get","getKey","getAll","getAllKeys","count"],BV=["put","add","delete","clear"],ky=new Map;function RE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ky.get(e))return ky.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=BV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||LV.includes(n)))return;const o=async function(c,...u){const h=this.transaction(c,s?"readwrite":"readonly");let m=h.store;return r&&(m=m.index(u.shift())),(await Promise.all([m[n](...u),s&&h.done]))[0]};return ky.set(e,o),o}FV(t=>({...t,get:(e,n,r)=>RE(e,n)||t.get(e,n,r),has:(e,n)=>!!RE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UV(t){return t.getComponent()?.type==="VERSION"}const Px="@firebase/app",PE="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new ov("@firebase/app"),HV="@firebase/app-compat",$V="@firebase/analytics-compat",WV="@firebase/analytics",GV="@firebase/app-check-compat",qV="@firebase/app-check",KV="@firebase/auth",YV="@firebase/auth-compat",XV="@firebase/database",JV="@firebase/data-connect",QV="@firebase/database-compat",ZV="@firebase/functions",eL="@firebase/functions-compat",tL="@firebase/installations",nL="@firebase/installations-compat",rL="@firebase/messaging",sL="@firebase/messaging-compat",iL="@firebase/performance",oL="@firebase/performance-compat",aL="@firebase/remote-config",lL="@firebase/remote-config-compat",cL="@firebase/storage",uL="@firebase/storage-compat",dL="@firebase/firestore",hL="@firebase/ai",fL="@firebase/firestore-compat",mL="firebase",pL="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="[DEFAULT]",gL={[Px]:"fire-core",[HV]:"fire-core-compat",[WV]:"fire-analytics",[$V]:"fire-analytics-compat",[qV]:"fire-app-check",[GV]:"fire-app-check-compat",[KV]:"fire-auth",[YV]:"fire-auth-compat",[XV]:"fire-rtdb",[JV]:"fire-data-connect",[QV]:"fire-rtdb-compat",[ZV]:"fire-fn",[eL]:"fire-fn-compat",[tL]:"fire-iid",[nL]:"fire-iid-compat",[rL]:"fire-fcm",[sL]:"fire-fcm-compat",[iL]:"fire-perf",[oL]:"fire-perf-compat",[aL]:"fire-rc",[lL]:"fire-rc-compat",[cL]:"fire-gcs",[uL]:"fire-gcs-compat",[dL]:"fire-fst",[fL]:"fire-fst-compat",[hL]:"fire-vertex","fire-js":"fire-js",[mL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=new Map,yL=new Map,Fx=new Map;function ME(t,e){try{t.container.addComponent(e)}catch(n){ji.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oa(t){const e=t.name;if(Fx.has(e))return ji.debug(`There were multiple attempts to register component ${e}.`),!1;Fx.set(e,t);for(const n of om.values())ME(n,t);for(const n of yL.values())ME(n,t);return!0}function Km(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ir(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},No=new Id("app","Firebase",xL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw No.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=pL;function lC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Mx,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw No.create("bad-app-name",{appName:String(s)});if(n||(n=rC()),!n)throw No.create("no-options");const o=om.get(s);if(o){if(Da(n,o.options)&&Da(r,o.config))return o;throw No.create("duplicate-app",{appName:s})}const c=new AV(s);for(const h of Fx.values())c.addComponent(h);const u=new vL(n,r,c);return om.set(s,u),u}function lv(t=Mx){const e=om.get(t);if(!e&&t===Mx&&rC())return lC();if(!e)throw No.create("no-app",{appName:t});return e}function Gs(t,e,n){let r=gL[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ji.warn(c.join(" "));return}Oa(new jo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL="firebase-heartbeat-database",bL=1,cd="firebase-heartbeat-store";let Ry=null;function cC(){return Ry||(Ry=VV(wL,bL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cd)}catch(n){console.warn(n)}}}}).catch(t=>{throw No.create("idb-open",{originalErrorMessage:t.message})})),Ry}async function _L(t){try{const n=(await cC()).transaction(cd),r=await n.objectStore(cd).get(uC(t));return await n.done,r}catch(e){if(e instanceof ri)ji.warn(e.message);else{const n=No.create("idb-get",{originalErrorMessage:e?.message});ji.warn(n.message)}}}async function FE(t,e){try{const r=(await cC()).transaction(cd,"readwrite");await r.objectStore(cd).put(e,uC(t)),await r.done}catch(n){if(n instanceof ri)ji.warn(n.message);else{const r=No.create("idb-set",{originalErrorMessage:n?.message});ji.warn(r.message)}}}function uC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=1024,NL=30;class AL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=DE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>NL){const s=SL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ji.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=DE(),{heartbeatsToSend:n,unsentEntries:r}=TL(this._heartbeatsCache.heartbeats),s=im(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ji.warn(e),""}}}function DE(){return new Date().toISOString().substring(0,10)}function TL(t,e=EL){const n=[];let r=t.slice();for(const s of t){const o=n.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),OE(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),OE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class CL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fV()?mV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _L(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return FE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return FE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function OE(t){return im(JSON.stringify({version:2,heartbeats:t})).length}function SL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t){Oa(new jo("platform-logger",e=>new zV(e),"PRIVATE")),Oa(new jo("heartbeat",e=>new AL(e),"PRIVATE")),Gs(Px,PE,t),Gs(Px,PE,"esm2020"),Gs("fire-js","")}IL("");function dC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jL=dC,hC=new Id("auth","Firebase",dC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=new ov("@firebase/auth");function kL(t,...e){am.logLevel<=Qe.WARN&&am.warn(`Auth (${qa}): ${t}`,...e)}function Of(t,...e){am.logLevel<=Qe.ERROR&&am.error(`Auth (${qa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t,...e){throw uv(t,...e)}function cs(t,...e){return uv(t,...e)}function cv(t,e,n){const r={...jL(),[e]:n};return new Id("auth","Firebase",r).create(e,{appName:t.name})}function Ti(t){return cv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function RL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Wr(t,"argument-error"),cv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function uv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hC.create(t,...e)}function Ve(t,e,...n){if(!t)throw uv(e,...n)}function Ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Of(e),new Error(e)}function ki(t,e){t||Ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(){return typeof self<"u"&&self.location?.href||""}function PL(){return VE()==="http:"||VE()==="https:"}function VE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PL()||cV()||"connection"in navigator)?navigator.onLine:!0}function FL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){this.shortDelay=e,this.longDelay=n,ki(n>e,"Short delay should be less than long delay!"),this.isMobile=oV()||uV()}get(){return ML()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(t,e){ki(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VL=new kd(3e4,6e4);function Ho(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Di(t,e,n,r,s={}){return mC(t,s,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const u=jd({key:t.config.apiKey,...c}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:h,...o};return lV()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Uo(t.emulatorConfig.host)&&(m.credentials="include"),fC.fetch()(await pC(t,t.config.apiHost,n,u),m)})}async function mC(t,e,n){t._canInitEmulator=!1;const r={...DL,...e};try{const s=new BL(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw uf(t,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const u=o.ok?c.errorMessage:c.error.message,[h,m]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw uf(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw uf(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw uf(t,"user-disabled",c);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw cv(t,g,m);Wr(t,g)}}catch(s){if(s instanceof ri)throw s;Wr(t,"network-request-failed",{message:String(s)})}}async function Rd(t,e,n,r,s={}){const o=await Di(t,e,n,r,s);return"mfaPendingCredential"in o&&Wr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function pC(t,e,n,r){const s=`${e}${n}?${r}`,o=t,c=o.config.emulator?dv(t.config,s):`${t.config.apiScheme}://${s}`;return OL.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function LL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cs(this.auth,"network-request-failed")),VL.get())})}}function uf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=cs(t,e,r);return s.customData._tokenResponse=n,s}function LE(t){return t!==void 0&&t.enterprise!==void 0}class zL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function UL(t,e){return Di(t,"GET","/v2/recaptchaConfig",Ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(t,e){return Di(t,"POST","/v1/accounts:delete",e)}async function lm(t,e){return Di(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $L(t,e=!1){const n=Ft(t),r=await n.getIdToken(e),s=hv(r);Ve(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o?.sign_in_provider;return{claims:s,token:r,authTime:Yu(Py(s.auth_time)),issuedAtTime:Yu(Py(s.iat)),expirationTime:Yu(Py(s.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Py(t){return Number(t)*1e3}function hv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Of("JWT malformed, contained fewer than 3 sections"),null;try{const s=eC(n);return s?JSON.parse(s):(Of("Failed to decode base64 JWT payload"),null)}catch(s){return Of("Caught error parsing JWT payload as JSON",s?.toString()),null}}function BE(t){const e=hv(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ri&&WL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function WL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yu(this.lastLoginAt),this.creationTime=Yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cm(t){const e=t.auth,n=await t.getIdToken(),r=await lc(t,lm(e,{idToken:n}));Ve(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=s.providerUserInfo?.length?gC(s.providerUserInfo):[],c=KL(t.providerData,o),u=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!c?.length,m=u?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Ox(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function qL(t){const e=Ft(t);await cm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KL(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function gC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YL(t,e){const n=await mC(t,{},async()=>{const r=jd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,c=await pC(t,s,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return t.emulatorConfig&&Uo(t.emulatorConfig.host)&&(h.credentials="include"),fC.fetch()(c,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XL(t,e){return Di(t,"POST","/v2/accounts:revokeToken",Ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=BE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await YL(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,c=new Xl;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),s&&(Ve(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(Ve(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xl,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ls{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new GL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ox(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await lc(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $L(this,e)}reload(){return qL(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ls({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(Ti(this.auth));const e=await this.getIdToken();return await lc(this,HL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,c=n.photoURL??void 0,u=n.tenantId??void 0,h=n._redirectEventId??void 0,m=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:y,emailVerified:v,isAnonymous:_,providerData:C,stsTokenManager:E}=n;Ve(y&&E,e,"internal-error");const N=Xl.fromJSON(this.name,E);Ve(typeof y=="string",e,"internal-error"),fo(r,e.name),fo(s,e.name),Ve(typeof v=="boolean",e,"internal-error"),Ve(typeof _=="boolean",e,"internal-error"),fo(o,e.name),fo(c,e.name),fo(u,e.name),fo(h,e.name),fo(m,e.name),fo(g,e.name);const j=new ls({uid:y,auth:e,email:s,emailVerified:v,displayName:r,isAnonymous:_,photoURL:c,phoneNumber:o,tenantId:u,stsTokenManager:N,createdAt:m,lastLoginAt:g});return C&&Array.isArray(C)&&(j.providerData=C.map(O=>({...O}))),h&&(j._redirectEventId=h),j}static async _fromIdTokenResponse(e,n,r=!1){const s=new Xl;s.updateFromServerResponse(n);const o=new ls({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await cm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ve(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?gC(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!o?.length,u=new Xl;u.updateFromIdToken(r);const h=new ls({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:c}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Ox(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=new Map;function Ai(t){ki(t instanceof Function,"Expected a class definition");let e=zE.get(t);return e?(ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yC.type="NONE";const UE=yC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t,e,n){return`firebase:${t}:${e}:${n}`}class Jl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Vf(this.userKey,s.apiKey,o),this.fullPersistenceKey=Vf("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lm(this.auth,{idToken:e}).catch(()=>{});return n?ls._fromGetAccountInfoResponse(this.auth,n,e):null}return ls._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Jl(Ai(UE),e,r);const s=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=s[0]||Ai(UE);const c=Vf(r,e.config.apiKey,e.name);let u=null;for(const m of n)try{const g=await m._get(c);if(g){let y;if(typeof g=="string"){const v=await lm(e,{idToken:g}).catch(()=>{});if(!v)break;y=await ls._fromGetAccountInfoResponse(e,v,g)}else y=ls._fromJSON(e,g);m!==o&&(u=y),o=m;break}}catch{}const h=s.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Jl(o,e,r):(o=h[0],u&&await o._set(c,u.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new Jl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EC(e))return"Blackberry";if(NC(e))return"Webos";if(vC(e))return"Safari";if((e.includes("chrome/")||wC(e))&&!e.includes("edge/"))return"Chrome";if(_C(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function xC(t=On()){return/firefox\//i.test(t)}function vC(t=On()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wC(t=On()){return/crios\//i.test(t)}function bC(t=On()){return/iemobile/i.test(t)}function _C(t=On()){return/android/i.test(t)}function EC(t=On()){return/blackberry/i.test(t)}function NC(t=On()){return/webos/i.test(t)}function fv(t=On()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function JL(t=On()){return fv(t)&&!!window.navigator?.standalone}function QL(){return dV()&&document.documentMode===10}function AC(t=On()){return fv(t)||_C(t)||NC(t)||EC(t)||/windows phone/i.test(t)||bC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t,e=[]){let n;switch(t){case"Browser":n=HE(On());break;case"Worker":n=`${HE(On())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((c,u)=>{try{const h=e(o);c(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(t,e={}){return Di(t,"GET","/v2/passwordPolicy",Ho(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=6;class n6{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??t6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $E(this),this.idTokenSubscription=new $E(this),this.beforeStateQueue=new ZL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ai(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Jl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lm(this,{idToken:e}),r=await ls._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ir(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(Ti(this));const n=e?Ft(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(Ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(Ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await e6(this),n=new n6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Id("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await XL(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ai(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await Jl.create(this,[Ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(u,this,"internal-error"),u.then(()=>{c||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&kL(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $o(t){return Ft(t)}class $E{constructor(e){this.auth=e,this.observer=null,this.addObserver=vV(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ym={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function s6(t){Ym=t}function CC(t){return Ym.loadJS(t)}function i6(){return Ym.recaptchaEnterpriseScript}function o6(){return Ym.gapiScript}function a6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class l6{constructor(){this.enterprise=new c6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class c6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const u6="recaptcha-enterprise",SC="NO_RECAPTCHA";class d6{constructor(e){this.type=u6,this.auth=$o(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,u)=>{UL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const m=new zL(h);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(h=>{u(h)})})}function s(o,c,u){const h=window.grecaptcha;LE(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(m=>{c(m)}).catch(()=>{c(SC)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new l6().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(u=>{if(!n&&LE(window.grecaptcha))s(u,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=i6();h.length!==0&&(h+=u),CC(h).then(()=>{s(u,o,c)}).catch(m=>{c(m)})}}).catch(u=>{c(u)})})}}async function WE(t,e,n,r=!1,s=!1){const o=new d6(t);let c;if(s)c=SC;else try{c=await o.verify(n)}catch{c=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,m=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Vx(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await WE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await WE(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(t,e){const n=Km(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Da(o,e??{}))return s;Wr(s,"already-initialized")}return n.initialize({options:e})}function f6(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ai);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function m6(t,e,n){const r=$o(t);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=IC(e),{host:c,port:u}=p6(e),h=u===null?"":`:${u}`,m={url:`${o}//${c}${h}/`},g=Object.freeze({host:c,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(Da(m,r.config.emulator)&&Da(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Uo(c)?(sv(`${o}//${c}${h}`),iv("Auth",!0)):g6()}function IC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function p6(t){const e=IC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:GE(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:GE(c)}}}function GE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function g6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,n){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function y6(t,e){return Di(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x6(t,e){return Rd(t,"POST","/v1/accounts:signInWithPassword",Ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v6(t,e){return Rd(t,"POST","/v1/accounts:signInWithEmailLink",Ho(t,e))}async function w6(t,e){return Rd(t,"POST","/v1/accounts:signInWithEmailLink",Ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud extends mv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ud(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ud(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vx(e,n,"signInWithPassword",x6);case"emailLink":return v6(e,{email:this._email,oobCode:this._password});default:Wr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vx(e,r,"signUpPassword",y6);case"emailLink":return w6(e,{idToken:n,email:this._email,oobCode:this._password});default:Wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t,e){return Rd(t,"POST","/v1/accounts:signInWithIdp",Ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="http://localhost";class Va extends mv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=n;if(!r||!s)return null;const c=new Va(r,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Ql(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ql(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ql(e,n)}buildRequest(){const e={requestUri:b6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function E6(t){const e=Mu(Fu(t)).link,n=e?Mu(Fu(e)).deep_link_id:null,r=Mu(Fu(t)).deep_link_id;return(r?Mu(Fu(r)).link:null)||r||n||e||t}class pv{constructor(e){const n=Mu(Fu(e)),r=n.apiKey??null,s=n.oobCode??null,o=_6(n.mode??null);Ve(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=E6(e);try{return new pv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this.providerId=Nc.PROVIDER_ID}static credential(e,n){return ud._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=pv.parseLink(n);return Ve(r,"argument-error"),ud._fromEmailAndCode(e,r.code,r.tenantId)}}Nc.PROVIDER_ID="password";Nc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd extends gv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends Pd{constructor(){super("facebook.com")}static credential(e){return Va._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.FACEBOOK_SIGN_IN_METHOD="facebook.com";go.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Pd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Va._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ei.credential(n,r)}catch{return null}}}Ei.GOOGLE_SIGN_IN_METHOD="google.com";Ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends Pd{constructor(){super("github.com")}static credential(e){return Va._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yo.credential(e.oauthAccessToken)}catch{return null}}}yo.GITHUB_SIGN_IN_METHOD="github.com";yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends Pd{constructor(){super("twitter.com")}static credential(e,n){return Va._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xo.credential(n,r)}catch{return null}}}xo.TWITTER_SIGN_IN_METHOD="twitter.com";xo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N6(t,e){return Rd(t,"POST","/v1/accounts:signUp",Ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await ls._fromIdTokenResponse(e,r,s),c=qE(r);return new La({user:o,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=qE(r);return new La({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function qE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um extends ri{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,um.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new um(e,n,r,s)}}function jC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?um._fromErrorAndOperation(t,o,e,r):o})}async function A6(t,e,n=!1){const r=await lc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return La._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T6(t,e,n=!1){const{auth:r}=t;if(ir(r.app))return Promise.reject(Ti(r));const s="reauthenticate";try{const o=await lc(t,jC(r,s,e,t),n);Ve(o.idToken,r,"internal-error");const c=hv(o.idToken);Ve(c,r,"internal-error");const{sub:u}=c;return Ve(t.uid===u,r,"user-mismatch"),La._forOperation(t,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Wr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(t,e,n=!1){if(ir(t.app))return Promise.reject(Ti(t));const r="signIn",s=await jC(t,r,e),o=await La._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function C6(t,e){return kC($o(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(t){const e=$o(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function S6(t,e,n){if(ir(t.app))return Promise.reject(Ti(t));const r=$o(t),c=await Vx(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",N6).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&RC(t),h}),u=await La._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(u.user),u}function I6(t,e,n){return ir(t.app)?Promise.reject(Ti(t)):C6(Ft(t),Nc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&RC(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j6(t,e){return Di(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ft(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await lc(r,j6(r.auth,o));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const u=r.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function R6(t,e,n,r){return Ft(t).onIdTokenChanged(e,n,r)}function P6(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}function M6(t,e,n,r){return Ft(t).onAuthStateChanged(e,n,r)}function F6(t){return Ft(t).signOut()}const dm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dm,"1"),this.storage.removeItem(dm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=1e3,O6=10;class MC extends PC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,u,h)=>{this.notifyListeners(c,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);QL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,O6):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},D6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MC.type="LOCAL";const V6=MC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC extends PC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FC.type="SESSION";const DC=FC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Xm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,c=this.handlersMap[s];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(c).map(async m=>m(n.origin,o)),h=await L6(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((u,h)=>{const m=yv("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(y){const v=y;if(v.data.eventId===m)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(){return window}function z6(t){qs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(){return typeof qs().WorkerGlobalScope<"u"&&typeof qs().importScripts=="function"}async function U6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function H6(){return navigator?.serviceWorker?.controller||null}function $6(){return OC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="firebaseLocalStorageDb",W6=1,hm="firebaseLocalStorage",LC="fbase_key";class Md{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jm(t,e){return t.transaction([hm],e?"readwrite":"readonly").objectStore(hm)}function G6(){const t=indexedDB.deleteDatabase(VC);return new Md(t).toPromise()}function Lx(){const t=indexedDB.open(VC,W6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hm,{keyPath:LC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hm)?e(r):(r.close(),await G6(),e(await Lx()))})})}async function KE(t,e,n){const r=Jm(t,!0).put({[LC]:e,value:n});return new Md(r).toPromise()}async function q6(t,e){const n=Jm(t,!1).get(e),r=await new Md(n).toPromise();return r===void 0?null:r.value}function YE(t,e){const n=Jm(t,!0).delete(e);return new Md(n).toPromise()}const K6=800,Y6=3;class BC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Y6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xm._getInstance($6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await U6(),!this.activeServiceWorker)return;this.sender=new B6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||H6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lx();return await KE(e,dm,"1"),await YE(e,dm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>KE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>q6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>YE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Jm(s,!1).getAll();return new Md(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BC.type="LOCAL";const X6=BC;new kd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t,e){return e?Ai(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv extends mv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ql(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ql(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ql(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function J6(t){return kC(t.auth,new xv(t),t.bypassAuthState)}function Q6(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),T6(n,new xv(t),t.bypassAuthState)}async function Z6(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),A6(n,new xv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:c,type:u}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J6;case"linkViaPopup":case"linkViaRedirect":return Z6;case"reauthViaPopup":case"reauthViaRedirect":return Q6;default:Wr(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=new kd(2e3,1e4);async function tB(t,e,n){if(ir(t.app))return Promise.reject(cs(t,"operation-not-supported-in-this-environment"));const r=$o(t);RL(t,e,gv);const s=zC(r,n);return new ja(r,"signInViaPopup",e,s).executeNotNull()}class ja extends UC{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,ja.currentPopupAction&&ja.currentPopupAction.cancel(),ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){ki(this.filter.length===1,"Popup operations only handle one event");const e=yv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(cs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eB.get())};e()}}ja.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB="pendingRedirect",Lf=new Map;class rB extends UC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Lf.get(this.auth._key());if(!e){try{const r=await sB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Lf.set(this.auth._key(),e)}return this.bypassAuthState||Lf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sB(t,e){const n=aB(e),r=oB(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function iB(t,e){Lf.set(t._key(),e)}function oB(t){return Ai(t._redirectPersistence)}function aB(t){return Vf(nB,t.config.apiKey,t.name)}async function lB(t,e,n=!1){if(ir(t.app))return Promise.reject(Ti(t));const r=$o(t),s=zC(r,e),c=await new rB(r,s,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB=600*1e3;class uB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!HC(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(cs(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cB&&this.cachedEventUids.clear(),this.cachedEventUids.has(XE(e))}saveEventToCache(e){this.cachedEventUids.add(XE(e)),this.lastProcessedEventTime=Date.now()}}function XE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function dB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hB(t,e={}){return Di(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mB=/^https?/;async function pB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hB(t);for(const n of e)try{if(gB(n))return}catch{}Wr(t,"unauthorized-domain")}function gB(t){const e=Dx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!mB.test(n))return!1;if(fB.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB=new kd(3e4,6e4);function JE(){const t=qs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xB(t){return new Promise((e,n)=>{function r(){JE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JE(),n(cs(t,"network-request-failed"))},timeout:yB.get()})}if(qs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qs().gapi?.load)r();else{const s=a6("iframefcb");return qs()[s]=()=>{gapi.load?r():n(cs(t,"network-request-failed"))},CC(`${o6()}?onload=${s}`).catch(o=>n(o))}}).catch(e=>{throw Bf=null,e})}let Bf=null;function vB(t){return Bf=Bf||xB(t),Bf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB=new kd(5e3,15e3),bB="__/auth/iframe",_B="emulator/auth/iframe",EB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AB(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dv(e,_B):`https://${t.config.authDomain}/${bB}`,r={apiKey:e.apiKey,appName:t.name,v:qa},s=NB.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${jd(r).slice(1)}`}async function TB(t){const e=await vB(t),n=qs().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:AB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EB,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const c=cs(t,"network-request-failed"),u=qs().setTimeout(()=>{o(c)},wB.get());function h(){qs().clearTimeout(u),s(r)}r.ping(h).then(h,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SB=500,IB=600,jB="_blank",kB="http://localhost";class QE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RB(t,e,n,r=SB,s=IB){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...CB,width:r.toString(),height:s.toString(),top:o,left:c},m=On().toLowerCase();n&&(u=wC(m)?jB:n),xC(m)&&(e=e||kB,h.scrollbars="yes");const g=Object.entries(h).reduce((v,[_,C])=>`${v}${_}=${C},`,"");if(JL(m)&&u!=="_self")return PB(e||"",u),new QE(null);const y=window.open(e||"",u,g);Ve(y,t,"popup-blocked");try{y.focus()}catch{}return new QE(y)}function PB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB="__/auth/handler",FB="emulator/auth/handler",DB=encodeURIComponent("fac");async function ZE(t,e,n,r,s,o){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qa,eventId:s};if(e instanceof gv){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",xV(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))c[g]=y}if(e instanceof Pd){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(c.scopes=g.join(","))}t.tenantId&&(c.tid=t.tenantId);const u=c;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await t._getAppCheckToken(),m=h?`#${DB}=${encodeURIComponent(h)}`:"";return`${OB(t)}?${jd(u).slice(1)}${m}`}function OB({config:t}){return t.emulator?dv(t,FB):`https://${t.authDomain}/${MB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="webStorageSupport";class VB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DC,this._completeRedirectFn=lB,this._overrideRedirectResult=iB}async _openPopup(e,n,r,s){ki(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await ZE(e,n,r,Dx(),s);return RB(e,o,yv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await ZE(e,n,r,Dx(),s);return z6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(ki(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await TB(e),r=new uB(e);return n.register("authEvent",s=>(Ve(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(My,{type:My},s=>{const o=s?.[0]?.[My];o!==void 0&&n(!!o),Wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AC()||vC()||fv()}}const LB=VB;var e2="@firebase/auth",t2="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UB(t){Oa(new jo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=r.options;Ve(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TC(t)},m=new r6(r,s,o,h);return f6(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Oa(new jo("auth-internal",e=>{const n=$o(e.getProvider("auth").getImmediate());return(r=>new BB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(e2,t2,zB(t)),Gs(e2,t2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB=300,$B=sC("authIdTokenMaxAge")||HB;let n2=null;const WB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$B)return;const s=n?.token;n2!==s&&(n2=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function GB(t=lv()){const e=Km(t,"auth");if(e.isInitialized())return e.getImmediate();const n=h6(t,{popupRedirectResolver:LB,persistence:[X6,V6,DC]}),r=sC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=WB(o.toString());P6(n,c,()=>c(n.currentUser)),R6(n,u=>c(u))}}const s=tC("auth");return s&&m6(n,`http://${s}`),n}function qB(){return document.getElementsByTagName("head")?.[0]??document}s6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=cs("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",qB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UB("Browser");var r2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ao,$C;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function M(){}M.prototype=S.prototype,k.F=S.prototype,k.prototype=new M,k.prototype.constructor=k,k.D=function(B,D,U){for(var F=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)F[ye-2]=arguments[ye];return S.prototype[D].apply(B,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,S,M){M||(M=0);const B=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)B[D]=S.charCodeAt(M++)|S.charCodeAt(M++)<<8|S.charCodeAt(M++)<<16|S.charCodeAt(M++)<<24;else for(D=0;D<16;++D)B[D]=S[M++]|S[M++]<<8|S[M++]<<16|S[M++]<<24;S=k.g[0],M=k.g[1],D=k.g[2];let U=k.g[3],F;F=S+(U^M&(D^U))+B[0]+3614090360&4294967295,S=M+(F<<7&4294967295|F>>>25),F=U+(D^S&(M^D))+B[1]+3905402710&4294967295,U=S+(F<<12&4294967295|F>>>20),F=D+(M^U&(S^M))+B[2]+606105819&4294967295,D=U+(F<<17&4294967295|F>>>15),F=M+(S^D&(U^S))+B[3]+3250441966&4294967295,M=D+(F<<22&4294967295|F>>>10),F=S+(U^M&(D^U))+B[4]+4118548399&4294967295,S=M+(F<<7&4294967295|F>>>25),F=U+(D^S&(M^D))+B[5]+1200080426&4294967295,U=S+(F<<12&4294967295|F>>>20),F=D+(M^U&(S^M))+B[6]+2821735955&4294967295,D=U+(F<<17&4294967295|F>>>15),F=M+(S^D&(U^S))+B[7]+4249261313&4294967295,M=D+(F<<22&4294967295|F>>>10),F=S+(U^M&(D^U))+B[8]+1770035416&4294967295,S=M+(F<<7&4294967295|F>>>25),F=U+(D^S&(M^D))+B[9]+2336552879&4294967295,U=S+(F<<12&4294967295|F>>>20),F=D+(M^U&(S^M))+B[10]+4294925233&4294967295,D=U+(F<<17&4294967295|F>>>15),F=M+(S^D&(U^S))+B[11]+2304563134&4294967295,M=D+(F<<22&4294967295|F>>>10),F=S+(U^M&(D^U))+B[12]+1804603682&4294967295,S=M+(F<<7&4294967295|F>>>25),F=U+(D^S&(M^D))+B[13]+4254626195&4294967295,U=S+(F<<12&4294967295|F>>>20),F=D+(M^U&(S^M))+B[14]+2792965006&4294967295,D=U+(F<<17&4294967295|F>>>15),F=M+(S^D&(U^S))+B[15]+1236535329&4294967295,M=D+(F<<22&4294967295|F>>>10),F=S+(D^U&(M^D))+B[1]+4129170786&4294967295,S=M+(F<<5&4294967295|F>>>27),F=U+(M^D&(S^M))+B[6]+3225465664&4294967295,U=S+(F<<9&4294967295|F>>>23),F=D+(S^M&(U^S))+B[11]+643717713&4294967295,D=U+(F<<14&4294967295|F>>>18),F=M+(U^S&(D^U))+B[0]+3921069994&4294967295,M=D+(F<<20&4294967295|F>>>12),F=S+(D^U&(M^D))+B[5]+3593408605&4294967295,S=M+(F<<5&4294967295|F>>>27),F=U+(M^D&(S^M))+B[10]+38016083&4294967295,U=S+(F<<9&4294967295|F>>>23),F=D+(S^M&(U^S))+B[15]+3634488961&4294967295,D=U+(F<<14&4294967295|F>>>18),F=M+(U^S&(D^U))+B[4]+3889429448&4294967295,M=D+(F<<20&4294967295|F>>>12),F=S+(D^U&(M^D))+B[9]+568446438&4294967295,S=M+(F<<5&4294967295|F>>>27),F=U+(M^D&(S^M))+B[14]+3275163606&4294967295,U=S+(F<<9&4294967295|F>>>23),F=D+(S^M&(U^S))+B[3]+4107603335&4294967295,D=U+(F<<14&4294967295|F>>>18),F=M+(U^S&(D^U))+B[8]+1163531501&4294967295,M=D+(F<<20&4294967295|F>>>12),F=S+(D^U&(M^D))+B[13]+2850285829&4294967295,S=M+(F<<5&4294967295|F>>>27),F=U+(M^D&(S^M))+B[2]+4243563512&4294967295,U=S+(F<<9&4294967295|F>>>23),F=D+(S^M&(U^S))+B[7]+1735328473&4294967295,D=U+(F<<14&4294967295|F>>>18),F=M+(U^S&(D^U))+B[12]+2368359562&4294967295,M=D+(F<<20&4294967295|F>>>12),F=S+(M^D^U)+B[5]+4294588738&4294967295,S=M+(F<<4&4294967295|F>>>28),F=U+(S^M^D)+B[8]+2272392833&4294967295,U=S+(F<<11&4294967295|F>>>21),F=D+(U^S^M)+B[11]+1839030562&4294967295,D=U+(F<<16&4294967295|F>>>16),F=M+(D^U^S)+B[14]+4259657740&4294967295,M=D+(F<<23&4294967295|F>>>9),F=S+(M^D^U)+B[1]+2763975236&4294967295,S=M+(F<<4&4294967295|F>>>28),F=U+(S^M^D)+B[4]+1272893353&4294967295,U=S+(F<<11&4294967295|F>>>21),F=D+(U^S^M)+B[7]+4139469664&4294967295,D=U+(F<<16&4294967295|F>>>16),F=M+(D^U^S)+B[10]+3200236656&4294967295,M=D+(F<<23&4294967295|F>>>9),F=S+(M^D^U)+B[13]+681279174&4294967295,S=M+(F<<4&4294967295|F>>>28),F=U+(S^M^D)+B[0]+3936430074&4294967295,U=S+(F<<11&4294967295|F>>>21),F=D+(U^S^M)+B[3]+3572445317&4294967295,D=U+(F<<16&4294967295|F>>>16),F=M+(D^U^S)+B[6]+76029189&4294967295,M=D+(F<<23&4294967295|F>>>9),F=S+(M^D^U)+B[9]+3654602809&4294967295,S=M+(F<<4&4294967295|F>>>28),F=U+(S^M^D)+B[12]+3873151461&4294967295,U=S+(F<<11&4294967295|F>>>21),F=D+(U^S^M)+B[15]+530742520&4294967295,D=U+(F<<16&4294967295|F>>>16),F=M+(D^U^S)+B[2]+3299628645&4294967295,M=D+(F<<23&4294967295|F>>>9),F=S+(D^(M|~U))+B[0]+4096336452&4294967295,S=M+(F<<6&4294967295|F>>>26),F=U+(M^(S|~D))+B[7]+1126891415&4294967295,U=S+(F<<10&4294967295|F>>>22),F=D+(S^(U|~M))+B[14]+2878612391&4294967295,D=U+(F<<15&4294967295|F>>>17),F=M+(U^(D|~S))+B[5]+4237533241&4294967295,M=D+(F<<21&4294967295|F>>>11),F=S+(D^(M|~U))+B[12]+1700485571&4294967295,S=M+(F<<6&4294967295|F>>>26),F=U+(M^(S|~D))+B[3]+2399980690&4294967295,U=S+(F<<10&4294967295|F>>>22),F=D+(S^(U|~M))+B[10]+4293915773&4294967295,D=U+(F<<15&4294967295|F>>>17),F=M+(U^(D|~S))+B[1]+2240044497&4294967295,M=D+(F<<21&4294967295|F>>>11),F=S+(D^(M|~U))+B[8]+1873313359&4294967295,S=M+(F<<6&4294967295|F>>>26),F=U+(M^(S|~D))+B[15]+4264355552&4294967295,U=S+(F<<10&4294967295|F>>>22),F=D+(S^(U|~M))+B[6]+2734768916&4294967295,D=U+(F<<15&4294967295|F>>>17),F=M+(U^(D|~S))+B[13]+1309151649&4294967295,M=D+(F<<21&4294967295|F>>>11),F=S+(D^(M|~U))+B[4]+4149444226&4294967295,S=M+(F<<6&4294967295|F>>>26),F=U+(M^(S|~D))+B[11]+3174756917&4294967295,U=S+(F<<10&4294967295|F>>>22),F=D+(S^(U|~M))+B[2]+718787259&4294967295,D=U+(F<<15&4294967295|F>>>17),F=M+(U^(D|~S))+B[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(D+(F<<21&4294967295|F>>>11))&4294967295,k.g[2]=k.g[2]+D&4294967295,k.g[3]=k.g[3]+U&4294967295}r.prototype.v=function(k,S){S===void 0&&(S=k.length);const M=S-this.blockSize,B=this.C;let D=this.h,U=0;for(;U<S;){if(D==0)for(;U<=M;)s(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<S;)if(B[D++]=k.charCodeAt(U++),D==this.blockSize){s(this,B),D=0;break}}else for(;U<S;)if(B[D++]=k[U++],D==this.blockSize){s(this,B),D=0;break}}this.h=D,this.o+=S},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;S=this.o*8;for(var M=k.length-8;M<k.length;++M)k[M]=S&255,S/=256;for(this.v(k),k=Array(16),S=0,M=0;M<4;++M)for(let B=0;B<32;B+=8)k[S++]=this.g[M]>>>B&255;return k};function o(k,S){var M=u;return Object.prototype.hasOwnProperty.call(M,k)?M[k]:M[k]=S(k)}function c(k,S){this.h=S;const M=[];let B=!0;for(let D=k.length-1;D>=0;D--){const U=k[D]|0;B&&U==S||(M[D]=U,B=!1)}this.g=M}var u={};function h(k){return-128<=k&&k<128?o(k,function(S){return new c([S|0],S<0?-1:0)}):new c([k|0],k<0?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return y;if(k<0)return N(m(-k));const S=[];let M=1;for(let B=0;k>=M;B++)S[B]=k/M|0,M*=4294967296;return new c(S,0)}function g(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return N(g(k.substring(1),S));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=m(Math.pow(S,8));let B=y;for(let U=0;U<k.length;U+=8){var D=Math.min(8,k.length-U);const F=parseInt(k.substring(U,U+D),S);D<8?(D=m(Math.pow(S,D)),B=B.j(D).add(m(F))):(B=B.j(M),B=B.add(m(F)))}return B}var y=h(0),v=h(1),_=h(16777216);t=c.prototype,t.m=function(){if(E(this))return-N(this).m();let k=0,S=1;for(let M=0;M<this.g.length;M++){const B=this.i(M);k+=(B>=0?B:4294967296+B)*S,S*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(C(this))return"0";if(E(this))return"-"+N(this).toString(k);const S=m(Math.pow(k,6));var M=this;let B="";for(;;){const D=z(M,S).g;M=j(M,D.j(S));let U=((M.g.length>0?M.g[0]:M.h)>>>0).toString(k);if(M=D,C(M))return U+B;for(;U.length<6;)U="0"+U;B=U+B}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function C(k){if(k.h!=0)return!1;for(let S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function E(k){return k.h==-1}t.l=function(k){return k=j(this,k),E(k)?-1:C(k)?0:1};function N(k){const S=k.g.length,M=[];for(let B=0;B<S;B++)M[B]=~k.g[B];return new c(M,~k.h).add(v)}t.abs=function(){return E(this)?N(this):this},t.add=function(k){const S=Math.max(this.g.length,k.g.length),M=[];let B=0;for(let D=0;D<=S;D++){let U=B+(this.i(D)&65535)+(k.i(D)&65535),F=(U>>>16)+(this.i(D)>>>16)+(k.i(D)>>>16);B=F>>>16,U&=65535,F&=65535,M[D]=F<<16|U}return new c(M,M[M.length-1]&-2147483648?-1:0)};function j(k,S){return k.add(N(S))}t.j=function(k){if(C(this)||C(k))return y;if(E(this))return E(k)?N(this).j(N(k)):N(N(this).j(k));if(E(k))return N(this.j(N(k)));if(this.l(_)<0&&k.l(_)<0)return m(this.m()*k.m());const S=this.g.length+k.g.length,M=[];for(var B=0;B<2*S;B++)M[B]=0;for(B=0;B<this.g.length;B++)for(let D=0;D<k.g.length;D++){const U=this.i(B)>>>16,F=this.i(B)&65535,ye=k.i(D)>>>16,Ce=k.i(D)&65535;M[2*B+2*D]+=F*Ce,O(M,2*B+2*D),M[2*B+2*D+1]+=U*Ce,O(M,2*B+2*D+1),M[2*B+2*D+1]+=F*ye,O(M,2*B+2*D+1),M[2*B+2*D+2]+=U*ye,O(M,2*B+2*D+2)}for(k=0;k<S;k++)M[k]=M[2*k+1]<<16|M[2*k];for(k=S;k<2*S;k++)M[k]=0;return new c(M,0)};function O(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function R(k,S){this.g=k,this.h=S}function z(k,S){if(C(S))throw Error("division by zero");if(C(k))return new R(y,y);if(E(k))return S=z(N(k),S),new R(N(S.g),N(S.h));if(E(S))return S=z(k,N(S)),new R(N(S.g),S.h);if(k.g.length>30){if(E(k)||E(S))throw Error("slowDivide_ only works with positive integers.");for(var M=v,B=S;B.l(k)<=0;)M=V(M),B=V(B);var D=q(M,1),U=q(B,1);for(B=q(B,2),M=q(M,2);!C(B);){var F=U.add(B);F.l(k)<=0&&(D=D.add(M),U=F),B=q(B,1),M=q(M,1)}return S=j(k,D.j(S)),new R(D,S)}for(D=y;k.l(S)>=0;){for(M=Math.max(1,Math.floor(k.m()/S.m())),B=Math.ceil(Math.log(M)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),U=m(M),F=U.j(S);E(F)||F.l(k)>0;)M-=B,U=m(M),F=U.j(S);C(U)&&(U=v),D=D.add(U),k=j(k,F)}return new R(D,k)}t.B=function(k){return z(this,k).h},t.and=function(k){const S=Math.max(this.g.length,k.g.length),M=[];for(let B=0;B<S;B++)M[B]=this.i(B)&k.i(B);return new c(M,this.h&k.h)},t.or=function(k){const S=Math.max(this.g.length,k.g.length),M=[];for(let B=0;B<S;B++)M[B]=this.i(B)|k.i(B);return new c(M,this.h|k.h)},t.xor=function(k){const S=Math.max(this.g.length,k.g.length),M=[];for(let B=0;B<S;B++)M[B]=this.i(B)^k.i(B);return new c(M,this.h^k.h)};function V(k){const S=k.g.length+1,M=[];for(let B=0;B<S;B++)M[B]=k.i(B)<<1|k.i(B-1)>>>31;return new c(M,k.h)}function q(k,S){const M=S>>5;S%=32;const B=k.g.length-M,D=[];for(let U=0;U<B;U++)D[U]=S>0?k.i(U+M)>>>S|k.i(U+M+1)<<32-S:k.i(U+M);return new c(D,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,$C=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=g,Ao=c}).apply(typeof r2<"u"?r2:typeof self<"u"?self:typeof window<"u"?window:{});var df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WC,Du,GC,zf,Bx,qC,KC,YC;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof df=="object"&&df];for(var b=0;b<f.length;++b){var T=f[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(f,b){if(b)e:{var T=r;f=f.split(".");for(var P=0;P<f.length-1;P++){var X=f[P];if(!(X in T))break e;T=T[X]}f=f[f.length-1],P=T[f],b=b(P),b!=P&&b!=null&&e(T,f,{configurable:!0,writable:!0,value:b})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(b){var T=[],P;for(P in b)Object.prototype.hasOwnProperty.call(b,P)&&T.push([P,b[P]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function u(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function h(f,b,T){return f.call.apply(f.bind,arguments)}function m(f,b,T){return m=h,m.apply(null,arguments)}function g(f,b){var T=Array.prototype.slice.call(arguments,1);return function(){var P=T.slice();return P.push.apply(P,arguments),f.apply(this,P)}}function y(f,b){function T(){}T.prototype=b.prototype,f.Z=b.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(P,X,Z){for(var ge=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ge[$e-2]=arguments[$e];return b.prototype[X].apply(P,ge)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function _(f){const b=f.length;if(b>0){const T=Array(b);for(let P=0;P<b;P++)T[P]=f[P];return T}return[]}function C(f,b){for(let P=1;P<arguments.length;P++){const X=arguments[P];var T=typeof X;if(T=T!="object"?T:X?Array.isArray(X)?"array":T:"null",T=="array"||T=="object"&&typeof X.length=="number"){T=f.length||0;const Z=X.length||0;f.length=T+Z;for(let ge=0;ge<Z;ge++)f[T+ge]=X[ge]}else f.push(X)}}class E{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function N(f){c.setTimeout(()=>{throw f},0)}function j(){var f=k;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class O{constructor(){this.h=this.g=null}add(b,T){const P=R.get();P.set(b,T),this.h?this.h.next=P:this.g=P,this.h=P}}var R=new E(()=>new z,f=>f.reset());class z{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let V,q=!1,k=new O,S=()=>{const f=Promise.resolve(void 0);V=()=>{f.then(M)}};function M(){for(var f;f=j();){try{f.h.call(f.g)}catch(T){N(T)}var b=R;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}q=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};c.addEventListener("test",T,b),c.removeEventListener("test",T,b)}catch{}return f})();function F(f){return/^[\s\xa0]*$/.test(f)}function ye(f,b){D.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}y(ye,D),ye.prototype.init=function(f,b){const T=this.type=f.type,P=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(T=="mouseover"?b=f.fromElement:T=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),re=0;function le(f,b,T,P,X){this.listener=f,this.proxy=null,this.src=b,this.type=T,this.capture=!!P,this.ha=X,this.key=++re,this.da=this.fa=!1}function G(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ce(f,b,T){for(const P in f)b.call(T,f[P],P,f)}function se(f,b){for(const T in f)b.call(void 0,f[T],T,f)}function $(f){const b={};for(const T in f)b[T]=f[T];return b}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(f,b){let T,P;for(let X=1;X<arguments.length;X++){P=arguments[X];for(T in P)f[T]=P[T];for(let Z=0;Z<ee.length;Z++)T=ee[Z],Object.prototype.hasOwnProperty.call(P,T)&&(f[T]=P[T])}}function me(f){this.src=f,this.g={},this.h=0}me.prototype.add=function(f,b,T,P,X){const Z=f.toString();f=this.g[Z],f||(f=this.g[Z]=[],this.h++);const ge=Ie(f,b,P,X);return ge>-1?(b=f[ge],T||(b.fa=!1)):(b=new le(b,this.src,Z,!!P,X),b.fa=T,f.push(b)),b};function ve(f,b){const T=b.type;if(T in f.g){var P=f.g[T],X=Array.prototype.indexOf.call(P,b,void 0),Z;(Z=X>=0)&&Array.prototype.splice.call(P,X,1),Z&&(G(b),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Ie(f,b,T,P){for(let X=0;X<f.length;++X){const Z=f[X];if(!Z.da&&Z.listener==b&&Z.capture==!!T&&Z.ha==P)return X}return-1}var ie="closure_lm_"+(Math.random()*1e6|0),pe={};function ke(f,b,T,P,X){if(Array.isArray(b)){for(let Z=0;Z<b.length;Z++)ke(f,b[Z],T,P,X);return null}return T=Vi(T),f&&f[Ce]?f.J(b,T,u(P)?!!P.capture:!1,X):De(f,b,T,!1,P,X)}function De(f,b,T,P,X,Z){if(!b)throw Error("Invalid event type");const ge=u(X)?!!X.capture:!!X;let $e=ur(f);if($e||(f[ie]=$e=new me(f)),T=$e.add(b,T,P,ge,Z),T.proxy)return T;if(P=Ge(),T.proxy=P,P.src=f,P.listener=T,f.addEventListener)U||(X=ge),X===void 0&&(X=!1),f.addEventListener(b.toString(),P,X);else if(f.attachEvent)f.attachEvent(ln(b.toString()),P);else if(f.addListener&&f.removeListener)f.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ge(){function f(T){return b.call(f.src,f.listener,T)}const b=xs;return f}function Ye(f,b,T,P,X){if(Array.isArray(b))for(var Z=0;Z<b.length;Z++)Ye(f,b[Z],T,P,X);else P=u(P)?!!P.capture:!!P,T=Vi(T),f&&f[Ce]?(f=f.i,Z=String(b).toString(),Z in f.g&&(b=f.g[Z],T=Ie(b,T,P,X),T>-1&&(G(b[T]),Array.prototype.splice.call(b,T,1),b.length==0&&(delete f.g[Z],f.h--)))):f&&(f=ur(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Ie(b,T,P,X)),(T=f>-1?b[f]:null)&&jt(T))}function jt(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Ce])ve(b.i,f);else{var T=f.type,P=f.proxy;b.removeEventListener?b.removeEventListener(T,P,f.capture):b.detachEvent?b.detachEvent(ln(T),P):b.addListener&&b.removeListener&&b.removeListener(P),(T=ur(b))?(ve(T,f),T.h==0&&(T.src=null,b[ie]=null)):G(f)}}}function ln(f){return f in pe?pe[f]:pe[f]="on"+f}function xs(f,b){if(f.da)f=!0;else{b=new ye(b,this);const T=f.listener,P=f.ha||f.src;f.fa&&jt(f),f=T.call(P,b)}return f}function ur(f){return f=f[ie],f instanceof me?f:null}var yn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vi(f){return typeof f=="function"?f:(f[yn]||(f[yn]=function(b){return f.handleEvent(b)}),f[yn])}function ct(){B.call(this),this.i=new me(this),this.M=this,this.G=null}y(ct,B),ct.prototype[Ce]=!0,ct.prototype.removeEventListener=function(f,b,T,P){Ye(this,f,b,T,P)};function kt(f,b){var T,P=f.G;if(P)for(T=[];P;P=P.G)T.push(P);if(f=f.M,P=b.type||b,typeof b=="string")b=new D(b,f);else if(b instanceof D)b.target=b.target||f;else{var X=b;b=new D(P,f),ue(b,X)}X=!0;let Z,ge;if(T)for(ge=T.length-1;ge>=0;ge--)Z=b.g=T[ge],X=dr(Z,P,!0,b)&&X;if(Z=b.g=f,X=dr(Z,P,!0,b)&&X,X=dr(Z,P,!1,b)&&X,T)for(ge=0;ge<T.length;ge++)Z=b.g=T[ge],X=dr(Z,P,!1,b)&&X}ct.prototype.N=function(){if(ct.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const T=f.g[b];for(let P=0;P<T.length;P++)G(T[P]);delete f.g[b],f.h--}}this.G=null},ct.prototype.J=function(f,b,T,P){return this.i.add(String(f),b,!1,T,P)},ct.prototype.K=function(f,b,T,P){return this.i.add(String(f),b,!0,T,P)};function dr(f,b,T,P){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let X=!0;for(let Z=0;Z<b.length;++Z){const ge=b[Z];if(ge&&!ge.da&&ge.capture==T){const $e=ge.listener,Ht=ge.ha||ge.src;ge.fa&&ve(f.i,ge),X=$e.call(Ht,P)!==!1&&X}}return X&&!P.defaultPrevented}function nn(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(f,b||0)}function Sr(f){f.g=nn(()=>{f.g=null,f.i&&(f.i=!1,Sr(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Qa extends B{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Sr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(f){B.call(this),this.h=f,this.g={}}y(vs,B);var ws=[];function Li(f){ce(f.g,function(b,T){this.g.hasOwnProperty(T)&&jt(b)},f),f.g={}}vs.prototype.N=function(){vs.Z.N.call(this),Li(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gr=c.JSON.stringify,Bi=c.JSON.parse,qn=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function qr(){}function Kr(){}var bs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zi(){D.call(this,"d")}y(zi,D);function Ui(){D.call(this,"c")}y(Ui,D);var Kn={},Hi=null;function Ir(){return Hi=Hi||new ct}Kn.Ia="serverreachability";function Ln(f){D.call(this,Kn.Ia,f)}y(Ln,D);function Yr(f){const b=Ir();kt(b,new Ln(b))}Kn.STAT_EVENT="statevent";function Xr(f,b){D.call(this,Kn.STAT_EVENT,f),this.stat=b}y(Xr,D);function wt(f){const b=Ir();kt(b,new Xr(b,f))}Kn.Ja="timingevent";function $i(f,b){D.call(this,Kn.Ja,f),this.size=b}y($i,D);function Oe(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},b)}function ft(){this.g=!0}ft.prototype.ua=function(){this.g=!1};function Ut(f,b,T,P,X,Z){f.info(function(){if(f.g)if(Z){var ge="",$e=Z.split("&");for(let ht=0;ht<$e.length;ht++){var Ht=$e[ht].split("=");if(Ht.length>1){const Xt=Ht[0];Ht=Ht[1];const xr=Xt.split("_");ge=xr.length>=2&&xr[1]=="type"?ge+(Xt+"="+Ht+"&"):ge+(Xt+"=redacted&")}}}else ge=null;else ge=Z;return"XMLHTTP REQ ("+P+") [attempt "+X+"]: "+b+`
`+T+`
`+ge})}function cn(f,b,T,P,X,Z,ge){f.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+X+"]: "+b+`
`+T+`
`+Z+" "+ge})}function Bn(f,b,T,P){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+Kt(f,T)+(P?" "+P:"")})}function Vt(f,b){f.info(function(){return"TIMEOUT: "+b})}ft.prototype.info=function(){};function Kt(f,b){if(!f.g)return b;if(!b)return null;try{const Z=JSON.parse(b);if(Z){for(f=0;f<Z.length;f++)if(Array.isArray(Z[f])){var T=Z[f];if(!(T.length<2)){var P=T[1];if(Array.isArray(P)&&!(P.length<1)){var X=P[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ge=1;ge<P.length;ge++)P[ge]=""}}}}return Gr(Z)}catch{return b}}var hr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cn;function jr(){}y(jr,qr),jr.prototype.g=function(){return new XMLHttpRequest},Cn=new jr;function un(f){return encodeURIComponent(String(f))}function Xo(f){var b=1;f=f.split(":");const T=[];for(;b>0&&f.length;)T.push(f.shift()),b--;return f.length&&T.push(f.join(":")),T}function kr(f,b,T,P){this.j=f,this.i=b,this.l=T,this.S=P||1,this.V=new vs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kd}function Kd(){this.i=null,this.g="",this.h=!1}var Yd={},Oc={};function Jr(f,b,T){f.M=1,f.A=li(Rr(b)),f.u=T,f.R=!0,Vc(f,null)}function Vc(f,b){f.F=Date.now(),Jo(f),f.B=Rr(f.A);var T=f.B,P=f.S;Array.isArray(P)||(P=[String(P)]),Kc(T.i,"t",P),f.C=0,T=f.j.L,f.h=new Kd,f.g=ih(f.j,T?b:null,!f.u),f.P>0&&(f.O=new Qa(m(f.Y,f,f.g),f.P)),b=f.V,T=f.g,P=f.ba;var X="readystatechange";Array.isArray(X)||(X&&(ws[0]=X.toString()),X=ws);for(let Z=0;Z<X.length;Z++){const ge=ke(T,X[Z],P||b.handleEvent,!1,b.h||b);if(!ge)break;b.g[ge.key]=ge}b=f.J?$(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),Yr(),Ut(f.i,f.v,f.B,f.l,f.S,f.u)}kr.prototype.ba=function(f){f=f.target;const b=this.O;b&&Ss(f)==3?b.j():this.Y(f)},kr.prototype.Y=function(f){try{if(f==this.g)e:{const $e=Ss(this.g),Ht=this.g.ya(),ht=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||rh(this.g)))){this.K||$e!=4||Ht==7||(Ht==8||ht<=0?Yr(3):Yr(2)),Za(this);var b=this.g.ca();this.X=b;var T=Xd(this);if(this.o=b==200,cn(this.i,this.v,this.B,this.l,this.S,$e,b),this.o){if(this.U&&!this.L){t:{if(this.g){var P,X=this.g;if((P=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(P)){var Z=P;break t}}Z=null}if(f=Z)Bn(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bt(this,f);else{this.o=!1,this.m=3,wt(12),ai(this),Qo(this);break e}}if(this.R){f=!0;let Xt;for(;!this.K&&this.C<T.length;)if(Xt=Qd(this,T),Xt==Oc){$e==4&&(this.m=4,wt(14),f=!1),Bn(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==Yd){this.m=4,wt(15),Bn(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else Bn(this.i,this.l,Xt,null),bt(this,Xt);if(Jd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||T.length!=0||this.h.h||(this.m=1,wt(16),f=!1),this.o=this.o&&f,!f)Bn(this.i,this.l,T,"[Invalid Chunked Response]"),ai(this),Qo(this);else if(T.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),aa(ge),ge.P=!0,wt(11))}}else Bn(this.i,this.l,T,null),bt(this,T);$e==4&&ai(this),this.o&&!this.K&&($e==4?cl(this.j,this):(this.o=!1,Jo(this)))}else Xc(this.g),b==400&&T.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),ai(this),Qo(this)}}}catch{}finally{}};function Xd(f){if(!Jd(f))return f.g.la();const b=rh(f.g);if(b==="")return"";let T="";const P=b.length,X=Ss(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return ai(f),Qo(f),"";f.h.i=new c.TextDecoder}for(let Z=0;Z<P;Z++)f.h.h=!0,T+=f.h.i.decode(b[Z],{stream:!(X&&Z==P-1)});return b.length=0,f.h.g+=T,f.C=0,f.h.g}function Jd(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Qd(f,b){var T=f.C,P=b.indexOf(`
`,T);return P==-1?Oc:(T=Number(b.substring(T,P)),isNaN(T)?Yd:(P+=1,P+T>b.length?Oc:(b=b.slice(P,P+T),f.C=P+T,b)))}kr.prototype.cancel=function(){this.K=!0,ai(this)};function Jo(f){f.T=Date.now()+f.H,Lc(f,f.H)}function Lc(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Oe(m(f.aa,f),b)}function Za(f){f.D&&(c.clearTimeout(f.D),f.D=null)}kr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Vt(this.i,this.B),this.M!=2&&(Yr(),wt(17)),ai(this),this.m=2,Qo(this)):Lc(this,this.T-f)};function Qo(f){f.j.I==0||f.K||cl(f.j,f)}function ai(f){Za(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,Li(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function bt(f,b){try{var T=f.j;if(T.I!=0&&(T.g==f||zc(T.h,f))){if(!f.L&&zc(T.h,f)&&T.I==3){try{var P=T.Ba.g.parse(b)}catch{P=null}if(Array.isArray(P)&&P.length==3){var X=P;if(X[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)ll(T),gr(T);else break e;ks(T),wt(18)}}else T.xa=X[1],0<T.xa-T.K&&X[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Oe(m(T.Va,T),6e3));Zo(T.h)<=1&&T.ta&&(T.ta=void 0)}else yr(T,11)}else if((f.L||T.g==f)&&ll(T),!F(b))for(X=T.Ba.g.parse(b),b=0;b<X.length;b++){let ht=X[b];const Xt=ht[0];if(!(Xt<=T.K))if(T.K=Xt,ht=ht[1],T.I==2)if(ht[0]=="c"){T.M=ht[1],T.ba=ht[2];const xr=ht[3];xr!=null&&(T.ka=xr,T.j.info("VER="+T.ka));const fi=ht[4];fi!=null&&(T.za=fi,T.j.info("SVER="+T.za));const Rs=ht[5];Rs!=null&&typeof Rs=="number"&&Rs>0&&(P=1.5*Rs,T.O=P,T.j.info("backChannelRequestTimeoutMs_="+P)),P=T;const Ps=f.g;if(Ps){const hl=Ps.g?Ps.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hl){var Z=P.h;Z.g||hl.indexOf("spdy")==-1&&hl.indexOf("quic")==-1&&hl.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(tl(Z,Z.h),Z.h=null))}if(P.G){const Zc=Ps.g?Ps.g.getResponseHeader("X-HTTP-Session-Id"):null;Zc&&(P.wa=Zc,at(P.J,P.G,Zc))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),P=T;var ge=f;if(P.na=Qc(P,P.L?P.ba:null,P.W),ge.L){ea(P.h,ge);var $e=ge,Ht=P.O;Ht&&($e.H=Ht),$e.D&&(Za($e),Jo($e)),P.g=ge}else Sn(P);T.i.length>0&&hi(T)}else ht[0]!="stop"&&ht[0]!="close"||yr(T,7);else T.I==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?yr(T,7):ol(T):ht[0]!="noop"&&T.l&&T.l.qa(ht),T.A=0)}}Yr(4)}catch{}}var Mp=class{constructor(f,b){this.g=f,this.map=b}};function el(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Zo(f){return f.h?1:f.g?f.g.size:0}function zc(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function tl(f,b){f.g?f.g.add(b):f.h=b}function ea(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}el.prototype.cancel=function(){if(this.i=fr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function fr(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const T of f.g.values())b=b.concat(T.G);return b}return _(f.i)}var Zd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mr(f,b){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const P=f[T].indexOf("=");let X,Z=null;P>=0?(X=f[T].substring(0,P),Z=f[T].substring(P+1)):X=f[T],b(X,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function _s(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof _s?(this.l=f.l,ta(this,f.j),this.o=f.o,this.g=f.g,Es(this,f.u),this.h=f.h,Wi(this,Yc(f.i)),this.m=f.m):f&&(b=String(f).match(Zd))?(this.l=!1,ta(this,b[1]||"",!0),this.o=na(b[2]||""),this.g=na(b[3]||"",!0),Es(this,b[4]),this.h=na(b[5]||"",!0),Wi(this,b[6]||"",!0),this.m=na(b[7]||"")):(this.l=!1,this.i=new tt(null,this.l))}_s.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(ra(b,Hc,!0),":");var T=this.g;return(T||b=="file")&&(f.push("//"),(b=this.o)&&f.push(ra(b,Hc,!0),"@"),f.push(un(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(ra(T,T.charAt(0)=="/"?sa:$c,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",ra(T,Wc)),f.join("")},_s.prototype.resolve=function(f){const b=Rr(this);let T=!!f.j;T?ta(b,f.j):T=!!f.o,T?b.o=f.o:T=!!f.g,T?b.g=f.g:T=f.u!=null;var P=f.h;if(T)Es(b,f.u);else if(T=!!f.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var X=b.h.lastIndexOf("/");X!=-1&&(P=b.h.slice(0,X+1)+P)}if(X=P,X==".."||X==".")P="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){P=X.lastIndexOf("/",0)==0,X=X.split("/");const Z=[];for(let ge=0;ge<X.length;){const $e=X[ge++];$e=="."?P&&ge==X.length&&Z.push(""):$e==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),P&&ge==X.length&&Z.push("")):(Z.push($e),P=!0)}P=Z.join("/")}else P=X}return T?b.h=P:T=f.i.toString()!=="",T?Wi(b,Yc(f.i)):T=!!f.m,T&&(b.m=f.m),b};function Rr(f){return new _s(f)}function ta(f,b,T){f.j=T?na(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function Es(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function Wi(f,b,T){b instanceof tt?(f.i=b,rl(f.i,f.l)):(T||(b=ra(b,Fp)),f.i=new tt(b,f.l))}function at(f,b,T){f.i.set(b,T)}function li(f){return at(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function na(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ra(f,b,T){return typeof f=="string"?(f=encodeURI(f).replace(b,Uc),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Uc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Hc=/[#\/\?@]/g,$c=/[#\?:]/g,sa=/[#\?]/g,Fp=/[#\?@]/g,Wc=/#/g;function tt(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function Ns(f){f.g||(f.g=new Map,f.h=0,f.i&&mr(f.i,function(b,T){f.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}t=tt.prototype,t.add=function(f,b){Ns(this),this.i=null,f=As(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(b),this.h+=1,this};function Gc(f,b){Ns(f),b=As(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function nl(f,b){return Ns(f),b=As(f,b),f.g.has(b)}t.forEach=function(f,b){Ns(this),this.g.forEach(function(T,P){T.forEach(function(X){f.call(b,X,P,this)},this)},this)};function qc(f,b){Ns(f);let T=[];if(typeof b=="string")nl(f,b)&&(T=T.concat(f.g.get(As(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)T=T.concat(f[b]);return T}t.set=function(f,b){return Ns(this),this.i=null,f=As(this,f),nl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=qc(this,f),f.length>0?String(f[0]):b):b};function Kc(f,b,T){Gc(f,b),T.length>0&&(f.i=null,f.g.set(As(f,b),_(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let P=0;P<b.length;P++){var T=b[P];const X=un(T);T=qc(this,T);for(let Z=0;Z<T.length;Z++){let ge=X;T[Z]!==""&&(ge+="="+un(T[Z])),f.push(ge)}}return this.i=f.join("&")};function Yc(f){const b=new tt;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function As(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function rl(f,b){b&&!f.j&&(Ns(f),f.i=null,f.g.forEach(function(T,P){const X=P.toLowerCase();P!=X&&(Gc(this,P),Kc(this,X,T))},f)),f.j=b}function Ts(f,b){const T=new ft;if(c.Image){const P=new Image;P.onload=g(xn,T,"TestLoadImage: loaded",!0,b,P),P.onerror=g(xn,T,"TestLoadImage: error",!1,b,P),P.onabort=g(xn,T,"TestLoadImage: abort",!1,b,P),P.ontimeout=g(xn,T,"TestLoadImage: timeout",!1,b,P),c.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=f}else b(!1)}function Cs(f,b){const T=new ft,P=new AbortController,X=setTimeout(()=>{P.abort(),xn(T,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:P.signal}).then(Z=>{clearTimeout(X),Z.ok?xn(T,"TestPingServer: ok",!0,b):xn(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(X),xn(T,"TestPingServer: error",!1,b)})}function xn(f,b,T,P,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),P(T)}catch{}}function ia(){this.g=new qn}function ci(f){this.i=f.Sb||null,this.h=f.ab||!1}y(ci,qr),ci.prototype.g=function(){return new pr(this.i,this.h)};function pr(f,b){ct.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(pr,ct),t=pr.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,Qr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gi(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Qr(this)),this.g&&(this.readyState=3,Qr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;eh(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function eh(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?Gi(this):Qr(this),this.readyState==3&&eh(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,Gi(this))},t.Na=function(f){this.g&&(this.response=f,Gi(this))},t.ga=function(){this.g&&Gi(this)};function Gi(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Qr(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=b.next();return f.join(`\r
`)};function Qr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function th(f){let b="";return ce(f,function(T,P){b+=P,b+=":",b+=T,b+=`\r
`}),b}function sl(f,b,T){e:{for(P in T){var P=!1;break e}P=!0}P||(T=th(T),typeof f=="string"?T!=null&&un(T):at(f,b,T))}function mt(f){ct.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(mt,ct);var nh=/^https?$/i,Dp=["POST","PUT"];t=mt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,T,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cn.g(),this.g.onreadystatechange=v(m(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(Z){qi(this,Z);return}if(f=T||"",T=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var X in P)T.set(X,P[X]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const Z of P.keys())T.set(Z,P.get(Z));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(T.keys()).find(Z=>Z.toLowerCase()=="content-type"),X=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Dp,b,void 0)>=0)||P||X||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ge]of T)this.g.setRequestHeader(Z,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Z){qi(this,Z)}};function qi(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,Ki(f),di(f)}function Ki(f){f.A||(f.A=!0,kt(f,"complete"),kt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,kt(this,"complete"),kt(this,"abort"),di(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),di(this,!0)),mt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ui(this):this.Xa())},t.Xa=function(){ui(this)};function ui(f){if(f.h&&typeof o<"u"){if(f.v&&Ss(f)==4)setTimeout(f.Ca.bind(f),0);else if(kt(f,"readystatechange"),Ss(f)==4){f.h=!1;try{const Z=f.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var P;if(P=Z===0){let ge=String(f.D).match(Zd)[1]||null;!ge&&c.self&&c.self.location&&(ge=c.self.location.protocol.slice(0,-1)),P=!nh.test(ge?ge.toLowerCase():"")}T=P}if(T)kt(f,"complete"),kt(f,"success");else{f.o=6;try{var X=Ss(f)>2?f.g.statusText:""}catch{X=""}f.l=X+" ["+f.ca()+"]",Ki(f)}}finally{di(f)}}}}function di(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,b||kt(f,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ss(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Ss(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),Bi(b)}};function rh(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Xc(f){const b={};f=(f.g&&Ss(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<f.length;P++){if(F(f[P]))continue;var T=Xo(f[P]);const X=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Z=b[X]||[];b[X]=Z,Z.push(T)}se(b,function(P){return P.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Is(f,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||b}function il(f){this.za=0,this.i=[],this.j=new ft,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Is("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Is("baseRetryDelayMs",5e3,f),this.Za=Is("retryDelaySeedMs",1e4,f),this.Ta=Is("forwardChannelMaxRetries",2,f),this.va=Is("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new el(f&&f.concurrentRequestLimit),this.Ba=new ia,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=il.prototype,t.ka=8,t.I=1,t.connect=function(f,b,T,P){wt(0),this.W=f,this.H=b||{},T&&P!==void 0&&(this.H.OSID=T,this.H.OAID=P),this.F=this.X,this.J=Qc(this,null,this.W),hi(this)};function ol(f){if(al(f),f.I==3){var b=f.V++,T=Rr(f.J);if(at(T,"SID",f.M),at(T,"RID",b),at(T,"TYPE","terminate"),js(f,T),b=new kr(f,f.j,b),b.M=2,b.A=li(Rr(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=b.A,T=!0),T||(b.g=ih(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Jo(b)}la(f)}function gr(f){f.g&&(aa(f),f.g.cancel(),f.g=null)}function al(f){gr(f),f.v&&(c.clearTimeout(f.v),f.v=null),ll(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function hi(f){if(!Bc(f.h)&&!f.m){f.m=!0;var b=f.Ea;V||S(),q||(V(),q=!0),k.add(b,f),f.D=0}}function sh(f,b){return Zo(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Oe(m(f.Ea,f,b),ul(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const X=new kr(this,this.j,f);let Z=this.o;if(this.U&&(Z?(Z=$(Z),ue(Z,this.U)):Z=this.U),this.u!==null||this.R||(X.J=Z,Z=null),this.S)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var P=this.i[T];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(b+=P,b>4096){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=Jc(this,X,b),T=Rr(this.J),at(T,"RID",f),at(T,"CVER",22),this.G&&at(T,"X-HTTP-Session-Id",this.G),js(this,T),Z&&(this.R?b="headers="+un(th(Z))+"&"+b:this.u&&sl(T,this.u,Z)),tl(this.h,X),this.Ra&&at(T,"TYPE","init"),this.S?(at(T,"$req",b),at(T,"SID","null"),X.U=!0,Jr(X,T,null)):Jr(X,T,b),this.I=2}}else this.I==3&&(f?oa(this,f):this.i.length==0||Bc(this.h)||oa(this))};function oa(f,b){var T;b?T=b.l:T=f.V++;const P=Rr(f.J);at(P,"SID",f.M),at(P,"RID",T),at(P,"AID",f.K),js(f,P),f.u&&f.o&&sl(P,f.u,f.o),T=new kr(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),b&&(f.i=b.G.concat(f.i)),b=Jc(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),tl(f.h,T),Jr(T,P,b)}function js(f,b){f.H&&ce(f.H,function(T,P){at(b,P,T)}),f.l&&ce({},function(T,P){at(b,P,T)})}function Jc(f,b,T){T=Math.min(f.i.length,T);const P=f.l?m(f.l.Ka,f.l,f):null;e:{var X=f.i;let $e=-1;for(;;){const Ht=["count="+T];$e==-1?T>0?($e=X[0].g,Ht.push("ofs="+$e)):$e=0:Ht.push("ofs="+$e);let ht=!0;for(let Xt=0;Xt<T;Xt++){var Z=X[Xt].g;const xr=X[Xt].map;if(Z-=$e,Z<0)$e=Math.max(0,X[Xt].g-100),ht=!1;else try{Z="req"+Z+"_"||"";try{var ge=xr instanceof Map?xr:Object.entries(xr);for(const[fi,Rs]of ge){let Ps=Rs;u(Rs)&&(Ps=Gr(Rs)),Ht.push(Z+fi+"="+encodeURIComponent(Ps))}}catch(fi){throw Ht.push(Z+"type="+encodeURIComponent("_badmap")),fi}}catch{P&&P(xr)}}if(ht){ge=Ht.join("&");break e}}ge=void 0}return f=f.i.splice(0,T),b.G=f,ge}function Sn(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;V||S(),q||(V(),q=!0),k.add(b,f),f.A=0}}function ks(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Oe(m(f.Da,f),ul(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Yi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Oe(m(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),gr(this),Yi(this))};function aa(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Yi(f){f.g=new kr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=Rr(f.na);at(b,"RID","rpc"),at(b,"SID",f.M),at(b,"AID",f.K),at(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&at(b,"TO",f.ia),at(b,"TYPE","xmlhttp"),js(f,b),f.u&&f.o&&sl(b,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=li(Rr(b)),T.u=null,T.R=!0,Vc(T,f)}t.Va=function(){this.C!=null&&(this.C=null,gr(this),ks(this),wt(19))};function ll(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function cl(f,b){var T=null;if(f.g==b){ll(f),aa(f),f.g=null;var P=2}else if(zc(f.h,b))T=b.G,ea(f.h,b),P=1;else return;if(f.I!=0){if(b.o)if(P==1){T=b.u?b.u.length:0,b=Date.now()-b.F;var X=f.D;P=Ir(),kt(P,new $i(P,T)),hi(f)}else Sn(f);else if(X=b.m,X==3||X==0&&b.X>0||!(P==1&&sh(f,b)||P==2&&ks(f)))switch(T&&T.length>0&&(b=f.h,b.i=b.i.concat(T)),X){case 1:yr(f,5);break;case 4:yr(f,10);break;case 3:yr(f,6);break;default:yr(f,2)}}}function ul(f,b){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*b}function yr(f,b){if(f.j.info("Error code "+b),b==2){var T=m(f.bb,f),P=f.Ua;const X=!P;P=new _s(P||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ta(P,"https"),li(P),X?Ts(P.toString(),T):Cs(P.toString(),T)}else wt(2);f.I=0,f.l&&f.l.pa(b),la(f),al(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function la(f){if(f.I=0,f.ja=[],f.l){const b=fr(f.h);(b.length!=0||f.i.length!=0)&&(C(f.ja,b),C(f.ja,f.i),f.h.i.length=0,_(f.i),f.i.length=0),f.l.oa()}}function Qc(f,b,T){var P=T instanceof _s?Rr(T):new _s(T);if(P.g!="")b&&(P.g=b+"."+P.g),Es(P,P.u);else{var X=c.location;P=X.protocol,b=b?b+"."+X.hostname:X.hostname,X=+X.port;const Z=new _s(null);P&&ta(Z,P),b&&(Z.g=b),X&&Es(Z,X),T&&(Z.h=T),P=Z}return T=f.G,b=f.wa,T&&b&&at(P,T,b),at(P,"VER",f.ka),js(f,P),P}function ih(f,b,T){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new mt(new ci({ab:T})):new mt(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function oh(){}t=oh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function dl(){}dl.prototype.g=function(f,b){return new vn(f,b)};function vn(f,b){ct.call(this),this.g=new il(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!F(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!F(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new Xi(this)}y(vn,ct),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){ol(this.g)},vn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=Gr(f),f=T);b.i.push(new Mp(b.Ya++,f)),b.I==3&&hi(b)},vn.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,vn.Z.N.call(this)};function ah(f){zi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const T in b){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}y(ah,zi);function lh(){Ui.call(this),this.status=1}y(lh,Ui);function Xi(f){this.g=f}y(Xi,oh),Xi.prototype.ra=function(){kt(this.g,"a")},Xi.prototype.qa=function(f){kt(this.g,new ah(f))},Xi.prototype.pa=function(f){kt(this.g,new lh)},Xi.prototype.oa=function(){kt(this.g,"b")},dl.prototype.createWebChannel=dl.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,YC=function(){return new dl},KC=function(){return Ir()},qC=Kn,Bx={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,zf=hr,Yt.COMPLETE="complete",GC=Yt,Kr.EventType=bs,bs.OPEN="a",bs.CLOSE="b",bs.ERROR="c",bs.MESSAGE="d",ct.prototype.listen=ct.prototype.J,Du=Kr,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,WC=mt}).apply(typeof df<"u"?df:typeof self<"u"?self:typeof window<"u"?window:{});const s2="@firebase/firestore",i2="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new ov("@firebase/firestore");function Vl(){return Ba.logLevel}function be(t,...e){if(Ba.logLevel<=Qe.DEBUG){const n=e.map(vv);Ba.debug(`Firestore (${Ac}): ${t}`,...n)}}function Ri(t,...e){if(Ba.logLevel<=Qe.ERROR){const n=e.map(vv);Ba.error(`Firestore (${Ac}): ${t}`,...n)}}function cc(t,...e){if(Ba.logLevel<=Qe.WARN){const n=e.map(vv);Ba.warn(`Firestore (${Ac}): ${t}`,...n)}}function vv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,XC(t,r,n)}function XC(t,e,n){let r=`FIRESTORE (${Ac}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ri(r),new Error(r)}function dt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||XC(e,s,r)}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Mn.UNAUTHENTICATED)))}shutdown(){}}class YB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class XB{constructor(e){this.t=e,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ci,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},u=h=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ci)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string",31837,{l:r}),new JC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new Mn(e)}}class JB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new JB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class o2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ir(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const r=o=>{o.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,be("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new o2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new o2(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=e8(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function Ze(t,e){return t<e?-1:t>e?1:0}function zx(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return Fy(s)===Fy(o)?Ze(s,o):Fy(s)?1:-1}return Ze(t.length,e.length)}const t8=55296,n8=57343;function Fy(t){const e=t.charCodeAt(0);return e>=t8&&e<=n8}function uc(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="__name__";class Ls{constructor(e,n,r){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ls.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ls?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Ls.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return Ze(e.length,n.length)}static compareSegments(e,n){const r=Ls.isNumericId(e),s=Ls.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ls.extractNumericId(e).compare(Ls.extractNumericId(n)):zx(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ao.fromString(e.substring(4,e.length-2))}}class xt extends Ls{construct(e,n,r){return new xt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new xt(n)}static emptyPath(){return new xt([])}}const r8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends Ls{construct(e,n,r){return new Nn(e,n,r)}static isValidIdentifier(e){return r8.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a2}static keyField(){return new Nn([a2])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new xe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new xe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new xe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else u==="`"?(c=!c,s++):u!=="."||c?(r+=u,s++):(o(),s++)}if(o(),c)throw new xe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(n)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(xt.fromString(e))}static fromName(e){return new Re(xt.fromString(e).popFirst(5))}static empty(){return new Re(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new xt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t,e,n){if(!n)throw new xe(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function s8(t,e,n,r){if(e===!0&&r===!0)throw new xe(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function l2(t){if(!Re.isDocumentKey(t))throw new xe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function c2(t){if(Re.isDocumentKey(t))throw new xe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ZC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Qm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function ds(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qm(t);throw new xe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function i8(t,e){if(e<=0)throw new xe(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Fd(t,e){if(!ZC(t))throw new xe(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(s&&typeof c!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&c!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new xe(te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=-62135596800,d2=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*d2);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<u2)throw new xe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/d2}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fd(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-u2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:tn("string",rt._jsonSchemaVersion),seconds:tn("number"),nanoseconds:tn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new rt(0,0))}static max(){return new He(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=-1;function o8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=He.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new ko(s,Re.empty(),e)}function a8(t){return new ko(t.readTime,t.key,dd)}class ko{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ko(He.min(),Re.empty(),dd)}static max(){return new ko(He.max(),Re.empty(),dd)}}function l8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:Ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==c8)throw t;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,r)=>{n(e)}))}static reject(e){return new ne(((n,r)=>{r(e)}))}static waitFor(e){return new ne(((n,r)=>{let s=0,o=0,c=!1;e.forEach((u=>{++s,u.next((()=>{++o,c&&o===s&&n()}),(h=>r(h)))})),c=!0,o===s&&n()}))}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next((s=>s?ne.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,o)=>{r.push(n.call(this,s,o))})),this.waitFor(r)}static mapArray(e,n){return new ne(((r,s)=>{const o=e.length,c=new Array(o);let u=0;for(let h=0;h<o;h++){const m=h;n(e[m]).next((g=>{c[m]=g,++u,u===o&&r(c)}),(g=>s(g)))}}))}static doWhile(e,n){return new ne(((r,s)=>{const o=()=>{e()===!0?n().next((()=>{o()}),s):r()};o()}))}}function d8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=-1;function ep(t){return t==null}function fm(t){return t===0&&1/t==-1/0}function h8(t){return typeof t=="number"&&Number.isInteger(t)&&!fm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5="";function f8(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=h2(e)),e=m8(t.get(n),e);return h2(e)}function m8(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case e5:n+="";break;default:n+=o}}return n}function h2(t){return t+e5+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function t5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){this.comparator=e,this.root=n||En.EMPTY}insert(e,n){return new Dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hf(this.root,e,this.comparator,!1)}getReverseIterator(){return new hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hf(this.root,e,this.comparator,!0)}}class hf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??En.RED,this.left=s??En.EMPTY,this.right=o??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new En(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return En.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new En(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new m2(this.data.getIterator())}getIteratorFrom(e){return new m2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class m2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new Nr([])}unionWith(e){let n=new an(Nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new n5("Invalid base64 string: "+o):o}})(e);return new Tn(n)}static fromUint8Array(e){const n=(function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o})(e);return new Tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const p8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ro(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const n=p8.exec(t);if(dt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Po(t){return typeof t=="string"?Tn.fromBase64String(t):Tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5="server_timestamp",s5="__type__",i5="__previous_value__",o5="__local_write_time__";function _v(t){return(t?.mapValue?.fields||{})[s5]?.stringValue===r5}function tp(t){const e=t.mapValue.fields[i5];return _v(e)?tp(e):e}function hd(t){const e=Ro(t.mapValue.fields[o5].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e,n,r,s,o,c,u,h,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=m,this.isUsingEmulator=g}}const mm="(default)";class fd{constructor(e,n){this.projectId=e,this.database=n||mm}static empty(){return new fd("","")}get isDefaultDatabase(){return this.database===mm}isEqual(e){return e instanceof fd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5="__type__",y8="__max__",ff={mapValue:{}},l5="__vector__",pm="value";function Mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_v(t)?4:v8(t)?9007199254740991:x8(t)?10:11:Le(28295,{value:t})}function ti(t,e){if(t===e)return!0;const n=Mo(t);if(n!==Mo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hd(t).isEqual(hd(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=Ro(s.timestampValue),u=Ro(o.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,o){return Po(s.bytesValue).isEqual(Po(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,o){return Gt(s.geoPointValue.latitude)===Gt(o.geoPointValue.latitude)&&Gt(s.geoPointValue.longitude)===Gt(o.geoPointValue.longitude)})(t,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Gt(s.integerValue)===Gt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=Gt(s.doubleValue),u=Gt(o.doubleValue);return c===u?fm(c)===fm(u):isNaN(c)&&isNaN(u)}return!1})(t,e);case 9:return uc(t.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return(function(s,o){const c=s.mapValue.fields||{},u=o.mapValue.fields||{};if(f2(c)!==f2(u))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(u[h]===void 0||!ti(c[h],u[h])))return!1;return!0})(t,e);default:return Le(52216,{left:t})}}function md(t,e){return(t.values||[]).find((n=>ti(n,e)))!==void 0}function dc(t,e){if(t===e)return 0;const n=Mo(t),r=Mo(e);if(n!==r)return Ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return(function(o,c){const u=Gt(o.integerValue||o.doubleValue),h=Gt(c.integerValue||c.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(t,e);case 3:return p2(t.timestampValue,e.timestampValue);case 4:return p2(hd(t),hd(e));case 5:return zx(t.stringValue,e.stringValue);case 6:return(function(o,c){const u=Po(o),h=Po(c);return u.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(o,c){const u=o.split("/"),h=c.split("/");for(let m=0;m<u.length&&m<h.length;m++){const g=Ze(u[m],h[m]);if(g!==0)return g}return Ze(u.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,c){const u=Ze(Gt(o.latitude),Gt(c.latitude));return u!==0?u:Ze(Gt(o.longitude),Gt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return g2(t.arrayValue,e.arrayValue);case 10:return(function(o,c){const u=o.fields||{},h=c.fields||{},m=u[pm]?.arrayValue,g=h[pm]?.arrayValue,y=Ze(m?.values?.length||0,g?.values?.length||0);return y!==0?y:g2(m,g)})(t.mapValue,e.mapValue);case 11:return(function(o,c){if(o===ff.mapValue&&c===ff.mapValue)return 0;if(o===ff.mapValue)return 1;if(c===ff.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),m=c.fields||{},g=Object.keys(m);h.sort(),g.sort();for(let y=0;y<h.length&&y<g.length;++y){const v=zx(h[y],g[y]);if(v!==0)return v;const _=dc(u[h[y]],m[g[y]]);if(_!==0)return _}return Ze(h.length,g.length)})(t.mapValue,e.mapValue);default:throw Le(23264,{he:n})}}function p2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const n=Ro(t),r=Ro(e),s=Ze(n.seconds,r.seconds);return s!==0?s:Ze(n.nanos,r.nanos)}function g2(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=dc(n[s],r[s]);if(o)return o}return Ze(n.length,r.length)}function hc(t){return Ux(t)}function Ux(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ro(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Po(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Re.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Ux(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const c of r)o?o=!1:s+=",",s+=`${c}:${Ux(n.fields[c])}`;return s+"}"})(t.mapValue):Le(61005,{value:t})}function Uf(t){switch(Mo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tp(t);return e?16+Uf(e):16;case 5:return 2*t.stringValue.length;case 6:return Po(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+Uf(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Wo(r.fields,((o,c)=>{s+=o.length+Uf(c)})),s})(t.mapValue);default:throw Le(13486,{value:t})}}function y2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hx(t){return!!t&&"integerValue"in t}function Ev(t){return!!t&&"arrayValue"in t}function x2(t){return!!t&&"nullValue"in t}function v2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hf(t){return!!t&&"mapValue"in t}function x8(t){return(t?.mapValue?.fields||{})[a5]?.stringValue===l5}function Xu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Wo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Xu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xu(t.arrayValue.values[n]);return e}return{...t}}function v8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===y8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xu(n)}setAll(e){let n=Nn.emptyPath(),r={},s=[];e.forEach(((c,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=u.popLast()}c?r[u.lastSegment()]=Xu(c):s.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());Hf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Hf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Wo(n,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new or(Xu(this.value))}}function c5(t){const e=[];return Wo(t.fields,((n,r)=>{const s=new Nn([n]);if(Hf(r)){const o=c5(r.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)})),new Nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n,r,s,o,c,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=c,this.documentState=u}static newInvalidDocument(e){return new Fn(e,0,He.min(),He.min(),He.min(),or.empty(),0)}static newFoundDocument(e,n,r,s){return new Fn(e,1,n,He.min(),r,s,0)}static newNoDocument(e,n){return new Fn(e,2,n,He.min(),He.min(),or.empty(),0)}static newUnknownDocument(e,n){return new Fn(e,3,n,He.min(),He.min(),or.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n){this.position=e,this.inclusive=n}}function w2(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],c=t.position[s];if(o.field.isKeyField()?r=Re.comparator(Re.fromName(c.referenceValue),n.key):r=dc(c,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function b2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ti(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n="asc"){this.field=e,this.dir=n}}function w8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{}class en extends u5{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _8(e,n,r):n==="array-contains"?new A8(e,r):n==="in"?new T8(e,r):n==="not-in"?new C8(e,r):n==="array-contains-any"?new S8(e,r):new en(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new E8(e,r):new N8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(dc(n,this.value)):n!==null&&Mo(this.value)===Mo(n)&&this.matchesComparison(dc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hs extends u5{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hs(e,n)}matches(e){return d5(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function d5(t){return t.op==="and"}function h5(t){return b8(t)&&d5(t)}function b8(t){for(const e of t.filters)if(e instanceof hs)return!1;return!0}function $x(t){if(t instanceof en)return t.field.canonicalString()+t.op.toString()+hc(t.value);if(h5(t))return t.filters.map((e=>$x(e))).join(",");{const e=t.filters.map((n=>$x(n))).join(",");return`${t.op}(${e})`}}function f5(t,e){return t instanceof en?(function(r,s){return s instanceof en&&r.op===s.op&&r.field.isEqual(s.field)&&ti(r.value,s.value)})(t,e):t instanceof hs?(function(r,s){return s instanceof hs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,c,u)=>o&&f5(c,s.filters[u])),!0):!1})(t,e):void Le(19439)}function m5(t){return t instanceof en?(function(n){return`${n.field.canonicalString()} ${n.op} ${hc(n.value)}`})(t):t instanceof hs?(function(n){return n.op.toString()+" {"+n.getFilters().map(m5).join(" ,")+"}"})(t):"Filter"}class _8 extends en{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class E8 extends en{constructor(e,n){super(e,"in",n),this.keys=p5("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class N8 extends en{constructor(e,n){super(e,"not-in",n),this.keys=p5("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function p5(t,e){return(e.arrayValue?.values||[]).map((n=>Re.fromName(n.referenceValue)))}class A8 extends en{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ev(n)&&md(n.arrayValue,this.value)}}class T8 extends en{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&md(this.value.arrayValue,n)}}class C8 extends en{constructor(e,n){super(e,"not-in",n)}matches(e){if(md(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!md(this.value.arrayValue,n)}}class S8 extends en{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ev(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>md(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e,n=null,r=[],s=[],o=null,c=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=c,this.endAt=u,this.Te=null}}function _2(t,e=null,n=[],r=[],s=null,o=null,c=null){return new I8(t,e,n,r,s,o,c)}function Nv(t){const e=We(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>$x(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),ep(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>hc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>hc(r))).join(",")),e.Te=n}return e.Te}function Av(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!w8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!f5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!b2(t.startAt,e.startAt)&&b2(t.endAt,e.endAt)}function Wx(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n=null,r=[],s=[],o=null,c="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=c,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function j8(t,e,n,r,s,o,c,u){return new Sc(t,e,n,r,s,o,c,u)}function Tv(t){return new Sc(t)}function E2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function g5(t){return t.collectionGroup!==null}function Ju(t){const e=We(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new an(Nn.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((m=>{m.isInequality()&&(u=u.add(m.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new pd(o,r))})),n.has(Nn.keyField().canonicalString())||e.Ie.push(new pd(Nn.keyField(),r))}return e.Ie}function Ks(t){const e=We(t);return e.Ee||(e.Ee=k8(e,Ju(t))),e.Ee}function k8(t,e){if(t.limitType==="F")return _2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new pd(s.field,o)}));const n=t.endAt?new gm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gm(t.startAt.position,t.startAt.inclusive):null;return _2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gx(t,e){const n=t.filters.concat([e]);return new Sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ym(t,e,n){return new Sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function np(t,e){return Av(Ks(t),Ks(e))&&t.limitType===e.limitType}function y5(t){return`${Nv(Ks(t))}|lt:${t.limitType}`}function Ll(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>m5(s))).join(", ")}]`),ep(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>hc(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>hc(s))).join(",")),`Target(${r})`})(Ks(t))}; limitType=${t.limitType})`}function rp(t,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,s){for(const o of Ju(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(c,u,h){const m=w2(c,u,h);return c.inclusive?m<=0:m<0})(r.startAt,Ju(r),s)||r.endAt&&!(function(c,u,h){const m=w2(c,u,h);return c.inclusive?m>=0:m>0})(r.endAt,Ju(r),s))})(t,e)}function R8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function x5(t){return(e,n)=>{let r=!1;for(const s of Ju(t)){const o=P8(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function P8(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):(function(o,c,u){const h=c.data.field(o),m=u.data.field(o);return h!==null&&m!==null?dc(h,m):Le(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Wo(this.inner,((n,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return t5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=new Dt(Re.comparator);function Pi(){return M8}const v5=new Dt(Re.comparator);function Ou(...t){let e=v5;for(const n of t)e=e.insert(n.key,n);return e}function w5(t){let e=v5;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ka(){return Qu()}function b5(){return Qu()}function Qu(){return new Ka((t=>t.toString()),((t,e)=>t.isEqual(e)))}const F8=new Dt(Re.comparator),D8=new an(Re.comparator);function et(...t){let e=D8;for(const n of t)e=e.add(n);return e}const O8=new an(Ze);function V8(){return O8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fm(e)?"-0":e}}function _5(t){return{integerValue:""+t}}function E5(t,e){return h8(e)?_5(e):Cv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(){this._=void 0}}function L8(t,e,n){return t instanceof gd?(function(s,o){const c={fields:{[s5]:{stringValue:r5},[o5]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&_v(o)&&(o=tp(o)),o&&(c.fields[i5]=o),{mapValue:c}})(n,e):t instanceof yd?A5(t,e):t instanceof xd?T5(t,e):(function(s,o){const c=N5(s,o),u=N2(c)+N2(s.Ae);return Hx(c)&&Hx(s.Ae)?_5(u):Cv(s.serializer,u)})(t,e)}function B8(t,e,n){return t instanceof yd?A5(t,e):t instanceof xd?T5(t,e):n}function N5(t,e){return t instanceof vd?(function(r){return Hx(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class gd extends sp{}class yd extends sp{constructor(e){super(),this.elements=e}}function A5(t,e){const n=C5(e);for(const r of t.elements)n.some((s=>ti(s,r)))||n.push(r);return{arrayValue:{values:n}}}class xd extends sp{constructor(e){super(),this.elements=e}}function T5(t,e){let n=C5(e);for(const r of t.elements)n=n.filter((s=>!ti(s,r)));return{arrayValue:{values:n}}}class vd extends sp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function N2(t){return Gt(t.integerValue||t.doubleValue)}function C5(t){return Ev(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n){this.field=e,this.transform=n}}function z8(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof yd&&s instanceof yd||r instanceof xd&&s instanceof xd?uc(r.elements,s.elements,ti):r instanceof vd&&s instanceof vd?ti(r.Ae,s.Ae):r instanceof gd&&s instanceof gd})(t.transform,e.transform)}class U8{constructor(e,n){this.version=e,this.transformResults=n}}class $r{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $r}static exists(e){return new $r(void 0,e)}static updateTime(e){return new $r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $f(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ip{}function I5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sv(t.key,$r.none()):new Dd(t.key,t.data,$r.none());{const n=t.data,r=or.empty();let s=new an(Nn.comparator);for(let o of e.fields)if(!s.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?r.delete(o):r.set(o,c),s=s.add(o)}return new Go(t.key,r,new Nr(s.toArray()),$r.none())}}function H8(t,e,n){t instanceof Dd?(function(s,o,c){const u=s.value.clone(),h=T2(s.fieldTransforms,o,c.transformResults);u.setAll(h),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(t,e,n):t instanceof Go?(function(s,o,c){if(!$f(s.precondition,o))return void o.convertToUnknownDocument(c.version);const u=T2(s.fieldTransforms,o,c.transformResults),h=o.data;h.setAll(j5(s)),h.setAll(u),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):(function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Zu(t,e,n,r){return t instanceof Dd?(function(o,c,u,h){if(!$f(o.precondition,c))return u;const m=o.value.clone(),g=C2(o.fieldTransforms,h,c);return m.setAll(g),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof Go?(function(o,c,u,h){if(!$f(o.precondition,c))return u;const m=C2(o.fieldTransforms,h,c),g=c.data;return g.setAll(j5(o)),g.setAll(m),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(o,c,u){return $f(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u})(t,e,n)}function $8(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=N5(r.transform,s||null);o!=null&&(n===null&&(n=or.empty()),n.set(r.field,o))}return n||null}function A2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&uc(r,s,((o,c)=>z8(o,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dd extends ip{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Go extends ip{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function j5(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function T2(t,e,n){const r=new Map;dt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],c=o.transform,u=e.data.field(o.field);r.set(o.field,B8(c,u,n[s]))}return r}function C2(t,e,n){const r=new Map;for(const s of t){const o=s.transform,c=n.data.field(s.field);r.set(s.field,L8(o,c,e))}return r}class Sv extends ip{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W8 extends ip{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&H8(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=b5();return this.mutations.forEach((s=>{const o=e.get(s.key),c=o.overlayedDocument;let u=this.applyToLocalView(c,o.mutatedFields);u=n.has(s.key)?null:u;const h=I5(c,u);h!==null&&r.set(s.key,h),c.isValidDocument()||c.convertToNoDocument(He.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),et())}isEqual(e){return this.batchId===e.batchId&&uc(this.mutations,e.mutations,((n,r)=>A2(n,r)))&&uc(this.baseMutations,e.baseMutations,((n,r)=>A2(n,r)))}}class Iv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){dt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return F8})();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,r[c].version);return new Iv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q8=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,nt;function Y8(t){switch(t){case te.OK:return Le(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function k5(t){if(t===void 0)return Ri("GRPC error has no .code"),te.UNKNOWN;switch(t){case Qt.OK:return te.OK;case Qt.CANCELLED:return te.CANCELLED;case Qt.UNKNOWN:return te.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return te.INTERNAL;case Qt.UNAVAILABLE:return te.UNAVAILABLE;case Qt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Qt.NOT_FOUND:return te.NOT_FOUND;case Qt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Qt.ABORTED:return te.ABORTED;case Qt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Qt.DATA_LOSS:return te.DATA_LOSS;default:return Le(39323,{code:t})}}(nt=Qt||(Qt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8=new Ao([4294967295,4294967295],0);function S2(t){const e=X8().encode(t),n=new $C;return n.update(e),new Uint8Array(n.digest())}function I2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ao([n,r],0),new Ao([s,o],0)]}class jv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vu(`Invalid padding: ${n}`);if(r<0)throw new Vu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ao.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ao.fromNumber(r)));return s.compare(J8)===1&&(s=new Ao([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=S2(e),[r,s]=I2(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,s,o);if(!this.we(c))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new jv(o,s,n);return r.forEach((u=>c.insert(u))),c}insert(e){if(this.ge===0)return;const n=S2(e),[r,s]=I2(n);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,s,o);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Od.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new op(He.min(),s,new Dt(Ze),Pi(),et())}}class Od{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Od(r,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class R5{constructor(e,n){this.targetId=e,this.Ce=n}}class P5{constructor(e,n,r=Tn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class j2{constructor(){this.ve=0,this.Fe=k2(),this.Me=Tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),n=et(),r=et();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Le(38017,{changeType:o})}})),new Od(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=k2()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Q8{constructor(e){this.Ge=e,this.ze=new Map,this.je=Pi(),this.Je=mf(),this.He=mf(),this.Ye=new Dt(Ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(Wx(o))if(r===0){const c=new Re(o.path);this.et(n,c,Fn.newNoDocument(c,He.min()))}else dt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const u=this.ut(e),h=u?this.ct(u,e,c):1;if(h!==0){this.it(n);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let c,u;try{c=Po(r).toUint8Array()}catch(h){if(h instanceof n5)return cc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new jv(c,s,o)}catch(h){return cc(h instanceof Vu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((o=>{const c=this.Ge.ht(),u=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((o,c)=>{const u=this.ot(c);if(u){if(o.current&&Wx(u.target)){const h=new Re(u.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,Fn.newNoDocument(h,e))}o.Be&&(n.set(c,o.ke()),o.qe())}}));let r=et();this.He.forEach(((o,c)=>{let u=!0;c.forEachWhile((h=>{const m=this.ot(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const s=new op(e,n,this.Ye,this.je,r);return this.je=Pi(),this.Je=mf(),this.He=mf(),this.Ye=new Dt(Ze),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new j2,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new an(Ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new an(Ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new j2),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function mf(){return new Dt(Re.comparator)}function k2(){return new Dt(Re.comparator)}const Z8={asc:"ASCENDING",desc:"DESCENDING"},ez={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tz={and:"AND",or:"OR"};class nz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qx(t,e){return t.useProto3Json||ep(e)?e:{value:e}}function xm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rz(t,e){return xm(t,e.toTimestamp())}function Ys(t){return dt(!!t,49232),He.fromTimestamp((function(n){const r=Ro(n);return new rt(r.seconds,r.nanos)})(t))}function kv(t,e){return Kx(t,e).canonicalString()}function Kx(t,e){const n=(function(s){return new xt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function F5(t){const e=xt.fromString(t);return dt(B5(e),10190,{key:e.toString()}),e}function Yx(t,e){return kv(t.databaseId,e.path)}function Dy(t,e){const n=F5(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(O5(n))}function D5(t,e){return kv(t.databaseId,e)}function sz(t){const e=F5(t);return e.length===4?xt.emptyPath():O5(e)}function Xx(t){return new xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function O5(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function R2(t,e,n){return{name:Yx(t,e),fields:n.value.mapValue.fields}}function iz(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Le(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(m,g){return m.useProto3Json?(dt(g===void 0||typeof g=="string",58123),Tn.fromBase64String(g||"")):(dt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Tn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,u=c&&(function(m){const g=m.code===void 0?te.UNKNOWN:k5(m.code);return new xe(g,m.message||"")})(c);n=new P5(r,s,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Dy(t,r.document.name),o=Ys(r.document.updateTime),c=r.document.createTime?Ys(r.document.createTime):He.min(),u=new or({mapValue:{fields:r.document.fields}}),h=Fn.newFoundDocument(s,o,c,u),m=r.targetIds||[],g=r.removedTargetIds||[];n=new Wf(m,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Dy(t,r.document),o=r.readTime?Ys(r.readTime):He.min(),c=Fn.newNoDocument(s,o),u=r.removedTargetIds||[];n=new Wf([],u,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Dy(t,r.document),o=r.removedTargetIds||[];n=new Wf([],o,s,null)}else{if(!("filter"in e))return Le(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,c=new K8(s,o),u=r.targetId;n=new R5(u,c)}}return n}function oz(t,e){let n;if(e instanceof Dd)n={update:R2(t,e.key,e.value)};else if(e instanceof Sv)n={delete:Yx(t,e.key)};else if(e instanceof Go)n={update:R2(t,e.key,e.data),updateMask:pz(e.fieldMask)};else{if(!(e instanceof W8))return Le(16599,{Vt:e.type});n={verify:Yx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const u=c.transform;if(u instanceof gd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof yd)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof xd)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof vd)return{fieldPath:c.field.canonicalString(),increment:u.Ae};throw Le(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:rz(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Le(27497)})(t,e.precondition)),n}function az(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map((n=>(function(s,o){let c=s.updateTime?Ys(s.updateTime):Ys(o);return c.isEqual(He.min())&&(c=Ys(o)),new U8(c,s.transformResults||[])})(n,e)))):[]}function lz(t,e){return{documents:[D5(t,e.path)]}}function cz(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=D5(t,s);const o=(function(m){if(m.length!==0)return L5(hs.create(m,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((g=>(function(v){return{field:Bl(v.field),direction:hz(v.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const u=qx(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:s}}function uz(t){let e=sz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){dt(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=(function(y){const v=V5(y);return v instanceof hs&&h5(v)?v.getFilters():[v]})(n.where));let c=[];n.orderBy&&(c=(function(y){return y.map((v=>(function(C){return new pd(zl(C.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(v)))})(n.orderBy));let u=null;n.limit&&(u=(function(y){let v;return v=typeof y=="object"?y.value:y,ep(v)?null:v})(n.limit));let h=null;n.startAt&&(h=(function(y){const v=!!y.before,_=y.values||[];return new gm(_,v)})(n.startAt));let m=null;return n.endAt&&(m=(function(y){const v=!y.before,_=y.values||[];return new gm(_,v)})(n.endAt)),j8(e,s,c,o,u,"F",h,m)}function dz(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function V5(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zl(n.unaryFilter.field);return en.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=zl(n.unaryFilter.field);return en.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=zl(n.unaryFilter.field);return en.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=zl(n.unaryFilter.field);return en.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(t):t.fieldFilter!==void 0?(function(n){return en.create(zl(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return hs.create(n.compositeFilter.filters.map((r=>V5(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(n.compositeFilter.op))})(t):Le(30097,{filter:t})}function hz(t){return Z8[t]}function fz(t){return ez[t]}function mz(t){return tz[t]}function Bl(t){return{fieldPath:t.canonicalString()}}function zl(t){return Nn.fromServerFormat(t.fieldPath)}function L5(t){return t instanceof en?(function(n){if(n.op==="=="){if(v2(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NAN"}};if(x2(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(v2(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NOT_NAN"}};if(x2(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bl(n.field),op:fz(n.op),value:n.value}}})(t):t instanceof hs?(function(n){const r=n.getFilters().map((s=>L5(s)));return r.length===1?r[0]:{compositeFilter:{op:mz(n.op),filters:r}}})(t):Le(54877,{filter:t})}function pz(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function B5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n,r,s,o=He.min(),c=He.min(),u=Tn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new wo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e){this.yt=e}}function yz(t){const e=uz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ym(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(){this.Cn=new vz}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(ko.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(ko.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class vz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new an(xt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new an(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},z5=41943040;class rr{static withCacheSize(e){return new rr(e,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr.DEFAULT_COLLECTION_PERCENTILE=10,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rr.DEFAULT=new rr(z5,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rr.DISABLED=new rr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fc(0)}static cr(){return new fc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="LruGarbageCollector",wz=1048576;function F2([t,e],[n,r]){const s=Ze(t,n);return s===0?Ze(e,r):s}class bz{constructor(e){this.Ir=e,this.buffer=new an(F2),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();F2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _z{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){be(M2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cc(n)?be(M2,"Ignoring IndexedDB error during garbage collection: ",n):await Tc(n)}await this.Vr(3e5)}))}}class Ez{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Zm.ce);const r=new bz(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(P2)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P2):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,o,c,u,h,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,c=Date.now(),this.nthSequenceNumber(e,s)))).next((y=>(r=y,u=Date.now(),this.removeTargets(e,r,n)))).next((y=>(o=y,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(m=Date.now(),Vl()<=Qe.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-g}ms
	Determined least recently used ${s} in `+(u-c)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${y} documents in `+(m-h)+`ms
Total Duration: ${m-g}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:y}))))}}function Nz(t,e){return new Ez(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(){this.changes=new Ka((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Zu(r.mutation,s,Nr.empty(),rt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,et()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=et()){const s=ka();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((o=>{let c=Ou();return o.forEach(((u,h)=>{c=c.insert(u,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=ka();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,et())))}populateOverlays(e,n,r){const s=[];return r.forEach((o=>{n.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((c,u)=>{n.set(c,u)}))}))}computeViews(e,n,r,s){let o=Pi();const c=Qu(),u=(function(){return Qu()})();return n.forEach(((h,m)=>{const g=r.get(m.key);s.has(m.key)&&(g===void 0||g.mutation instanceof Go)?o=o.insert(m.key,m):g!==void 0?(c.set(m.key,g.mutation.getFieldMask()),Zu(g.mutation,m,g.mutation.getFieldMask(),rt.now())):c.set(m.key,Nr.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((m,g)=>c.set(m,g))),n.forEach(((m,g)=>u.set(m,new Tz(g,c.get(m)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Qu();let s=new Dt(((c,u)=>c-u)),o=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const u of c)u.keys().forEach((h=>{const m=n.get(h);if(m===null)return;let g=r.get(h)||Nr.empty();g=u.applyToLocalView(m,g),r.set(h,g);const y=(s.get(u.batchId)||et()).add(h);s=s.insert(u.batchId,y)}))})).next((()=>{const c=[],u=s.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),m=h.key,g=h.value,y=b5();g.forEach((v=>{if(!o.has(v)){const _=I5(n.get(v),r.get(v));_!==null&&y.set(v,_),o=o.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,y))}return ne.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(c){return Re.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):g5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):ne.resolve(ka());let u=dd,h=o;return c.next((m=>ne.forEach(m,((g,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(g)?ne.resolve():this.remoteDocumentCache.getEntry(e,g).next((v=>{h=h.insert(g,v)}))))).next((()=>this.populateOverlays(e,m,o))).next((()=>this.computeViews(e,h,m,et()))).next((g=>({batchId:u,changes:w5(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next((r=>{let s=Ou();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let c=Ou();return this.indexManager.getCollectionParents(e,o).next((u=>ne.forEach(u,(h=>{const m=(function(y,v){return new Sc(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next((g=>{g.forEach(((y,v)=>{c=c.insert(y,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s)))).next((c=>{o.forEach(((h,m)=>{const g=m.getKey();c.get(g)===null&&(c=c.insert(g,Fn.newInvalidDocument(g)))}));let u=Ou();return c.forEach(((h,m)=>{const g=o.get(h);g!==void 0&&Zu(g.mutation,m,Nr.empty(),rt.now()),rp(n,m)&&(u=u.insert(h,m))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Ys(s.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:yz(s.bundledQuery),readTime:Ys(s.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(){this.overlays=new Dt(Re.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ka();return ne.forEach(n,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,o)=>{this.St(e,n,o)})),ne.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const s=ka(),o=n.length+1,c=new Re(n.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const h=u.getNext().value,m=h.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&h.largestBatchId>r&&s.set(h.getKey(),h)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Dt(((m,g)=>m-g));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let g=o.get(m.largestBatchId);g===null&&(g=ka(),o=o.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const u=ka(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((m,g)=>u.set(m,g))),!(u.size()>=s)););return ne.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new q8(n,r));let o=this.qr.get(n);o===void 0&&(o=et(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.Qr=new an(pn.$r),this.Ur=new an(pn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new pn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new pn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Re(new xt([])),r=new pn(n,e),s=new pn(n,e+1),o=[];return this.Ur.forEachInRange([r,s],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Re(new xt([])),r=new pn(n,e),s=new pn(n,e+1);let o=et();return this.Ur.forEachInRange([r,s],(c=>{o=o.add(c.key)})),o}containsKey(e){const n=new pn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Re.comparator(e.key,n.key)||Ze(e.Yr,n.Yr)}static Kr(e,n){return Ze(e.Yr,n.Yr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new an(pn.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new G8(o,n,r,s);this.mutationQueue.push(c);for(const u of s)this.Zr=this.Zr.add(new pn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),o=s<0?0:s;return ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?bv:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pn(n,0),s=new pn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],(c=>{const u=this.Xr(c.Yr);o.push(u)})),ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new an(Ze);return n.forEach((s=>{const o=new pn(s,0),c=new pn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(u=>{r=r.add(u.Yr)}))})),ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Re.isDocumentKey(o)||(o=o.child(""));const c=new pn(new Re(o),0);let u=new an(Ze);return this.Zr.forEachWhile((h=>{const m=h.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(u=u.add(h.Yr)),!0)}),c),ne.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){dt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ne.forEach(n.mutations,(s=>{const o=new pn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new pn(n,0),s=this.Zr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e){this.ri=e,this.docs=(function(){return new Dt(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(n))}getEntries(e,n){let r=Pi();return n.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Fn.newInvalidDocument(s))})),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Pi();const c=n.path,u=new Re(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:m,value:{document:g}}=h.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||l8(a8(g),r)<=0||(s.has(g.key)||rp(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ne.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Le(9500)}ii(e,n){return ne.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Pz(this)}getSize(e){return ne.resolve(this.size)}}class Pz extends Az{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e){this.persistence=e,this.si=new Ka((n=>Nv(n)),Av),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.oi=0,this._i=new Rv,this.targetCount=0,this.ai=fc.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new fc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.si.forEach(((c,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),ne.waitFor(o).next((()=>s))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach((c=>{o.push(s.markPotentiallyOrphaned(e,c))})),ne.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,n){this.ui={},this.overlays={},this.ci=new Zm(0),this.li=!1,this.li=!0,this.hi=new jz,this.referenceDelegate=e(this),this.Pi=new Mz(this),this.indexManager=new xz,this.remoteDocumentCache=(function(s){return new Rz(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new gz(n),this.Ii=new Sz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Iz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new kz(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){be("MemoryPersistence","Starting transaction:",e);const s=new Fz(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,n){return ne.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Fz extends u8{constructor(e){super(),this.currentSequenceNumber=e}}class Pv{constructor(e){this.persistence=e,this.Ri=new Rv,this.Vi=null}static mi(e){return new Pv(e)}get fi(){if(this.Vi)return this.Vi;throw Le(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(r=>{const s=Re.fromPath(r);return this.gi(e,s).next((o=>{o||n.removeEntry(s,He.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class vm{constructor(e,n){this.persistence=e,this.pi=new Ka((r=>f8(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=Nz(this,n)}static mi(e,n){return new vm(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((r,s)=>this.br(e,r,s).next((o=>o?ne.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(c=>this.br(e,c,n).next((u=>{u||(r++,o.removeEntry(c,He.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Uf(e.data.value)),n}br(e,n,r){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return ne.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=et(),s=et();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Mv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return hV()?8:d8(On())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ys(e,n).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,n,s,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new Dz;return this.Ss(e,n,c).next((u=>{if(o.result=u,this.Vs)return this.bs(e,n,c,u.size)}))})).next((()=>o.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Vl()<=Qe.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",Ll(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Vl()<=Qe.DEBUG&&be("QueryEngine","Query:",Ll(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Vl()<=Qe.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",Ll(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ks(n))):ne.resolve())}ys(e,n){if(E2(n))return ne.resolve(null);let r=Ks(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=ym(n,null,"F"),r=Ks(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=et(...o);return this.ps.getDocuments(e,c).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const m=this.Ds(n,u);return this.Cs(n,m,c,h.readTime)?this.ys(e,ym(n,null,"F")):this.vs(e,m,n,h)}))))})))))}ws(e,n,r,s){return E2(n)||s.isEqual(He.min())?ne.resolve(null):this.ps.getDocuments(e,r).next((o=>{const c=this.Ds(n,o);return this.Cs(n,c,r,s)?ne.resolve(null):(Vl()<=Qe.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ll(n)),this.vs(e,c,n,o8(s,dd)).next((u=>u)))}))}Ds(e,n){let r=new an(x5(e));return n.forEach(((s,o)=>{rp(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return Vl()<=Qe.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Ll(n)),this.ps.getDocumentsMatchingQuery(e,n,ko.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((o=>(n.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="LocalStore",Vz=3e8;class Lz{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Dt(Ze),this.xs=new Ka((o=>Nv(o)),Av),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cz(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Bz(t,e,n,r){return new Lz(t,e,n,r)}async function H5(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],u=[];let h=et();for(const m of s){c.push(m.batchId);for(const g of m.mutations)h=h.add(g.key)}for(const m of o){u.push(m.batchId);for(const g of m.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:u})))}))}))}function zz(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,h,m,g){const y=m.batch,v=y.keys();let _=ne.resolve();return v.forEach((C=>{_=_.next((()=>g.getEntry(h,C))).next((E=>{const N=m.docVersions.get(C);dt(N!==null,48541),E.version.compareTo(N)<0&&(y.applyToRemoteDocument(E,m),E.isValidDocument()&&(E.setReadTime(m.commitVersion),g.addEntry(E)))}))})),_.next((()=>u.mutationQueue.removeMutationBatch(h,y)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=et();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(h=h.add(u.batch.mutations[m].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function $5(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Uz(t,e){const n=We(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach(((g,y)=>{const v=s.get(y);if(!v)return;u.push(n.Pi.removeMatchingKeys(o,g.removedDocuments,y).next((()=>n.Pi.addMatchingKeys(o,g.addedDocuments,y))));let _=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?_=_.withResumeToken(Tn.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):g.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(g.resumeToken,r)),s=s.insert(y,_),(function(E,N,j){return E.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=Vz?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(v,_,g)&&u.push(n.Pi.updateTargetData(o,_))}));let h=Pi(),m=et();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))})),u.push(Hz(o,c,e.documentUpdates).next((g=>{h=g.ks,m=g.qs}))),!r.isEqual(He.min())){const g=n.Pi.getLastRemoteSnapshotVersion(o).next((y=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(g)}return ne.waitFor(u).next((()=>c.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,h,m))).next((()=>h))})).then((o=>(n.Ms=s,o)))}function Hz(t,e,n){let r=et(),s=et();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let c=Pi();return n.forEach(((u,h)=>{const m=o.get(u);h.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(u)),h.isNoDocument()&&h.version.isEqual(He.min())?(e.removeEntry(u,h.readTime),c=c.insert(u,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),c=c.insert(u,h)):be(Fv,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",h.version)})),{ks:c,qs:s}}))}function $z(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=bv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Wz(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((o=>o?(s=o,ne.resolve(s)):n.Pi.allocateTargetId(r).next((c=>(s=new wo(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Jx(t,e,n){const r=We(t),s=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Cc(c))throw c;be(Fv,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function D2(t,e,n){const r=We(t);let s=He.min(),o=et();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,m,g){const y=We(h),v=y.xs.get(g);return v!==void 0?ne.resolve(y.Ms.get(v)):y.Pi.getTargetData(m,g)})(r,c,Ks(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,u.targetId).next((h=>{o=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?s:He.min(),n?o:et()))).next((u=>(Gz(r,R8(e),u),{documents:u,Qs:o})))))}function Gz(t,e,n){let r=t.Os.get(e)||He.min();n.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class O2{constructor(){this.activeTargetIds=V8()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qz{constructor(){this.Mo=new O2,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new O2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="ConnectivityMonitor";class L2{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){be(V2,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){be(V2,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf=null;function Qx(){return pf===null?pf=(function(){return 268435456+Math.round(2147483648*Math.random())})():pf++,"0x"+pf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="RestConnection",Yz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xz{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===mm?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,o){const c=Qx(),u=this.zo(e,n.toUriEncodedString());be(Oy,`Sending RPC '${e}' ${c}:`,u,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,o);const{host:m}=new URL(u),g=Uo(m);return this.Jo(e,u,h,r,g).then((y=>(be(Oy,`Received RPC '${e}' ${c}: `,y),y)),(y=>{throw cc(Oy,`RPC '${e}' ${c} failed with error: `,y,"url: ",u,"request:",r),y}))}Ho(e,n,r,s,o,c){return this.Go(e,n,r,s,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ac})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}zo(e,n){const r=Yz[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn="WebChannelConnection";class Qz extends Xz{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const c=Qx();return new Promise(((u,h)=>{const m=new WC;m.setWithCredentials(!0),m.listenOnce(GC.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case zf.NO_ERROR:const y=m.getResponseJson();be(Pn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(y)),u(y);break;case zf.TIMEOUT:be(Pn,`RPC '${e}' ${c} timed out`),h(new xe(te.DEADLINE_EXCEEDED,"Request time out"));break;case zf.HTTP_ERROR:const v=m.getStatus();if(be(Pn,`RPC '${e}' ${c} failed with status:`,v,"response text:",m.getResponseText()),v>0){let _=m.getResponseJson();Array.isArray(_)&&(_=_[0]);const C=_?.error;if(C&&C.status&&C.message){const E=(function(j){const O=j.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(O)>=0?O:te.UNKNOWN})(C.status);h(new xe(E,C.message))}else h(new xe(te.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new xe(te.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{be(Pn,`RPC '${e}' ${c} completed.`)}}));const g=JSON.stringify(s);be(Pn,`RPC '${e}' ${c} sending request:`,s),m.send(n,"POST",g,r,15)}))}T_(e,n,r){const s=Qx(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=YC(),u=KC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=o.join("");be(Pn,`Creating RPC '${e}' stream ${s}: ${g}`,h);const y=c.createWebChannel(g,h);this.I_(y);let v=!1,_=!1;const C=new Jz({Yo:N=>{_?be(Pn,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(v||(be(Pn,`Opening RPC '${e}' stream ${s} transport.`),y.open(),v=!0),be(Pn,`RPC '${e}' stream ${s} sending:`,N),y.send(N))},Zo:()=>y.close()}),E=(N,j,O)=>{N.listen(j,(R=>{try{O(R)}catch(z){setTimeout((()=>{throw z}),0)}}))};return E(y,Du.EventType.OPEN,(()=>{_||(be(Pn,`RPC '${e}' stream ${s} transport opened.`),C.o_())})),E(y,Du.EventType.CLOSE,(()=>{_||(_=!0,be(Pn,`RPC '${e}' stream ${s} transport closed`),C.a_(),this.E_(y))})),E(y,Du.EventType.ERROR,(N=>{_||(_=!0,cc(Pn,`RPC '${e}' stream ${s} transport errored. Name:`,N.name,"Message:",N.message),C.a_(new xe(te.UNAVAILABLE,"The operation could not be completed")))})),E(y,Du.EventType.MESSAGE,(N=>{if(!_){const j=N.data[0];dt(!!j,16349);const O=j,R=O?.error||O[0]?.error;if(R){be(Pn,`RPC '${e}' stream ${s} received error:`,R);const z=R.status;let V=(function(S){const M=Qt[S];if(M!==void 0)return k5(M)})(z),q=R.message;V===void 0&&(V=te.INTERNAL,q="Unknown error status: "+z+" with message "+R.message),_=!0,C.a_(new xe(V,q)),y.close()}else be(Pn,`RPC '${e}' stream ${s} received:`,j),C.u_(j)}})),E(u,qC.STAT_EVENT,(N=>{N.stat===Bx.PROXY?be(Pn,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===Bx.NOPROXY&&be(Pn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Vy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(t){return new nz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&be("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="PersistentStream";class G5{constructor(e,n,r,s,o,c,u,h){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new W5(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Ri(n.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new xe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return be(B2,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(be(B2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Zz extends G5{constructor(e,n,r,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,c),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=iz(this.serializer,e),r=(function(o){if(!("targetChange"in o))return He.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?He.min():c.readTime?Ys(c.readTime):He.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Xx(this.serializer),n.addTarget=(function(o,c){let u;const h=c.target;if(u=Wx(h)?{documents:lz(o,h)}:{query:cz(o,h).ft},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=M5(o,c.resumeToken);const m=qx(o,c.expectedCount);m!==null&&(u.expectedCount=m)}else if(c.snapshotVersion.compareTo(He.min())>0){u.readTime=xm(o,c.snapshotVersion.toTimestamp());const m=qx(o,c.expectedCount);m!==null&&(u.expectedCount=m)}return u})(this.serializer,e);const r=dz(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Xx(this.serializer),n.removeTarget=e,this.q_(n)}}class e9 extends G5{constructor(e,n,r,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=az(e.writeResults,e.commitTime),r=Ys(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Xx(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>oz(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{}class n9 extends t9{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new xe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,Kx(n,r),s,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(te.UNKNOWN,o.toString())}))}Ho(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Ho(e,Kx(n,r),s,c,u,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new xe(te.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class r9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ri(n),this.aa=!1):be("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="RemoteStore";class s9{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Ya(this)&&(be(za,"Restarting streams for network reachability change."),await(async function(h){const m=We(h);m.Ea.add(4),await Vd(m),m.Ra.set("Unknown"),m.Ea.delete(4),await lp(m)})(this))}))})),this.Ra=new r9(r,s)}}async function lp(t){if(Ya(t))for(const e of t.da)await e(!0)}async function Vd(t){for(const e of t.da)await e(!1)}function q5(t,e){const n=We(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Lv(n)?Vv(n):Ic(n).O_()&&Ov(n,e))}function Dv(t,e){const n=We(t),r=Ic(n);n.Ia.delete(e),r.O_()&&K5(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ya(n)&&n.Ra.set("Unknown"))}function Ov(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ic(t).Y_(e)}function K5(t,e){t.Va.Ue(e),Ic(t).Z_(e)}function Vv(t){t.Va=new Q8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ic(t).start(),t.Ra.ua()}function Lv(t){return Ya(t)&&!Ic(t).x_()&&t.Ia.size>0}function Ya(t){return We(t).Ea.size===0}function Y5(t){t.Va=void 0}async function i9(t){t.Ra.set("Online")}async function o9(t){t.Ia.forEach(((e,n)=>{Ov(t,e)}))}async function a9(t,e){Y5(t),Lv(t)?(t.Ra.ha(e),Vv(t)):t.Ra.set("Unknown")}async function l9(t,e,n){if(t.Ra.set("Online"),e instanceof P5&&e.state===2&&e.cause)try{await(async function(s,o){const c=o.cause;for(const u of o.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,c),s.Ia.delete(u),s.Va.removeTarget(u))})(t,e)}catch(r){be(za,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wm(t,r)}else if(e instanceof Wf?t.Va.Ze(e):e instanceof R5?t.Va.st(e):t.Va.tt(e),!n.isEqual(He.min()))try{const r=await $5(t.localStore);n.compareTo(r)>=0&&await(function(o,c){const u=o.Va.Tt(c);return u.targetChanges.forEach(((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.Ia.get(m);g&&o.Ia.set(m,g.withResumeToken(h.resumeToken,c))}})),u.targetMismatches.forEach(((h,m)=>{const g=o.Ia.get(h);if(!g)return;o.Ia.set(h,g.withResumeToken(Tn.EMPTY_BYTE_STRING,g.snapshotVersion)),K5(o,h);const y=new wo(g.target,h,m,g.sequenceNumber);Ov(o,y)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){be(za,"Failed to raise snapshot:",r),await wm(t,r)}}async function wm(t,e,n){if(!Cc(e))throw e;t.Ea.add(1),await Vd(t),t.Ra.set("Offline"),n||(n=()=>$5(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{be(za,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await lp(t)}))}function X5(t,e){return e().catch((n=>wm(t,n,e)))}async function cp(t){const e=We(t),n=Fo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bv;for(;c9(e);)try{const s=await $z(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,u9(e,s)}catch(s){await wm(e,s)}J5(e)&&Q5(e)}function c9(t){return Ya(t)&&t.Ta.length<10}function u9(t,e){t.Ta.push(e);const n=Fo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function J5(t){return Ya(t)&&!Fo(t).x_()&&t.Ta.length>0}function Q5(t){Fo(t).start()}async function d9(t){Fo(t).ra()}async function h9(t){const e=Fo(t);for(const n of t.Ta)e.ea(n.mutations)}async function f9(t,e,n){const r=t.Ta.shift(),s=Iv.from(r,e,n);await X5(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await cp(t)}async function m9(t,e){e&&Fo(t).X_&&await(async function(r,s){if((function(c){return Y8(c)&&c!==te.ABORTED})(s.code)){const o=r.Ta.shift();Fo(r).B_(),await X5(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await cp(r)}})(t,e),J5(t)&&Q5(t)}async function z2(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),be(za,"RemoteStore received new credentials");const r=Ya(n);n.Ea.add(3),await Vd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await lp(n)}async function p9(t,e){const n=We(t);e?(n.Ea.delete(2),await lp(n)):e||(n.Ea.add(2),await Vd(n),n.Ra.set("Unknown"))}function Ic(t){return t.ma||(t.ma=(function(n,r,s){const o=We(n);return o.sa(),new Zz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Xo:i9.bind(null,t),t_:o9.bind(null,t),r_:a9.bind(null,t),H_:l9.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Lv(t)?Vv(t):t.Ra.set("Unknown")):(await t.ma.stop(),Y5(t))}))),t.ma}function Fo(t){return t.fa||(t.fa=(function(n,r,s){const o=We(n);return o.sa(),new e9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:d9.bind(null,t),r_:m9.bind(null,t),ta:h9.bind(null,t),na:f9.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await cp(t)):(await t.fa.stop(),t.Ta.length>0&&(be(za,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const c=Date.now()+r,u=new Bv(e,n,c,s,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zv(t,e){if(Ri("AsyncQueue",`${e}: ${t}`),Cc(t))return new xe(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{static emptySet(e){return new Zl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=Ou(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Zl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.ga=new Dt(Re.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Le(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class mc{constructor(e,n,r,s,o,c,u,h,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,s,o){const c=[];return n.forEach((u=>{c.push({type:0,doc:u})})),new mc(e,n,Zl.emptySet(n),c,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&np(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class y9{constructor(){this.queries=H2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=We(n),o=s.queries;s.queries=H2(),o.forEach(((c,u)=>{for(const h of u.Sa)h.onError(r)}))})(this,new xe(te.ABORTED,"Firestore shutting down"))}}function H2(){return new Ka((t=>y5(t)),np)}async function Z5(t,e){const n=We(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new g9,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const u=zv(c,`Initialization of query '${Ll(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Uv(n)}async function eS(t,e){const n=We(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function x9(t,e){const n=We(t);let r=!1;for(const s of e){const o=s.query,c=n.queries.get(o);if(c){for(const u of c.Sa)u.Fa(s)&&(r=!0);c.wa=s}}r&&Uv(n)}function v9(t,e,n){const r=We(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function Uv(t){t.Ca.forEach((e=>{e.next()}))}var Zx,$2;($2=Zx||(Zx={})).Ma="default",$2.Cache="cache";class tS{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new mc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=mc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.key=e}}class rS{constructor(e){this.key=e}}class w9{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=et(),this.mutatedKeys=et(),this.eu=x5(e),this.tu=new Zl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new U2,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,c=s,u=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,y)=>{const v=s.get(g),_=rp(this.query,y)?y:null,C=!!v&&this.mutatedKeys.has(v.key),E=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let N=!1;v&&_?v.data.isEqual(_.data)?C!==E&&(r.track({type:3,doc:_}),N=!0):this.su(v,_)||(r.track({type:2,doc:_}),N=!0,(h&&this.eu(_,h)>0||m&&this.eu(_,m)<0)&&(u=!0)):!v&&_?(r.track({type:0,doc:_}),N=!0):v&&!_&&(r.track({type:1,doc:v}),N=!0,(h||m)&&(u=!0)),N&&(_?(c=c.add(_),o=E?o.add(g):o.delete(g)):(c=c.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:c,iu:r,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((g,y)=>(function(_,C){const E=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Rt:N})}};return E(_)-E(C)})(g.type,y.type)||this.eu(g.doc,y.doc))),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,m=h!==this.Za;return this.Za=h,c.length!==0||m?{snapshot:new mc(this.query,e.tu,o,c,e.mutatedKeys,h===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new U2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=et(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new rS(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new nS(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=et();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return mc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hv="SyncEngine";class b9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _9{constructor(e){this.key=e,this.hu=!1}}class E9{constructor(e,n,r,s,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ka((u=>y5(u)),np),this.Iu=new Map,this.Eu=new Set,this.du=new Dt(Re.comparator),this.Au=new Map,this.Ru=new Rv,this.Vu={},this.mu=new Map,this.fu=fc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function N9(t,e,n=!0){const r=cS(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await sS(r,e,n,!0),s}async function A9(t,e){const n=cS(t);await sS(n,e,!0,!1)}async function sS(t,e,n,r){const s=await Wz(t.localStore,Ks(e)),o=s.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await T9(t,e,o,c==="current",s.resumeToken)),t.isPrimaryClient&&n&&q5(t.remoteStore,s),u}async function T9(t,e,n,r,s){t.pu=(y,v,_)=>(async function(E,N,j,O){let R=N.view.ru(j);R.Cs&&(R=await D2(E.localStore,N.query,!1).then((({documents:k})=>N.view.ru(k,R))));const z=O&&O.targetChanges.get(N.targetId),V=O&&O.targetMismatches.get(N.targetId)!=null,q=N.view.applyChanges(R,E.isPrimaryClient,z,V);return G2(E,N.targetId,q.au),q.snapshot})(t,y,v,_);const o=await D2(t.localStore,e,!0),c=new w9(e,o.Qs),u=c.ru(o.documents),h=Od.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),m=c.applyChanges(u,t.isPrimaryClient,h);G2(t,n,m.au);const g=new b9(e,n,c);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function C9(t,e,n){const r=We(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((c=>!np(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Jx(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Dv(r.remoteStore,s.targetId),e0(r,s.targetId)})).catch(Tc)):(e0(r,s.targetId),await Jx(r.localStore,s.targetId,!0))}async function S9(t,e){const n=We(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Dv(n.remoteStore,r.targetId))}async function I9(t,e,n){const r=D9(t);try{const s=await(function(c,u){const h=We(c),m=rt.now(),g=u.reduce(((_,C)=>_.add(C.key)),et());let y,v;return h.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let C=Pi(),E=et();return h.Ns.getEntries(_,g).next((N=>{C=N,C.forEach(((j,O)=>{O.isValidDocument()||(E=E.add(j))}))})).next((()=>h.localDocuments.getOverlayedDocuments(_,C))).next((N=>{y=N;const j=[];for(const O of u){const R=$8(O,y.get(O.key).overlayedDocument);R!=null&&j.push(new Go(O.key,R,c5(R.value.mapValue),$r.exists(!0)))}return h.mutationQueue.addMutationBatch(_,m,j,u)})).next((N=>{v=N;const j=N.applyToLocalDocumentSet(y,E);return h.documentOverlayCache.saveOverlays(_,N.batchId,j)}))})).then((()=>({batchId:v.batchId,changes:w5(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(c,u,h){let m=c.Vu[c.currentUser.toKey()];m||(m=new Dt(Ze)),m=m.insert(u,h),c.Vu[c.currentUser.toKey()]=m})(r,s.batchId,n),await Ld(r,s.changes),await cp(r.remoteStore)}catch(s){const o=zv(s,"Failed to persist write");n.reject(o)}}async function iS(t,e){const n=We(t);try{const r=await Uz(n.localStore,e);e.targetChanges.forEach(((s,o)=>{const c=n.Au.get(o);c&&(dt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?dt(c.hu,14607):s.removedDocuments.size>0&&(dt(c.hu,42227),c.hu=!1))})),await Ld(n,r,e)}catch(r){await Tc(r)}}function W2(t,e,n){const r=We(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((o,c)=>{const u=c.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(c,u){const h=We(c);h.onlineState=u;let m=!1;h.queries.forEach(((g,y)=>{for(const v of y.Sa)v.va(u)&&(m=!0)})),m&&Uv(h)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function j9(t,e,n){const r=We(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let c=new Dt(Re.comparator);c=c.insert(o,Fn.newNoDocument(o,He.min()));const u=et().add(o),h=new op(He.min(),new Map,new Dt(Ze),c,u);await iS(r,h),r.du=r.du.remove(o),r.Au.delete(e),$v(r)}else await Jx(r.localStore,e,!1).then((()=>e0(r,e,n))).catch(Tc)}async function k9(t,e){const n=We(t),r=e.batch.batchId;try{const s=await zz(n.localStore,e);aS(n,r,null),oS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ld(n,s)}catch(s){await Tc(s)}}async function R9(t,e,n){const r=We(t);try{const s=await(function(c,u){const h=We(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return h.mutationQueue.lookupMutationBatch(m,u).next((y=>(dt(y!==null,37113),g=y.keys(),h.mutationQueue.removeMutationBatch(m,y)))).next((()=>h.mutationQueue.performConsistencyCheck(m))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(m,g,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>h.localDocuments.getDocuments(m,g)))}))})(r.localStore,e);aS(r,e,n),oS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ld(r,s)}catch(s){await Tc(s)}}function oS(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function aS(t,e,n){const r=We(t);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function e0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||lS(t,r)}))}function lS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Dv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),$v(t))}function G2(t,e,n){for(const r of n)r instanceof nS?(t.Ru.addReference(r.key,e),P9(t,r)):r instanceof rS?(be(Hv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||lS(t,r.key)):Le(19791,{wu:r})}function P9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(be(Hv,"New document in limbo: "+n),t.Eu.add(r),$v(t))}function $v(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Re(xt.fromString(e)),r=t.fu.next();t.Au.set(r,new _9(n)),t.du=t.du.insert(n,r),q5(t.remoteStore,new wo(Ks(Tv(n.path)),r,"TargetPurposeLimboResolution",Zm.ce))}}async function Ld(t,e,n){const r=We(t),s=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,h)=>{c.push(r.pu(h,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const g=m?!m.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(m){s.push(m);const g=Mv.As(h.targetId,m);o.push(g)}})))})),await Promise.all(c),r.Pu.H_(s),await(async function(h,m){const g=We(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>ne.forEach(m,(v=>ne.forEach(v.Es,(_=>g.persistence.referenceDelegate.addReference(y,v.targetId,_))).next((()=>ne.forEach(v.ds,(_=>g.persistence.referenceDelegate.removeReference(y,v.targetId,_)))))))))}catch(y){if(!Cc(y))throw y;be(Fv,"Failed to update sequence numbers: "+y)}for(const y of m){const v=y.targetId;if(!y.fromCache){const _=g.Ms.get(v),C=_.snapshotVersion,E=_.withLastLimboFreeSnapshotVersion(C);g.Ms=g.Ms.insert(v,E)}}})(r.localStore,o))}async function M9(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){be(Hv,"User change. New user:",e.toKey());const r=await H5(n.localStore,e);n.currentUser=e,(function(o,c){o.mu.forEach((u=>{u.forEach((h=>{h.reject(new xe(te.CANCELLED,c))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ld(n,r.Ls)}}function F9(t,e){const n=We(t),r=n.Au.get(e);if(r&&r.hu)return et().add(r.key);{let s=et();const o=n.Iu.get(e);if(!o)return s;for(const c of o){const u=n.Tu.get(c);s=s.unionWith(u.view.nu)}return s}}function cS(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=F9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j9.bind(null,e),e.Pu.H_=x9.bind(null,e.eventManager),e.Pu.yu=v9.bind(null,e.eventManager),e}function D9(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=k9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R9.bind(null,e),e}class bm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ap(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Bz(this.persistence,new Oz,e.initialUser,this.serializer)}Cu(e){return new U5(Pv.mi,this.serializer)}Du(e){return new qz}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bm.provider={build:()=>new bm};class O9 extends bm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){dt(this.persistence.referenceDelegate instanceof vm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _z(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?rr.withCacheSize(this.cacheSizeBytes):rr.DEFAULT;return new U5((r=>vm.mi(r,n)),this.serializer)}}class t0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>W2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=M9.bind(null,this.syncEngine),await p9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new y9})()}createDatastore(e){const n=ap(e.databaseInfo.databaseId),r=(function(o){return new Qz(o)})(e.databaseInfo);return(function(o,c,u,h){return new n9(o,c,u,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,o,c,u){return new s9(r,s,o,c,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>W2(this.syncEngine,n,0)),(function(){return L2.v()?new L2:new Kz})())}createSyncEngine(e,n){return(function(s,o,c,u,h,m,g){const y=new E9(s,o,c,u,h,m);return g&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=We(n);be(za,"RemoteStore shutting down."),r.Ea.add(5),await Vd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}t0.provider={build:()=>new t0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="FirestoreClient";class V9{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Mn.UNAUTHENTICATED,this.clientId=wv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{be(Do,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(be(Do,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ly(t,e){t.asyncQueue.verifyOperationInProgress(),be(Do,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await H5(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function q2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await L9(t);be(Do,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>z2(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>z2(e.remoteStore,s))),t._onlineComponents=e}async function L9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be(Do,"Using user provided OfflineComponentProvider");try{await Ly(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===te.FAILED_PRECONDITION||s.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;cc("Error using user provided cache. Falling back to memory cache: "+n),await Ly(t,new bm)}}else be(Do,"Using default OfflineComponentProvider"),await Ly(t,new O9(void 0));return t._offlineComponents}async function dS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be(Do,"Using user provided OnlineComponentProvider"),await q2(t,t._uninitializedComponentsProvider._online)):(be(Do,"Using default OnlineComponentProvider"),await q2(t,new t0))),t._onlineComponents}function B9(t){return dS(t).then((e=>e.syncEngine))}async function hS(t){const e=await dS(t),n=e.eventManager;return n.onListen=N9.bind(null,e.syncEngine),n.onUnlisten=C9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=A9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=S9.bind(null,e.syncEngine),n}function z9(t,e,n={}){const r=new Ci;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,u,h,m){const g=new uS({next:v=>{g.Nu(),c.enqueueAndForget((()=>eS(o,y)));const _=v.docs.has(u);!_&&v.fromCache?m.reject(new xe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&h&&h.source==="server"?m.reject(new xe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(v)},error:v=>m.reject(v)}),y=new tS(Tv(u.path),g,{includeMetadataChanges:!0,qa:!0});return Z5(o,y)})(await hS(t),t.asyncQueue,e,n,r))),r.promise}function U9(t,e,n={}){const r=new Ci;return t.asyncQueue.enqueueAndForget((async()=>(function(o,c,u,h,m){const g=new uS({next:v=>{g.Nu(),c.enqueueAndForget((()=>eS(o,y))),v.fromCache&&h.source==="server"?m.reject(new xe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(v)},error:v=>m.reject(v)}),y=new tS(u,g,{includeMetadataChanges:!0,qa:!0});return Z5(o,y)})(await hS(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="firestore.googleapis.com",Y2=!0;class X2{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mS,this.ssl=Y2}else this.host=e.host,this.ssl=e.ssl??Y2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=z5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wz)throw new xe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}s8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new xe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new xe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new xe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class up{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new KB;switch(r.type){case"firstParty":return new QB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=K2.get(n);r&&(be("ComponentProvider","Removing Datastore"),K2.delete(n),r.terminate())})(this),Promise.resolve()}}function H9(t,e,n,r={}){t=ds(t,up);const s=Uo(e),o=t._getSettings(),c={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;s&&(sv(`https://${u}`),iv("Firestore",!0)),o.host!==mS&&o.host!==u&&cc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:u,ssl:s,emulatorOptions:r};if(!Da(h,c)&&(t._setSettings(h),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=Mn.MOCK_USER;else{m=iC(r.mockUserToken,t._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new xe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Mn(y)}t._authCredentials=new YB(new JC(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qo(this.firestore,e,this._query)}}class qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new To(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Fd(n,qt._jsonSchema))return new qt(e,r||null,new Re(xt.fromString(n.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:tn("string",qt._jsonSchemaVersion),referencePath:tn("string")};class To extends qo{constructor(e,n,r){super(e,n,Tv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new Re(e))}withConverter(e){return new To(this.firestore,e,this._path)}}function cr(t,e,...n){if(t=Ft(t),QC("collection","path",e),t instanceof up){const r=xt.fromString(e,...n);return c2(r),new To(t,null,r)}{if(!(t instanceof qt||t instanceof To))throw new xe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xt.fromString(e,...n));return c2(r),new To(t.firestore,null,r)}}function Tr(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=wv.newId()),QC("doc","path",e),t instanceof up){const r=xt.fromString(e,...n);return l2(r),new qt(t,null,new Re(r))}{if(!(t instanceof qt||t instanceof To))throw new xe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xt.fromString(e,...n));return l2(r),new qt(t.firestore,t instanceof To?t.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="AsyncQueue";class Q2{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new W5(this,"async_queue_retry"),this._c=()=>{const r=Vy();r&&be(J2,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Vy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ci;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Cc(e))throw e;be(J2,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ri("INTERNAL UNHANDLED ERROR: ",Z2(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Bv.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Le(47125,{Pc:Z2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Z2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Xa extends up{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Q2,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q2(e),this._firestoreClient=void 0,await e}}}function $9(t,e){const n=typeof t=="object"?t:lv(),r=typeof t=="string"?t:mm,s=Km(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=nC("firestore");o&&H9(s,...o)}return s}function Wv(t){if(t._terminated)throw new xe(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||W9(t),t._firestoreClient}function W9(t){const e=t._freezeSettings(),n=(function(s,o,c,u){return new g8(s,o,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,fS(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new V9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ur(Tn.fromBase64String(e))}catch(n){throw new xe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ur(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ur._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fd(e,Ur._jsonSchema))return Ur.fromBase64String(e.bytes)}}Ur._jsonSchemaVersion="firestore/bytes/1.0",Ur._jsonSchema={type:tn("string",Ur._jsonSchemaVersion),bytes:tn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xs._jsonSchemaVersion}}static fromJSON(e){if(Fd(e,Xs._jsonSchema))return new Xs(e.latitude,e.longitude)}}Xs._jsonSchemaVersion="firestore/geoPoint/1.0",Xs._jsonSchema={type:tn("string",Xs._jsonSchemaVersion),latitude:tn("number"),longitude:tn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Js._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fd(e,Js._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Js(e.vectorValues);throw new xe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Js._jsonSchemaVersion="firestore/vectorValue/1.0",Js._jsonSchema={type:tn("string",Js._jsonSchemaVersion),vectorValues:tn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9=/^__.*__$/;class q9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Go(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dd(e,this.data,n,this.fieldTransforms)}}class pS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Go(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ac:t})}}class Gv{constructor(e,n,r,s,o,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Gv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _m(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(gS(this.Ac)&&G9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class K9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ap(e)}Cc(e,n,r,s=!1){return new Gv({Ac:e,methodName:n,Dc:r,path:Nn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hp(t){const e=t._freezeSettings(),n=ap(t._databaseId);return new K9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yS(t,e,n,r,s,o={}){const c=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);Yv("Data must be an object, but it was:",c,r);const u=xS(r,c);let h,m;if(o.merge)h=new Nr(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const g=[];for(const y of o.mergeFields){const v=n0(e,y,n);if(!c.contains(v))throw new xe(te.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);wS(g,v)||g.push(v)}h=new Nr(g),m=c.fieldTransforms.filter((y=>h.covers(y.field)))}else h=null,m=c.fieldTransforms;return new q9(new or(u),h,m)}class fp extends Bd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fp}}class qv extends Bd{_toFieldTransform(e){return new S5(e.path,new gd)}isEqual(e){return e instanceof qv}}class Kv extends Bd{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new vd(e.serializer,E5(e.serializer,this.Fc));return new S5(e.path,n)}isEqual(e){return e instanceof Kv&&this.Fc===e.Fc}}function Y9(t,e,n,r){const s=t.Cc(1,e,n);Yv("Data must be an object, but it was:",s,r);const o=[],c=or.empty();Wo(r,((h,m)=>{const g=Xv(e,h,n);m=Ft(m);const y=s.yc(g);if(m instanceof fp)o.push(g);else{const v=zd(m,y);v!=null&&(o.push(g),c.set(g,v))}}));const u=new Nr(o);return new pS(c,u,s.fieldTransforms)}function X9(t,e,n,r,s,o){const c=t.Cc(1,e,n),u=[n0(e,r,n)],h=[s];if(o.length%2!=0)throw new xe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)u.push(n0(e,o[v])),h.push(o[v+1]);const m=[],g=or.empty();for(let v=u.length-1;v>=0;--v)if(!wS(m,u[v])){const _=u[v];let C=h[v];C=Ft(C);const E=c.yc(_);if(C instanceof fp)m.push(_);else{const N=zd(C,E);N!=null&&(m.push(_),g.set(_,N))}}const y=new Nr(m);return new pS(g,y,c.fieldTransforms)}function J9(t,e,n,r=!1){return zd(n,t.Cc(r?4:3,e))}function zd(t,e){if(vS(t=Ft(t)))return Yv("Unsupported field value:",e,t),xS(t,e);if(t instanceof Bd)return(function(r,s){if(!gS(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const o=[];let c=0;for(const u of r){let h=zd(u,s.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),c++}return{arrayValue:{values:o}}})(t,e)}return(function(r,s){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return E5(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=rt.fromDate(r);return{timestampValue:xm(s.serializer,o)}}if(r instanceof rt){const o=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xm(s.serializer,o)}}if(r instanceof Xs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ur)return{bytesValue:M5(s.serializer,r._byteString)};if(r instanceof qt){const o=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw s.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:kv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Js)return(function(c,u){return{mapValue:{fields:{[a5]:{stringValue:l5},[pm]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw u.Sc("VectorValues must only contain numeric values.");return Cv(u.serializer,m)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Qm(r)}`)})(t,e)}function xS(t,e){const n={};return t5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wo(t,((r,s)=>{const o=zd(s,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function vS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Xs||t instanceof Ur||t instanceof qt||t instanceof Bd||t instanceof Js)}function Yv(t,e,n){if(!vS(n)||!ZC(n)){const r=Qm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function n0(t,e,n){if((e=Ft(e))instanceof dp)return e._internalPath;if(typeof e=="string")return Xv(t,e);throw _m("Field path arguments must be of type string or ",t,!1,void 0,n)}const Q9=new RegExp("[~\\*/\\[\\]]");function Xv(t,e,n){if(e.search(Q9)>=0)throw _m(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dp(...e.split("."))._internalPath}catch{throw _m(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _m(t,e,n,r,s){const o=r&&!r.isEmpty(),c=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||c)&&(h+=" (found",o&&(h+=` in field ${r}`),c&&(h+=` in document ${s}`),h+=")"),new xe(te.INVALID_ARGUMENT,u+t+h)}function wS(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Z9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Z9 extends bS{data(){return super.data()}}function mp(t,e){return typeof e=="string"?Xv(t,e):e instanceof dp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jv{}class Qv extends Jv{}function si(t,e,...n){let r=[];e instanceof Jv&&r.push(e),r=r.concat(n),(function(o){const c=o.filter((h=>h instanceof Zv)).length,u=o.filter((h=>h instanceof pp)).length;if(c>1||c>0&&u>0)throw new xe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class pp extends Qv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new pp(e,n,r)}_apply(e){const n=this._parse(e);return ES(e._query,n),new qo(e.firestore,e.converter,Gx(e._query,n))}_parse(e){const n=hp(e.firestore);return(function(o,c,u,h,m,g,y){let v;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new xe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){tN(y,g);const C=[];for(const E of y)C.push(eN(h,o,E));v={arrayValue:{values:C}}}else v=eN(h,o,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||tN(y,g),v=J9(u,c,y,g==="in"||g==="not-in");return en.create(m,g,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ud(t,e,n){const r=e,s=mp("where",t);return pp._create(s,r,n)}class Zv extends Jv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Zv(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:hs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,o){let c=s;const u=o.getFlattenedFilters();for(const h of u)ES(c,h),c=Gx(c,h)})(e._query,n),new qo(e.firestore,e.converter,Gx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class e1 extends Qv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new e1(e,n)}_apply(e){const n=(function(s,o,c){if(s.startAt!==null)throw new xe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new xe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pd(o,c)})(e._query,this._field,this._direction);return new qo(e.firestore,e.converter,(function(s,o){const c=s.explicitOrderBy.concat([o]);return new Sc(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function Ja(t,e="asc"){const n=e,r=mp("orderBy",t);return e1._create(r,n)}class t1 extends Qv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t1(e,n,r)}_apply(e){return new qo(e.firestore,e.converter,ym(e._query,this._limit,this._limitType))}}function _S(t){return i8("limit",t),t1._create("limit",t,"F")}function eN(t,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new xe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!g5(e)&&n.indexOf("/")!==-1)throw new xe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(xt.fromString(n));if(!Re.isDocumentKey(r))throw new xe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return y2(t,new Re(r))}if(n instanceof qt)return y2(t,n._key);throw new xe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qm(n)}.`)}function tN(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ES(t,e){const n=(function(s,o){for(const c of s)for(const u of c.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new xe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tU{convertValue(e,n="none"){switch(Mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wo(e,((s,o)=>{r[s]=this.convertValue(o,n)})),r}convertVectorValue(e){const n=e.fields?.[pm].arrayValue?.values?.map((r=>Gt(r.doubleValue)));return new Js(n)}convertGeoPoint(e){return new Xs(Gt(e.latitude),Gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hd(e));default:return null}}convertTimestamp(e){const n=Ro(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xt.fromString(e);dt(B5(r),9688,{name:e});const s=new fd(r.get(1),r.get(3)),o=new Re(r.popFirst(5));return s.isEqual(n)||Ri(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Lu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ma extends bS{constructor(e,n,r,s,o,c){super(e,n,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ma._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ma._jsonSchema={type:tn("string",Ma._jsonSchemaVersion),bundleSource:tn("string","DocumentSnapshot"),bundleName:tn("string"),bundle:tn("string")};class Gf extends Ma{data(e={}){return super.data(e)}}class ec{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Lu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Gf(this._firestore,this._userDataWriter,r.key,r,new Lu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((u=>{const h=new Gf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Lu(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const h=new Gf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Lu(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,g=-1;return u.type!==0&&(m=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),g=c.indexOf(u.doc.key)),{type:nU(u.type),doc:h,oldIndex:m,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ec._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t){t=ds(t,qt);const e=ds(t.firestore,Xa);return z9(Wv(e),t._key).then((n=>rU(e,t,n)))}ec._jsonSchemaVersion="firestore/querySnapshot/1.0",ec._jsonSchema={type:tn("string",ec._jsonSchemaVersion),bundleSource:tn("string","QuerySnapshot"),bundleName:tn("string"),bundle:tn("string")};class AS extends tU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ur(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function gs(t){t=ds(t,qo);const e=ds(t.firestore,Xa),n=Wv(e),r=new AS(e);return eU(t._query),U9(n,t._query).then((s=>new ec(e,r,t,s)))}function r0(t,e,n){t=ds(t,qt);const r=ds(t.firestore,Xa),s=NS(t.converter,e);return xp(r,[yS(hp(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,$r.none())])}function n1(t,e,n,...r){t=ds(t,qt);const s=ds(t.firestore,Xa),o=hp(s);let c;return c=typeof(e=Ft(e))=="string"||e instanceof dp?X9(o,"updateDoc",t._key,e,n,r):Y9(o,"updateDoc",t._key,e),xp(s,[c.toMutation(t._key,$r.exists(!0))])}function gp(t){return xp(ds(t.firestore,Xa),[new Sv(t._key,$r.none())])}function yp(t,e){const n=ds(t.firestore,Xa),r=Tr(t),s=NS(t.converter,e);return xp(n,[yS(hp(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,$r.exists(!1))]).then((()=>r))}function xp(t,e){return(function(r,s){const o=new Ci;return r.asyncQueue.enqueueAndForget((async()=>I9(await B9(r),s,o))),o.promise})(Wv(t),e)}function rU(t,e,n){const r=n.docs.get(e._key),s=new AS(t);return new Ma(t,s,e._key,r,new Lu(n.hasPendingWrites,n.fromCache),e.converter)}function qf(){return new qv("serverTimestamp")}function sU(t){return new Kv("increment",t)}(function(e,n=!0){(function(s){Ac=s})(qa),Oa(new jo("firestore",((r,{instanceIdentifier:s,options:o})=>{const c=r.getProvider("app").getImmediate(),u=new Xa(new XB(r.getProvider("auth-internal")),new ZB(c,r.getProvider("app-check-internal")),(function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new xe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fd(m.options.projectId,g)})(c,s),c);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Gs(s2,i2,e),Gs(s2,i2,"esm2020")})();var iU="firebase",oU="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gs(iU,oU,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="firebasestorage.googleapis.com",CS="storageBucket",aU=120*1e3,lU=600*1e3,cU=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot extends ri{constructor(e,n,r=0){super(By(e),`Firebase Storage: ${n} (${By(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return By(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var At;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(At||(At={}));function By(t){return"storage/"+t}function r1(){const t="An unknown error occurred, please check the error payload for server response.";return new Ot(At.UNKNOWN,t)}function uU(t){return new Ot(At.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function dU(t){return new Ot(At.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function hU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ot(At.UNAUTHENTICATED,t)}function fU(){return new Ot(At.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function mU(t){return new Ot(At.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function SS(){return new Ot(At.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function IS(){return new Ot(At.CANCELED,"User canceled the upload/download.")}function pU(t){return new Ot(At.INVALID_URL,"Invalid URL '"+t+"'.")}function gU(t){return new Ot(At.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function yU(){return new Ot(At.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CS+"' property when initializing the app?")}function jS(){return new Ot(At.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xU(){return new Ot(At.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function vU(){return new Ot(At.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function wU(t){return new Ot(At.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function s0(t){return new Ot(At.INVALID_ARGUMENT,t)}function kS(){return new Ot(At.APP_DELETED,"The Firebase app was deleted.")}function bU(t){return new Ot(At.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ed(t,e){return new Ot(At.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Su(t){throw new Ot(At.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ar.makeFromUrl(e,n)}catch{return new Ar(e,"")}if(r.path==="")return r;throw gU(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const c="(/(.*))?$",u=new RegExp("^gs://"+s+c,"i"),h={bucket:1,path:3};function m(z){z.path_=decodeURIComponent(z.path)}const g="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",_=new RegExp(`^https?://${y}/${g}/b/${s}/o${v}`,"i"),C={bucket:1,path:3},E=n===TS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",j=new RegExp(`^https?://${E}/${s}/${N}`,"i"),R=[{regex:u,indices:h,postModify:o},{regex:_,indices:C,postModify:m},{regex:j,indices:{bucket:1,path:2},postModify:m}];for(let z=0;z<R.length;z++){const V=R[z],q=V.regex.exec(e);if(q){const k=q[V.indices.bucket];let S=q[V.indices.path];S||(S=""),r=new Ar(k,S),V.postModify(r);break}}if(r==null)throw pU(e);return r}}class _U{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(t,e,n){let r=1,s=null,o=null,c=!1,u=0;function h(){return u===2}let m=!1;function g(...N){m||(m=!0,e.apply(null,N))}function y(N){s=setTimeout(()=>{s=null,t(_,h())},N)}function v(){o&&clearTimeout(o)}function _(N,...j){if(m){v();return}if(N){v(),g.call(null,N,...j);return}if(h()||c){v(),g.call(null,N,...j);return}r<64&&(r*=2);let R;u===1?(u=2,R=0):R=(r+Math.random())*1e3,y(R)}let C=!1;function E(N){C||(C=!0,v(),!m&&(s!==null?(N||(u=2),clearTimeout(s),y(0)):N||(u=1)))}return y(0),o=setTimeout(()=>{c=!0,E(!0)},n),E}function NU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(t){return t!==void 0}function TU(t){return typeof t=="function"}function CU(t){return typeof t=="object"&&!Array.isArray(t)}function vp(t){return typeof t=="string"||t instanceof String}function nN(t){return s1()&&t instanceof Blob}function s1(){return typeof Blob<"u"}function rN(t,e,n,r){if(r<e)throw s0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw s0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function RS(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Fa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Fa||(Fa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n,r,s,o,c,u,h,m,g,y,v=!0,_=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=u,this.errorCallback_=h,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=y,this.retry=v,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,E)=>{this.resolve_=C,this.reject_=E,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new gf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=u=>{const h=u.loaded,m=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,m)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const u=o.getErrorCode()===Fa.NO_ERROR,h=o.getStatus();if(!u||PS(h,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Fa.ABORT;r(!1,new gf(!1,null,g));return}const m=this.successCodes_.indexOf(h)!==-1;r(!0,new gf(m,o))})},n=(r,s)=>{const o=this.resolve_,c=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());AU(h)?o(h):o()}catch(h){c(h)}else if(u!==null){const h=r1();h.serverResponse=u.getErrorText(),this.errorCallback_?c(this.errorCallback_(u,h)):c(h)}else if(s.canceled){const h=this.appDelete_?kS():IS();c(h)}else{const h=SS();c(h)}};this.canceled_?n(!1,new gf(!1,null,!0)):this.backoffId_=EU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&NU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function IU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function jU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function kU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function RU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function PU(t,e,n,r,s,o,c=!0,u=!1){const h=RS(t.urlParams),m=t.url+h,g=Object.assign({},t.headers);return kU(g,e),IU(g,n),jU(g,o),RU(g,r),new SU(m,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,c,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function FU(...t){const e=MU();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(s1())return new Blob(t);throw new Ot(At.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function DU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(t){if(typeof atob>"u")throw wU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zy{constructor(e,n){this.data=e,this.contentType=n||null}}function VU(t,e){switch(t){case Us.RAW:return new zy(MS(e));case Us.BASE64:case Us.BASE64URL:return new zy(FS(t,e));case Us.DATA_URL:return new zy(BU(e),zU(e))}throw r1()}function MS(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,c=t.charCodeAt(++n);r=65536|(o&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function LU(t){let e;try{e=decodeURIComponent(t)}catch{throw ed(Us.DATA_URL,"Malformed data URL.")}return MS(e)}function FS(t,e){switch(t){case Us.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw ed(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Us.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw ed(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=OU(e)}catch(s){throw s.message.includes("polyfill")?s:ed(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class DS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ed(Us.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=UU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function BU(t){const e=new DS(t);return e.base64?FS(Us.BASE64,e.rest):LU(e.rest)}function zU(t){return new DS(t).contentType}function UU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){let r=0,s="";nN(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(nN(this.data_)){const r=this.data_,s=DU(r,e,n);return s===null?null:new vo(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new vo(r,!0)}}static getBlob(...e){if(s1()){const n=e.map(r=>r instanceof vo?r.data_:r);return new vo(FU.apply(null,n))}else{const n=e.map(c=>vp(c)?VU(Us.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(c=>{for(let u=0;u<c.length;u++)s[o++]=c[u]}),new vo(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t){let e;try{e=JSON.parse(t)}catch{return null}return CU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function $U(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function VS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(t,e){return e}class Hn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||WU}}let yf=null;function GU(t){return!vp(t)||t.length<2?t:VS(t)}function LS(){if(yf)return yf;const t=[];t.push(new Hn("bucket")),t.push(new Hn("generation")),t.push(new Hn("metageneration")),t.push(new Hn("name","fullPath",!0));function e(o,c){return GU(c)}const n=new Hn("name");n.xform=e,t.push(n);function r(o,c){return c!==void 0?Number(c):c}const s=new Hn("size");return s.xform=r,t.push(s),t.push(new Hn("timeCreated")),t.push(new Hn("updated")),t.push(new Hn("md5Hash",null,!0)),t.push(new Hn("cacheControl",null,!0)),t.push(new Hn("contentDisposition",null,!0)),t.push(new Hn("contentEncoding",null,!0)),t.push(new Hn("contentLanguage",null,!0)),t.push(new Hn("contentType",null,!0)),t.push(new Hn("metadata","customMetadata",!0)),yf=t,yf}function qU(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new Ar(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function KU(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const c=n[o];r[c.local]=c.xform(r,e[c.server])}return qU(r,t),r}function BS(t,e,n){const r=OS(e);return r===null?null:KU(t,r,n)}function YU(t,e,n,r){const s=OS(e);if(s===null||!vp(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const c=encodeURIComponent;return o.split(",").map(m=>{const g=t.bucket,y=t.fullPath,v="/b/"+c(g)+"/o/"+c(y),_=Hd(v,n,r),C=RS({alt:"media",token:m});return _+C})[0]}function zS(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class jc{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t){if(!t)throw r1()}function i1(t,e){function n(r,s){const o=BS(t,s,e);return Si(o!==null),o}return n}function XU(t,e){function n(r,s){const o=BS(t,s,e);return Si(o!==null),YU(o,s,t.host,t._protocol)}return n}function $d(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=fU():s=hU():n.getStatus()===402?s=dU(t.bucket):n.getStatus()===403?s=mU(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function US(t){const e=$d(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=uU(t.path)),o.serverResponse=s.serverResponse,o}return n}function JU(t,e,n){const r=e.fullServerUrl(),s=Hd(r,t.host,t._protocol),o="GET",c=t.maxOperationRetryTime,u=new jc(s,o,i1(t,n),c);return u.errorHandler=US(e),u}function QU(t,e,n){const r=e.fullServerUrl(),s=Hd(r,t.host,t._protocol),o="GET",c=t.maxOperationRetryTime,u=new jc(s,o,XU(t,n),c);return u.errorHandler=US(e),u}function ZU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function HS(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=ZU(null,e)),r}function eH(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function u(){let R="";for(let z=0;z<2;z++)R=R+Math.random().toString().slice(2);return R}const h=u();c["Content-Type"]="multipart/related; boundary="+h;const m=HS(e,r,s),g=zS(m,n),y="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+h+`\r
Content-Type: `+m.contentType+`\r
\r
`,v=`\r
--`+h+"--",_=vo.getBlob(y,r,v);if(_===null)throw jS();const C={name:m.fullPath},E=Hd(o,t.host,t._protocol),N="POST",j=t.maxUploadRetryTime,O=new jc(E,N,i1(t,n),j);return O.urlParams=C,O.headers=c,O.body=_.uploadData(),O.errorHandler=$d(e),O}class Nm{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function o1(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Si(!1)}return Si(!!n&&(e||["active"]).indexOf(n)!==-1),n}function tH(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),c=HS(e,r,s),u={name:c.fullPath},h=Hd(o,t.host,t._protocol),m="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},y=zS(c,n),v=t.maxUploadRetryTime;function _(E){o1(E);let N;try{N=E.getResponseHeader("X-Goog-Upload-URL")}catch{Si(!1)}return Si(vp(N)),N}const C=new jc(h,m,_,v);return C.urlParams=u,C.headers=g,C.body=y,C.errorHandler=$d(e),C}function nH(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function o(m){const g=o1(m,["active","final"]);let y=null;try{y=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Si(!1)}y||Si(!1);const v=Number(y);return Si(!isNaN(v)),new Nm(v,r.size(),g==="final")}const c="POST",u=t.maxUploadRetryTime,h=new jc(n,c,o,u);return h.headers=s,h.errorHandler=$d(e),h}const sN=256*1024;function rH(t,e,n,r,s,o,c,u){const h=new Nm(0,0);if(c?(h.current=c.current,h.total=c.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw xU();const m=h.total-h.current;let g=m;s>0&&(g=Math.min(g,s));const y=h.current,v=y+g;let _="";g===0?_="finalize":m===g?_="upload, finalize":_="upload";const C={"X-Goog-Upload-Command":_,"X-Goog-Upload-Offset":`${h.current}`},E=r.slice(y,v);if(E===null)throw jS();function N(z,V){const q=o1(z,["active","final"]),k=h.current+g,S=r.size();let M;return q==="final"?M=i1(e,o)(z,V):M=null,new Nm(k,S,q==="final",M)}const j="POST",O=e.maxUploadRetryTime,R=new jc(n,j,N,O);return R.headers=C,R.body=E.uploadData(),R.progressCallback=u||null,R.errorHandler=$d(t),R}const sr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Uy(t){switch(t){case"running":case"pausing":case"canceling":return sr.RUNNING;case"paused":return sr.PAUSED;case"success":return sr.SUCCESS;case"canceled":return sr.CANCELED;case"error":return sr.ERROR;default:return sr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sH=class{constructor(e,n,r){if(TU(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class iH{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Fa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Fa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,o){if(this.sent_)throw Su("cannot .send() more than once");if(Uo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Su("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Su("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Su("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Su("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class oH extends iH{initXhr(){this.xhr_.responseType="text"}}function Ul(){return new oH}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=LS(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(At.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(PS(s.status,[]))if(o)s=SS();else{this.sleepTime=Math.max(this.sleepTime*2,cU),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(At.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,o)=>{this._resolve=s,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=tH(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Ul,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=nH(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(s,Ul,n,r);this._request=o,o.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=sN*this._chunkMultiplier,n=new Nm(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,o)=>{let c;try{c=rH(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(h){this._error=h,this._transition("error");return}const u=this._ref.storage._makeRequest(c,Ul,s,o,!1);this._request=u,u.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){sN*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=JU(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,Ul,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=eH(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Ul,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=IS(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Uy(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const o=new sH(n||void 0,r||void 0,s||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Uy(this._state)){case sr.SUCCESS:Ml(this._resolve.bind(null,this.snapshot))();break;case sr.CANCELED:case sr.ERROR:const n=this._reject;Ml(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Uy(this._state)){case sr.RUNNING:case sr.PAUSED:e.next&&Ml(e.next.bind(e,this.snapshot))();break;case sr.SUCCESS:e.complete&&Ml(e.complete.bind(e))();break;case sr.CANCELED:case sr.ERROR:e.error&&Ml(e.error.bind(e,this._error))();break;default:e.error&&Ml(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n){this._service=e,n instanceof Ar?this._location=n:this._location=Ar.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ua(e,n)}get root(){const e=new Ar(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VS(this._location.path)}get storage(){return this._service}get parent(){const e=HU(this._location.path);if(e===null)return null;const n=new Ar(this._location.bucket,e);return new Ua(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw bU(e)}}function lH(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new aH(t,new vo(e),n)}function cH(t){t._throwIfRoot("getDownloadURL");const e=QU(t.storage,t._location,LS());return t.storage.makeRequestWithTokens(e,Ul).then(n=>{if(n===null)throw vU();return n})}function uH(t,e){const n=$U(t._location.path,e),r=new Ar(t._location.bucket,n);return new Ua(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dH(t){return/^[A-Za-z]+:\/\//.test(t)}function hH(t,e){return new Ua(t,e)}function $S(t,e){if(t instanceof a1){const n=t;if(n._bucket==null)throw yU();const r=new Ua(n,n._bucket);return e!=null?$S(r,e):r}else return e!==void 0?uH(t,e):t}function fH(t,e){if(e&&dH(e)){if(t instanceof a1)return hH(t,e);throw s0("To use ref(service, url), the first argument must be a Storage instance.")}else return $S(t,e)}function iN(t,e){const n=e?.[CS];return n==null?null:Ar.makeFromBucketSpec(n,t)}function mH(t,e,n,r={}){t.host=`${e}:${n}`;const s=Uo(e);s&&(sv(`https://${t.host}/b`),iv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:iC(o,t.app.options.projectId))}class a1{constructor(e,n,r,s,o,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=TS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=aU,this._maxUploadRetryTime=lU,this._requests=new Set,s!=null?this._bucket=Ar.makeFromBucketSpec(s,this._host):this._bucket=iN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ar.makeFromBucketSpec(this._url,e):this._bucket=iN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ua(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new _U(kS());{const c=PU(e,this._appId,r,s,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const oN="@firebase/storage",aN="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="storage";function pH(t,e,n){return t=Ft(t),lH(t,e,n)}function gH(t){return t=Ft(t),cH(t)}function yH(t,e){return t=Ft(t),fH(t,e)}function xH(t=lv(),e){t=Ft(t);const r=Km(t,WS).getImmediate({identifier:e}),s=nC("storage");return s&&vH(r,...s),r}function vH(t,e,n,r={}){mH(t,e,n,r)}function wH(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new a1(n,r,s,e,qa)}function bH(){Oa(new jo(WS,wH,"PUBLIC").setMultipleInstances(!0)),Gs(oN,aN,""),Gs(oN,aN,"esm2020")}bH();const _H={apiKey:"AIzaSyDJxsjgMOy8vyBu-DZsohMKlLtP6NyRFS8",authDomain:"smokeville-restaurant-af2fa.firebaseapp.com",projectId:"smokeville-restaurant-af2fa",storageBucket:"smokeville-restaurant-af2fa.firebasestorage.app",messagingSenderId:"890057713085",appId:"1:890057713085:web:a0bb922e58742fef6bded4",measurementId:"G-JCV4SCCB4Q"},l1=lC(_H),Iu=GB(l1),vt=$9(l1),EH=xH(l1),GS=A.createContext(void 0);function ii(){const t=A.useContext(GS);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function NH({children:t}){const[e,n]=A.useState(null),[r,s]=A.useState(null),[o,c]=A.useState(!0);async function u(_,C,E,N){const j=await S6(Iu,_,C);await k6(j.user,{displayName:E});const O={uid:j.user.uid,email:j.user.email,displayName:E,phoneNumber:N||"",createdAt:new Date,orderHistory:[],reservations:[]};await r0(Tr(vt,"users",j.user.uid),O)}async function h(_,C){return I6(Iu,_,C)}async function m(){const _=new Ei,C=await tB(Iu,_),E=Tr(vt,"users",C.user.uid);if(!(await Em(E)).exists()){const j={uid:C.user.uid,email:C.user.email,displayName:C.user.displayName,phoneNumber:C.user.phoneNumber||"",createdAt:new Date,orderHistory:[],reservations:[]};await r0(E,j)}}async function g(){return F6(Iu)}async function y(_){const C=Tr(vt,"users",_),E=await Em(C);E.exists()&&s(E.data())}A.useEffect(()=>M6(Iu,async C=>{n(C),C?await y(C.uid):s(null),c(!1)}),[]);const v={currentUser:e,userData:r,loading:o,signup:u,login:h,loginWithGoogle:m,logout:g};return l.jsx(GS.Provider,{value:v,children:!o&&t})}const Hy=["iHnO8vOgbWUqvglNJioU5KMH6IB3"];function td(t){return console.log(" Admin Check:",{userId:t,adminUIDs:Hy,isAdmin:Hy.includes(t)}),Hy.includes(t)}async function qS(){try{const t=cr(vt,"orders"),e=si(t,Ja("createdAt","desc")),n=await gs(e),r=[];return n.forEach(s=>{r.push({id:s.id,...s.data(),createdAt:s.data().createdAt.toDate()})}),r}catch(t){throw console.error("Error getting all orders:",t),t}}async function AH(t,e){try{const n=Tr(vt,"orders",t);await n1(n,{status:e,updatedAt:rt.now()})}catch(n){throw console.error("Error updating order status:",n),n}}async function TH(t){try{const e=Tr(vt,"orders",t);await gp(e)}catch(e){throw console.error("Error deleting order:",e),e}}async function KS(){try{const t=cr(vt,"bookings"),e=si(t,Ja("date","desc")),n=await gs(e),r=[];return n.forEach(s=>{r.push({id:s.id,...s.data(),date:s.data().date.toDate(),createdAt:s.data().createdAt.toDate()})}),r}catch(t){throw console.error("Error getting all bookings:",t),t}}async function CH(t,e){try{const n=Tr(vt,"bookings",t);await n1(n,{status:e,updatedAt:rt.now()})}catch(n){throw console.error("Error updating booking status:",n),n}}async function SH(t){try{const e=Tr(vt,"bookings",t);await gp(e)}catch(e){throw console.error("Error deleting booking:",e),e}}async function YS(){try{const t=cr(vt,"reviews"),e=si(t,Ja("createdAt","desc")),n=await gs(e),r=[];return n.forEach(s=>{r.push({id:s.id,...s.data(),createdAt:s.data().createdAt.toDate()})}),r}catch(t){throw console.error("Error getting all reviews:",t),t}}async function IH(t){try{const e=Tr(vt,"reviews",t);await gp(e)}catch(e){throw console.error("Error deleting review:",e),e}}async function XS(){try{const t=cr(vt,"newsletter"),e=await gs(t),n=[];return e.forEach(r=>{n.push({id:r.id,...r.data(),subscribedAt:r.data().subscribedAt.toDate()})}),n.sort((r,s)=>s.subscribedAt.getTime()-r.subscribedAt.getTime())}catch(t){throw console.error("Error getting newsletter subscribers:",t),t}}async function jH(){try{const[t,e,n,r]=await Promise.all([qS(),KS(),YS(),XS()]),s=new Date;s.setHours(0,0,0,0);const o=t.filter(m=>m.createdAt>=s),c=o.reduce((m,g)=>m+g.total,0),u=t.reduce((m,g)=>m+g.total,0),h=n.length>0?n.reduce((m,g)=>m+g.overallRating,0)/n.length:0;return{totalOrders:t.length,pendingOrders:t.filter(m=>m.status==="pending").length,totalRevenue:u,totalBookings:e.length,pendingBookings:e.filter(m=>m.status==="pending").length,totalReviews:n.length,averageRating:Math.round(h*10)/10,newsletterSubscribers:r.length,todayOrders:o.length,todayRevenue:c}}catch(t){throw console.error("Error getting dashboard stats:",t),t}}function kH({currentPage:t,onNavigate:e}){const[n,r]=A.useState(!1),[s,o]=A.useState(!1),[c,u]=A.useState(!1),{itemCount:h}=Ec(),{currentUser:m}=ii();A.useEffect(()=>{m?console.log(" Current User:",{uid:m.uid,email:m.email,isAdmin:td(m.uid)}):console.log(" No user logged in")},[m]),A.useEffect(()=>{const y=()=>{o(window.scrollY>50)};return window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)},[]);const g=[{name:"Home",page:"home"},{name:"Menu",page:"menu",submenu:[{name:"Main Menu",page:"menu"},{name:"Drinks",page:"drinks"},{name:"Mogodu Monday",page:"mogodu"}]},{name:"Gallery",page:"gallery"},{name:"Events",page:"events"},{name:"Bookings",page:"bookings"},{name:"Contact",page:"contact"}];return l.jsxs(K.nav,{className:`sticky top-0 z-50 border-b border-[#CBA135]/20 transition-all duration-300 ${s?"bg-[#121212]/70 backdrop-blur-md":"bg-[#121212]/95 backdrop-blur-sm"}`,initial:{y:-100},animate:{y:0},transition:{duration:.5},children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-20",children:[l.jsxs("button",{onClick:()=>e("home"),className:"flex flex-col items-start py-1",children:[l.jsx("span",{className:"smokeville-logo text-[#CBA135] text-base sm:text-lg md:text-xl uppercase",children:"SMOKEVILLE"}),l.jsx("span",{className:"text-[#F5F5F5]/60 text-[9px] sm:text-[10px] tracking-widest mt-0.5",children:"GRILL-PIZZA-BEVES"})]}),l.jsx("div",{className:"hidden md:flex items-center space-x-8",children:g.map(y=>l.jsx("div",{className:"relative",children:y.submenu?l.jsxs("div",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[l.jsxs(K.button,{className:`relative transition-colors hover:text-[#CBA135] flex items-center gap-1 ${["menu","drinks","mogodu"].includes(t)?"text-[#CBA135]":"text-[#F5F5F5]"}`,whileHover:{y:-2},children:[y.name,l.jsx(v0,{className:"w-4 h-4"}),["menu","drinks","mogodu"].includes(t)&&l.jsx(K.div,{layoutId:"underline",className:"absolute -bottom-1 left-0 right-0 h-0.5 bg-[#CBA135]",initial:!1,transition:{duration:.3}})]}),l.jsx(ei,{children:c&&l.jsx(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute top-full left-0 mt-2 w-48 bg-[#1a1a1a] border border-[#CBA135]/20 rounded-lg overflow-hidden shadow-xl z-50",children:y.submenu.map(v=>l.jsx("button",{onClick:()=>{e(v.page),u(!1)},className:`block w-full text-left px-4 py-3 transition-colors hover:bg-[#CBA135]/20 ${t===v.page?"bg-[#CBA135]/10 text-[#CBA135]":"text-[#F5F5F5]"}`,children:v.name},v.page))})})]}):l.jsxs(K.button,{onClick:()=>e(y.page),className:`relative transition-colors hover:text-[#CBA135] ${t===y.page?"text-[#CBA135]":"text-[#F5F5F5]"}`,whileHover:{y:-2},children:[y.name,t===y.page&&l.jsx(K.div,{layoutId:"underline",className:"absolute -bottom-1 left-0 right-0 h-0.5 bg-[#CBA135]",initial:!1,transition:{duration:.3}})]})},y.page))}),l.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[l.jsxs("button",{onClick:()=>e("order"),className:"relative p-2 hover:text-[#CBA135] transition-colors",children:[l.jsx(Gn,{className:"w-5 h-5"}),h>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-[#CBA135] text-[#121212] rounded-full w-5 h-5 flex items-center justify-center text-xs font-semibold",children:h})]}),m?l.jsxs(l.Fragment,{children:[td(m.uid)&&l.jsxs("button",{onClick:()=>e("admin"),className:"flex items-center gap-2 p-2 hover:text-[#CBA135] transition-colors",title:"Admin Dashboard",children:[l.jsx(Kb,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden lg:inline text-sm",children:"Admin"})]}),l.jsxs("button",{onClick:()=>e("profile"),className:"flex items-center gap-2 p-2 hover:text-[#CBA135] transition-colors",children:[l.jsx(nd,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden lg:inline text-sm",children:"Profile"})]})]}):l.jsx(ze,{onClick:()=>e("login"),className:"bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212]",children:"Login"})]}),l.jsx("button",{onClick:()=>r(!n),className:"md:hidden p-2 text-[#F5F5F5]",children:n?l.jsx(rc,{className:"w-6 h-6"}):l.jsx(NP,{className:"w-6 h-6"})})]})}),l.jsx(ei,{children:n&&l.jsx(K.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"md:hidden bg-[#1a1a1a] border-t border-[#CBA135]/20 overflow-hidden",children:l.jsxs("div",{className:"px-4 py-4 space-y-3",children:[g.map((y,v)=>l.jsx("div",{children:y.submenu?l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-[#CBA135] py-2",children:y.name}),y.submenu.map((_,C)=>l.jsx(K.button,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:(v+C)*.05},onClick:()=>{e(_.page),r(!1)},className:`block w-full text-left py-2 pl-4 transition-colors ${t===_.page?"text-[#CBA135]":"text-[#F5F5F5]"}`,children:_.name},_.page))]}):l.jsx(K.button,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:v*.05},onClick:()=>{e(y.page),r(!1)},className:`block w-full text-left py-2 transition-colors ${t===y.page?"text-[#CBA135]":"text-[#F5F5F5]"}`,children:y.name})},y.page)),l.jsxs("div",{className:"pt-4 border-t border-[#CBA135]/20 space-y-3",children:[l.jsxs("button",{onClick:()=>{e("order"),r(!1)},className:"flex items-center space-x-2 text-[#F5F5F5]",children:[l.jsx(Gn,{className:"w-5 h-5"}),l.jsxs("span",{children:["Cart (",h,")"]})]}),m?l.jsxs(l.Fragment,{children:[td(m.uid)&&l.jsxs("button",{onClick:()=>{e("admin"),r(!1)},className:"flex items-center space-x-2 text-[#F5F5F5] w-full py-2",children:[l.jsx(Kb,{className:"w-5 h-5"}),l.jsx("span",{children:"Admin Dashboard"})]}),l.jsxs("button",{onClick:()=>{e("profile"),r(!1)},className:"flex items-center space-x-2 text-[#F5F5F5] w-full py-2",children:[l.jsx(nd,{className:"w-5 h-5"}),l.jsx("span",{children:"Profile"})]})]}):l.jsx(ze,{onClick:()=>{e("login"),r(!1)},className:"w-full bg-gradient-to-r from-[#CBA135] to-[#B36A2E] text-[#121212]",children:"Login"})]})]})})})]})}function wp({className:t,...e}){return l.jsx("textarea",{"data-slot":"textarea",className:gt("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function zt({className:t,type:e,...n}){return l.jsx("input",{type:e,"data-slot":"input",className:gt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var Wd=GN();const JS=WN(Wd);function RH(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const PH=t=>{switch(t){case"success":return DH;case"info":return VH;case"warning":return OH;case"error":return LH;default:return null}},MH=Array(12).fill(0),FH=({visible:t,className:e})=>fe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},fe.createElement("div",{className:"sonner-spinner"},MH.map((n,r)=>fe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),DH=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),OH=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),VH=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),LH=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),BH=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},fe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),fe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),zH=()=>{const[t,e]=fe.useState(document.hidden);return fe.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let i0=1;class UH{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...s}=e,o=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:i0++,c=this.toasts.find(h=>h.id===o),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),c?this.toasts=this.toasts.map(h=>h.id===o?(this.publish({...h,...e,id:o,title:r}),{...h,...e,id:o,dismissible:u,title:r}):h):this.addToast({title:r,...s,dismissible:u,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let o=r!==void 0,c;const u=s.then(async m=>{if(c=["resolve",m],fe.isValidElement(m))o=!1,this.create({id:r,type:"default",message:m});else if($H(m)&&!m.ok){o=!1;const y=typeof n.error=="function"?await n.error(`HTTP error! status: ${m.status}`):n.error,v=typeof n.description=="function"?await n.description(`HTTP error! status: ${m.status}`):n.description,C=typeof y=="object"&&!fe.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:v,...C})}else if(m instanceof Error){o=!1;const y=typeof n.error=="function"?await n.error(m):n.error,v=typeof n.description=="function"?await n.description(m):n.description,C=typeof y=="object"&&!fe.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:v,...C})}else if(n.success!==void 0){o=!1;const y=typeof n.success=="function"?await n.success(m):n.success,v=typeof n.description=="function"?await n.description(m):n.description,C=typeof y=="object"&&!fe.isValidElement(y)?y:{message:y};this.create({id:r,type:"success",description:v,...C})}}).catch(async m=>{if(c=["reject",m],n.error!==void 0){o=!1;const g=typeof n.error=="function"?await n.error(m):n.error,y=typeof n.description=="function"?await n.description(m):n.description,_=typeof g=="object"&&!fe.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:y,..._})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),h=()=>new Promise((m,g)=>u.then(()=>c[0]==="reject"?g(c[1]):m(c[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:h}:Object.assign(r,{unwrap:h})},this.custom=(e,n)=>{const r=n?.id||i0++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const tr=new UH,HH=(t,e)=>{const n=e?.id||i0++;return tr.addToast({title:t,...e,id:n}),n},$H=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",WH=HH,GH=()=>tr.toasts,qH=()=>tr.getActiveToasts(),Ee=Object.assign(WH,{success:tr.success,info:tr.info,warning:tr.warning,error:tr.error,custom:tr.custom,message:tr.message,promise:tr.promise,dismiss:tr.dismiss,loading:tr.loading},{getHistory:GH,getToasts:qH});RH("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function xf(t){return t.label!==void 0}const KH=3,YH="24px",XH="16px",lN=4e3,JH=356,QH=14,ZH=45,e7=200;function Vs(...t){return t.filter(Boolean).join(" ")}function t7(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const n7=t=>{var e,n,r,s,o,c,u,h,m;const{invert:g,toast:y,unstyled:v,interacting:_,setHeights:C,visibleToasts:E,heights:N,index:j,toasts:O,expanded:R,removeToast:z,defaultRichColors:V,closeButton:q,style:k,cancelButtonStyle:S,actionButtonStyle:M,className:B="",descriptionClassName:D="",duration:U,position:F,gap:ye,expandByDefault:Ce,classNames:re,icons:le,closeButtonAriaLabel:G="Close toast"}=t,[ce,se]=fe.useState(null),[$,ee]=fe.useState(null),[ue,me]=fe.useState(!1),[ve,Ie]=fe.useState(!1),[ie,pe]=fe.useState(!1),[ke,De]=fe.useState(!1),[Ge,Ye]=fe.useState(!1),[jt,ln]=fe.useState(0),[xs,ur]=fe.useState(0),yn=fe.useRef(y.duration||U||lN),Vi=fe.useRef(null),ct=fe.useRef(null),kt=j===0,dr=j+1<=E,nn=y.type,Sr=y.dismissible!==!1,Qa=y.className||"",vs=y.descriptionClassName||"",ws=fe.useMemo(()=>N.findIndex(Oe=>Oe.toastId===y.id)||0,[N,y.id]),Li=fe.useMemo(()=>{var Oe;return(Oe=y.closeButton)!=null?Oe:q},[y.closeButton,q]),Gr=fe.useMemo(()=>y.duration||U||lN,[y.duration,U]),Bi=fe.useRef(0),qn=fe.useRef(0),qr=fe.useRef(0),Kr=fe.useRef(null),[bs,zi]=F.split("-"),Ui=fe.useMemo(()=>N.reduce((Oe,ft,Ut)=>Ut>=ws?Oe:Oe+ft.height,0),[N,ws]),Kn=zH(),Hi=y.invert||g,Ir=nn==="loading";qn.current=fe.useMemo(()=>ws*ye+Ui,[ws,Ui]),fe.useEffect(()=>{yn.current=Gr},[Gr]),fe.useEffect(()=>{me(!0)},[]),fe.useEffect(()=>{const Oe=ct.current;if(Oe){const ft=Oe.getBoundingClientRect().height;return ur(ft),C(Ut=>[{toastId:y.id,height:ft,position:y.position},...Ut]),()=>C(Ut=>Ut.filter(cn=>cn.toastId!==y.id))}},[C,y.id]),fe.useLayoutEffect(()=>{if(!ue)return;const Oe=ct.current,ft=Oe.style.height;Oe.style.height="auto";const Ut=Oe.getBoundingClientRect().height;Oe.style.height=ft,ur(Ut),C(cn=>cn.find(Vt=>Vt.toastId===y.id)?cn.map(Vt=>Vt.toastId===y.id?{...Vt,height:Ut}:Vt):[{toastId:y.id,height:Ut,position:y.position},...cn])},[ue,y.title,y.description,C,y.id,y.jsx,y.action,y.cancel]);const Ln=fe.useCallback(()=>{Ie(!0),ln(qn.current),C(Oe=>Oe.filter(ft=>ft.toastId!==y.id)),setTimeout(()=>{z(y)},e7)},[y,z,C,qn]);fe.useEffect(()=>{if(y.promise&&nn==="loading"||y.duration===1/0||y.type==="loading")return;let Oe;return R||_||Kn?(()=>{if(qr.current<Bi.current){const cn=new Date().getTime()-Bi.current;yn.current=yn.current-cn}qr.current=new Date().getTime()})():(()=>{yn.current!==1/0&&(Bi.current=new Date().getTime(),Oe=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),Ln()},yn.current))})(),()=>clearTimeout(Oe)},[R,_,y,nn,Kn,Ln]),fe.useEffect(()=>{y.delete&&(Ln(),y.onDismiss==null||y.onDismiss.call(y,y))},[Ln,y.delete]);function Yr(){var Oe;if(le?.loading){var ft;return fe.createElement("div",{className:Vs(re?.loader,y==null||(ft=y.classNames)==null?void 0:ft.loader,"sonner-loader"),"data-visible":nn==="loading"},le.loading)}return fe.createElement(FH,{className:Vs(re?.loader,y==null||(Oe=y.classNames)==null?void 0:Oe.loader),visible:nn==="loading"})}const Xr=y.icon||le?.[nn]||PH(nn);var wt,$i;return fe.createElement("li",{tabIndex:0,ref:ct,className:Vs(B,Qa,re?.toast,y==null||(e=y.classNames)==null?void 0:e.toast,re?.default,re?.[nn],y==null||(n=y.classNames)==null?void 0:n[nn]),"data-sonner-toast":"","data-rich-colors":(wt=y.richColors)!=null?wt:V,"data-styled":!(y.jsx||y.unstyled||v),"data-mounted":ue,"data-promise":!!y.promise,"data-swiped":Ge,"data-removed":ve,"data-visible":dr,"data-y-position":bs,"data-x-position":zi,"data-index":j,"data-front":kt,"data-swiping":ie,"data-dismissible":Sr,"data-type":nn,"data-invert":Hi,"data-swipe-out":ke,"data-swipe-direction":$,"data-expanded":!!(R||Ce&&ue),"data-testid":y.testId,style:{"--index":j,"--toasts-before":j,"--z-index":O.length-j,"--offset":`${ve?jt:qn.current}px`,"--initial-height":Ce?"auto":`${xs}px`,...k,...y.style},onDragEnd:()=>{pe(!1),se(null),Kr.current=null},onPointerDown:Oe=>{Oe.button!==2&&(Ir||!Sr||(Vi.current=new Date,ln(qn.current),Oe.target.setPointerCapture(Oe.pointerId),Oe.target.tagName!=="BUTTON"&&(pe(!0),Kr.current={x:Oe.clientX,y:Oe.clientY})))},onPointerUp:()=>{var Oe,ft,Ut;if(ke||!Sr)return;Kr.current=null;const cn=Number(((Oe=ct.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Bn=Number(((ft=ct.current)==null?void 0:ft.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Vt=new Date().getTime()-((Ut=Vi.current)==null?void 0:Ut.getTime()),Kt=ce==="x"?cn:Bn,hr=Math.abs(Kt)/Vt;if(Math.abs(Kt)>=ZH||hr>.11){ln(qn.current),y.onDismiss==null||y.onDismiss.call(y,y),ee(ce==="x"?cn>0?"right":"left":Bn>0?"down":"up"),Ln(),De(!0);return}else{var Yt,Cn;(Yt=ct.current)==null||Yt.style.setProperty("--swipe-amount-x","0px"),(Cn=ct.current)==null||Cn.style.setProperty("--swipe-amount-y","0px")}Ye(!1),pe(!1),se(null)},onPointerMove:Oe=>{var ft,Ut,cn;if(!Kr.current||!Sr||((ft=window.getSelection())==null?void 0:ft.toString().length)>0)return;const Vt=Oe.clientY-Kr.current.y,Kt=Oe.clientX-Kr.current.x;var hr;const Yt=(hr=t.swipeDirections)!=null?hr:t7(F);!ce&&(Math.abs(Kt)>1||Math.abs(Vt)>1)&&se(Math.abs(Kt)>Math.abs(Vt)?"x":"y");let Cn={x:0,y:0};const jr=un=>1/(1.5+Math.abs(un)/20);if(ce==="y"){if(Yt.includes("top")||Yt.includes("bottom"))if(Yt.includes("top")&&Vt<0||Yt.includes("bottom")&&Vt>0)Cn.y=Vt;else{const un=Vt*jr(Vt);Cn.y=Math.abs(un)<Math.abs(Vt)?un:Vt}}else if(ce==="x"&&(Yt.includes("left")||Yt.includes("right")))if(Yt.includes("left")&&Kt<0||Yt.includes("right")&&Kt>0)Cn.x=Kt;else{const un=Kt*jr(Kt);Cn.x=Math.abs(un)<Math.abs(Kt)?un:Kt}(Math.abs(Cn.x)>0||Math.abs(Cn.y)>0)&&Ye(!0),(Ut=ct.current)==null||Ut.style.setProperty("--swipe-amount-x",`${Cn.x}px`),(cn=ct.current)==null||cn.style.setProperty("--swipe-amount-y",`${Cn.y}px`)}},Li&&!y.jsx&&nn!=="loading"?fe.createElement("button",{"aria-label":G,"data-disabled":Ir,"data-close-button":!0,onClick:Ir||!Sr?()=>{}:()=>{Ln(),y.onDismiss==null||y.onDismiss.call(y,y)},className:Vs(re?.closeButton,y==null||(r=y.classNames)==null?void 0:r.closeButton)},($i=le?.close)!=null?$i:BH):null,(nn||y.icon||y.promise)&&y.icon!==null&&(le?.[nn]!==null||y.icon)?fe.createElement("div",{"data-icon":"",className:Vs(re?.icon,y==null||(s=y.classNames)==null?void 0:s.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||Yr():null,y.type!=="loading"?Xr:null):null,fe.createElement("div",{"data-content":"",className:Vs(re?.content,y==null||(o=y.classNames)==null?void 0:o.content)},fe.createElement("div",{"data-title":"",className:Vs(re?.title,y==null||(c=y.classNames)==null?void 0:c.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?fe.createElement("div",{"data-description":"",className:Vs(D,vs,re?.description,y==null||(u=y.classNames)==null?void 0:u.description)},typeof y.description=="function"?y.description():y.description):null),fe.isValidElement(y.cancel)?y.cancel:y.cancel&&xf(y.cancel)?fe.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||S,onClick:Oe=>{xf(y.cancel)&&Sr&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,Oe),Ln())},className:Vs(re?.cancelButton,y==null||(h=y.classNames)==null?void 0:h.cancelButton)},y.cancel.label):null,fe.isValidElement(y.action)?y.action:y.action&&xf(y.action)?fe.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||M,onClick:Oe=>{xf(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,Oe),!Oe.defaultPrevented&&Ln())},className:Vs(re?.actionButton,y==null||(m=y.classNames)==null?void 0:m.actionButton)},y.action.label):null)};function cN(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function r7(t,e){const n={};return[t,e].forEach((r,s)=>{const o=s===1,c=o?"--mobile-offset":"--offset",u=o?XH:YH;function h(m){["top","right","bottom","left"].forEach(g=>{n[`${c}-${g}`]=typeof m=="number"?`${m}px`:m})}typeof r=="number"||typeof r=="string"?h(r):typeof r=="object"?["top","right","bottom","left"].forEach(m=>{r[m]===void 0?n[`${c}-${m}`]=u:n[`${c}-${m}`]=typeof r[m]=="number"?`${r[m]}px`:r[m]}):h(u)}),n}const s7=fe.forwardRef(function(e,n){const{id:r,invert:s,position:o="bottom-right",hotkey:c=["altKey","KeyT"],expand:u,closeButton:h,className:m,offset:g,mobileOffset:y,theme:v="light",richColors:_,duration:C,style:E,visibleToasts:N=KH,toastOptions:j,dir:O=cN(),gap:R=QH,icons:z,containerAriaLabel:V="Notifications"}=e,[q,k]=fe.useState([]),S=fe.useMemo(()=>r?q.filter(ue=>ue.toasterId===r):q.filter(ue=>!ue.toasterId),[q,r]),M=fe.useMemo(()=>Array.from(new Set([o].concat(S.filter(ue=>ue.position).map(ue=>ue.position)))),[S,o]),[B,D]=fe.useState([]),[U,F]=fe.useState(!1),[ye,Ce]=fe.useState(!1),[re,le]=fe.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=fe.useRef(null),ce=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),se=fe.useRef(null),$=fe.useRef(!1),ee=fe.useCallback(ue=>{k(me=>{var ve;return(ve=me.find(Ie=>Ie.id===ue.id))!=null&&ve.delete||tr.dismiss(ue.id),me.filter(({id:Ie})=>Ie!==ue.id)})},[]);return fe.useEffect(()=>tr.subscribe(ue=>{if(ue.dismiss){requestAnimationFrame(()=>{k(me=>me.map(ve=>ve.id===ue.id?{...ve,delete:!0}:ve))});return}setTimeout(()=>{JS.flushSync(()=>{k(me=>{const ve=me.findIndex(Ie=>Ie.id===ue.id);return ve!==-1?[...me.slice(0,ve),{...me[ve],...ue},...me.slice(ve+1)]:[ue,...me]})})})}),[q]),fe.useEffect(()=>{if(v!=="system"){le(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?le("dark"):le("light")),typeof window>"u")return;const ue=window.matchMedia("(prefers-color-scheme: dark)");try{ue.addEventListener("change",({matches:me})=>{le(me?"dark":"light")})}catch{ue.addListener(({matches:ve})=>{try{le(ve?"dark":"light")}catch(Ie){console.error(Ie)}})}},[v]),fe.useEffect(()=>{q.length<=1&&F(!1)},[q]),fe.useEffect(()=>{const ue=me=>{var ve;if(c.every(pe=>me[pe]||me.code===pe)){var ie;F(!0),(ie=G.current)==null||ie.focus()}me.code==="Escape"&&(document.activeElement===G.current||(ve=G.current)!=null&&ve.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",ue),()=>document.removeEventListener("keydown",ue)},[c]),fe.useEffect(()=>{if(G.current)return()=>{se.current&&(se.current.focus({preventScroll:!0}),se.current=null,$.current=!1)}},[G.current]),fe.createElement("section",{ref:n,"aria-label":`${V} ${ce}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((ue,me)=>{var ve;const[Ie,ie]=ue.split("-");return S.length?fe.createElement("ol",{key:ue,dir:O==="auto"?cN():O,tabIndex:-1,ref:G,className:m,"data-sonner-toaster":!0,"data-sonner-theme":re,"data-y-position":Ie,"data-x-position":ie,style:{"--front-toast-height":`${((ve=B[0])==null?void 0:ve.height)||0}px`,"--width":`${JH}px`,"--gap":`${R}px`,...E,...r7(g,y)},onBlur:pe=>{$.current&&!pe.currentTarget.contains(pe.relatedTarget)&&($.current=!1,se.current&&(se.current.focus({preventScroll:!0}),se.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||$.current||($.current=!0,se.current=pe.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{ye||F(!1)},onDragEnd:()=>F(!1),onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||Ce(!0)},onPointerUp:()=>Ce(!1)},S.filter(pe=>!pe.position&&me===0||pe.position===ue).map((pe,ke)=>{var De,Ge;return fe.createElement(n7,{key:pe.id,icons:z,index:ke,toast:pe,defaultRichColors:_,duration:(De=j?.duration)!=null?De:C,className:j?.className,descriptionClassName:j?.descriptionClassName,invert:s,visibleToasts:N,closeButton:(Ge=j?.closeButton)!=null?Ge:h,interacting:ye,position:ue,style:j?.style,unstyled:j?.unstyled,classNames:j?.classNames,cancelButtonStyle:j?.cancelButtonStyle,actionButtonStyle:j?.actionButtonStyle,closeButtonAriaLabel:j?.closeButtonAriaLabel,removeToast:ee,toasts:S.filter(Ye=>Ye.position==pe.position),heights:B.filter(Ye=>Ye.position==pe.position),setHeights:D,expandByDefault:u,gap:R,expanded:U,swipeDirections:e.swipeDirections})})):null}))});function i7(){const[t,e]=A.useState([{id:"1",name:"Thabo M.",date:"15 Jan 2025",comment:"Absolutely incredible experience! The smoked ribs were fall-off-the-bone tender, and the service was impeccable. The ambience really captures the essence of Soweto.",ratings:{service:5,food:5,ambience:5,value:4},likes:47},{id:"2",name:"Sarah K.",date:"10 Jan 2025",comment:"Best pizza in Soweto! The wood-fired crust is perfect. Great value for money and the staff is so friendly. Will definitely come back!",ratings:{service:4,food:5,ambience:4,value:5},likes:32},{id:"3",name:"Michael D.",date:"5 Jan 2025",comment:"The SMOKEVILLE platter is a must-try! Perfect for groups. Loved the live jazz night atmosphere.",ratings:{service:5,food:5,ambience:5,value:4},likes:28}]),[n,r]=A.useState(!1),[s,o]=A.useState({name:"",comment:"",ratings:{service:0,food:0,ambience:0,value:0}}),c=()=>t.length===0?0:t.reduce((C,E)=>{const N=(E.ratings.service+E.ratings.food+E.ratings.ambience+E.ratings.value)/4;return C+N},0)/t.length,u=_=>t.length===0?0:t.reduce((E,N)=>E+N.ratings[_],0)/t.length,h=_=>u(_)/5*100,m=_=>_>=90?{label:"Excellent",color:"text-green-500"}:_>=75?{label:"Great",color:"text-blue-500"}:_>=60?{label:"Good",color:"text-[#CBA135]"}:_>=40?{label:"Fair",color:"text-orange-500"}:{label:"Needs Improvement",color:"text-red-500"},g=_=>{if(_.preventDefault(),!s.name||!s.comment){Ee.error("Please fill in all fields");return}if(!Object.values(s.ratings).every(N=>N>0)){Ee.error("Please rate all categories");return}const E={id:Date.now().toString(),name:s.name,date:new Date().toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}),comment:s.comment,ratings:s.ratings,likes:0};e([E,...t]),o({name:"",comment:"",ratings:{service:0,food:0,ambience:0,value:0}}),r(!1),Ee.success("Thank you for your review!")},y=_=>{e(t.map(C=>C.id===_?{...C,likes:C.likes+1}:C))},v=c();return l.jsx("section",{className:"py-20 px-4 bg-[#0a0a0a]",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs(K.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[l.jsx("h2",{className:"text-4xl md:text-5xl mb-12 text-center text-[#CBA135]",children:"Reviews & Comments"}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[l.jsxs("div",{className:"bg-[#1a1a1a] rounded-2xl p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"text-6xl md:text-7xl mb-4 text-[#F5F5F5]",children:v.toFixed(2)}),l.jsx("div",{className:"flex items-center justify-center gap-1 mb-2",children:[...Array(5)].map((_,C)=>l.jsx(pt,{className:`w-8 h-8 ${C<Math.floor(v)?"fill-[#CBA135] text-[#CBA135]":"text-[#CBA135]/30"}`},C))}),l.jsxs("p",{className:"text-[#F5F5F5]/60",children:["(",t.length," Reviews)"]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-xl text-[#F5F5F5] mb-4",children:"Top Reviews"}),t.slice(0,2).map(_=>l.jsxs(K.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"bg-[#121212] rounded-lg p-4 border border-[#CBA135]/20",children:[l.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-[#CBA135]/20 flex items-center justify-center flex-shrink-0",children:l.jsx(nd,{className:"w-5 h-5 text-[#CBA135]"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("h4",{className:"text-[#F5F5F5]",children:_.name}),l.jsx("span",{className:"text-xs text-[#F5F5F5]/40",children:_.date})]}),l.jsx("div",{className:"flex items-center gap-1 mb-2",children:[...Array(5)].map((C,E)=>{const N=(_.ratings.service+_.ratings.food+_.ratings.ambience+_.ratings.value)/4;return l.jsx(pt,{className:`w-3 h-3 ${E<Math.floor(N)?"fill-[#CBA135] text-[#CBA135]":"text-[#CBA135]/30"}`},E)})})]})]}),l.jsx("p",{className:"text-[#F5F5F5]/70 text-sm mb-3",children:_.comment}),l.jsxs("button",{onClick:()=>y(_.id),className:"flex items-center gap-2 text-[#CBA135] hover:text-[#B36A2E] transition-colors",children:[l.jsx(Yb,{className:"w-4 h-4"}),l.jsxs("span",{className:"text-sm",children:[_.likes," Liked"]})]})]},_.id))]})]}),l.jsxs("div",{className:"bg-[#1a1a1a] rounded-2xl p-8",children:[l.jsx("h3",{className:"text-2xl text-[#F5F5F5] mb-6",children:"Rating Breakdown"}),l.jsx("div",{className:"space-y-6",children:["service","food","ambience","value"].map(_=>{const C=h(_),{label:E,color:N}=m(C),j=u(_);return l.jsxs(K.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"text-[#F5F5F5] capitalize",children:_}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-sm text-[#F5F5F5]/60",children:[j.toFixed(1),"/5.0"]}),l.jsx("span",{className:`text-sm ${N}`,children:E})]})]}),l.jsx("div",{className:"relative h-3 bg-[#121212] rounded-full overflow-hidden",children:l.jsx(K.div,{initial:{width:0},whileInView:{width:`${C}%`},viewport:{once:!0},transition:{duration:1,delay:.2},className:"absolute inset-y-0 left-0 bg-gradient-to-r from-[#CBA135] to-[#B36A2E] rounded-full"})}),l.jsx("div",{className:"flex items-center justify-between text-xs",children:l.jsxs("span",{className:"text-[#F5F5F5]/40",children:[C.toFixed(0),"%"]})})]},_)})})]})]}),n?l.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-[#1a1a1a] rounded-2xl p-8",children:[l.jsx("h3",{className:"text-2xl text-[#F5F5F5] mb-6",children:"Share Your Experience"}),l.jsxs("form",{onSubmit:g,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[#F5F5F5] mb-2",children:"Your Name"}),l.jsx(zt,{value:s.name,onChange:_=>o({...s,name:_.target.value}),placeholder:"Enter your name",className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5]"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["service","food","ambience","value"].map(_=>l.jsxs("div",{children:[l.jsxs("label",{className:"block text-[#F5F5F5] mb-2 capitalize",children:["Rate our ",_]}),l.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(C=>l.jsx("button",{type:"button",onClick:()=>o({...s,ratings:{...s.ratings,[_]:C}}),className:"transition-transform hover:scale-110",children:l.jsx(pt,{className:`w-8 h-8 ${C<=s.ratings[_]?"fill-[#CBA135] text-[#CBA135]":"text-[#CBA135]/30"}`})},C))})]},_))}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[#F5F5F5] mb-2",children:"Your Review"}),l.jsx(wp,{value:s.comment,onChange:_=>o({...s,comment:_.target.value}),placeholder:"Tell us about your experience at SMOKEVILLE...",rows:4,className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5] resize-none"})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx(ze,{type:"submit",className:"flex-1 bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212]",children:"Submit Review"}),l.jsx(ze,{type:"button",onClick:()=>r(!1),variant:"outline",className:"border-[#CBA135]/30 text-[#F5F5F5] hover:bg-[#CBA135]/10",children:"Cancel"})]})]})]}):l.jsx("div",{className:"text-center",children:l.jsx(ze,{onClick:()=>r(!0),className:"bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212] text-lg px-8 py-6",children:"Write a Review"})}),l.jsxs("div",{className:"mt-12",children:[l.jsx("h3",{className:"text-2xl text-[#F5F5F5] mb-6",children:"All Reviews"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map((_,C)=>l.jsxs(K.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:C*.1},className:"bg-[#1a1a1a] rounded-2xl p-6 border border-[#CBA135]/20",children:[l.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-[#CBA135]/20 flex items-center justify-center flex-shrink-0",children:l.jsx(nd,{className:"w-6 h-6 text-[#CBA135]"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("h4",{className:"text-lg text-[#F5F5F5]",children:_.name}),l.jsx("span",{className:"text-sm text-[#F5F5F5]/40",children:_.date})]}),l.jsx("div",{className:"flex items-center gap-1 mb-2",children:[...Array(5)].map((E,N)=>{const j=(_.ratings.service+_.ratings.food+_.ratings.ambience+_.ratings.value)/4;return l.jsx(pt,{className:`w-4 h-4 ${N<Math.floor(j)?"fill-[#CBA135] text-[#CBA135]":"text-[#CBA135]/30"}`},N)})})]})]}),l.jsx("p",{className:"text-[#F5F5F5]/80 mb-4",children:_.comment}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4 text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-[#121212] rounded-lg",children:[l.jsx("span",{className:"text-[#F5F5F5]/60",children:"Service:"}),l.jsx("div",{className:"flex items-center gap-1",children:[...Array(_.ratings.service)].map((E,N)=>l.jsx(pt,{className:"w-3 h-3 fill-[#CBA135] text-[#CBA135]"},N))})]}),l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-[#121212] rounded-lg",children:[l.jsx("span",{className:"text-[#F5F5F5]/60",children:"Food:"}),l.jsx("div",{className:"flex items-center gap-1",children:[...Array(_.ratings.food)].map((E,N)=>l.jsx(pt,{className:"w-3 h-3 fill-[#CBA135] text-[#CBA135]"},N))})]}),l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-[#121212] rounded-lg",children:[l.jsx("span",{className:"text-[#F5F5F5]/60",children:"Ambience:"}),l.jsx("div",{className:"flex items-center gap-1",children:[...Array(_.ratings.ambience)].map((E,N)=>l.jsx(pt,{className:"w-3 h-3 fill-[#CBA135] text-[#CBA135]"},N))})]}),l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-[#121212] rounded-lg",children:[l.jsx("span",{className:"text-[#F5F5F5]/60",children:"Value:"}),l.jsx("div",{className:"flex items-center gap-1",children:[...Array(_.ratings.value)].map((E,N)=>l.jsx(pt,{className:"w-3 h-3 fill-[#CBA135] text-[#CBA135]"},N))})]})]}),l.jsxs("button",{onClick:()=>y(_.id),className:"flex items-center gap-2 text-[#CBA135] hover:text-[#B36A2E] transition-colors",children:[l.jsx(Yb,{className:"w-4 h-4"}),l.jsxs("span",{className:"text-sm",children:[_.likes," Liked"]})]})]},_.id))})]})]})})})}async function o7(t,e){try{const n=cr(vt,"newsletter"),r=si(n,Ud("email","==",t));if(!(await gs(r)).empty)throw new Error("This email is already subscribed to our newsletter");return(await yp(n,{email:t,name:e||"",subscribedAt:rt.now(),isActive:!0,preferences:{deals:!0,events:!0,news:!0}})).id}catch(n){throw console.error("Error subscribing to newsletter:",n),n}}function a7({onNavigate:t}){const[e,n]=A.useState(""),[r,s]=A.useState(!1),o=async c=>{if(c.preventDefault(),!e){Ee.error("Please enter your email address");return}s(!0);try{await o7(e),Ee.success("Successfully subscribed to our newsletter!"),n("")}catch(u){u.message.includes("already subscribed")?Ee.error("This email is already subscribed"):Ee.error("Failed to subscribe. Please try again.")}finally{s(!1)}};return l.jsxs("footer",{className:"border-t border-[#CBA135]/20 mt-20",children:[l.jsx(i7,{}),l.jsx("div",{className:"bg-[#0a0a0a]",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("span",{className:"smokeville-logo text-[#CBA135] text-xl uppercase",children:"SMOKEVILLE"}),l.jsx("p",{className:"text-[#F5F5F5]/60 text-sm mt-2 tracking-wider",children:"GRILL-PIZZA-BEVES"})]}),l.jsxs("p",{className:"text-[#F5F5F5]/60 text-sm",children:["Made with Passion by ",l.jsx("span",{className:"smokeville-logo text-base",children:"SMOKEVILLE"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-[#CBA135] mb-4",children:"Quick Links"}),l.jsx("div",{className:"space-y-2",children:["Home","Menu","Order","Events"].map(c=>l.jsx("button",{onClick:()=>t(c.toLowerCase()),className:"block text-[#F5F5F5]/80 hover:text-[#CBA135] transition-colors text-sm",children:c},c))})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-[#CBA135] mb-4",children:"More"}),l.jsx("div",{className:"space-y-2",children:["Bookings","Contact","Careers","About"].map(c=>l.jsx("button",{onClick:()=>t(c.toLowerCase()),className:"block text-[#F5F5F5]/80 hover:text-[#CBA135] transition-colors text-sm",children:c},c))})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-[#CBA135] mb-4",children:"Visit Us"}),l.jsxs("p",{className:"text-[#F5F5F5]/80 text-sm mb-4",children:["881 Motlana St",l.jsx("br",{}),"Orlando West, Soweto",l.jsx("br",{}),"1804, South Africa"]}),l.jsx("p",{className:"text-[#F5F5F5]/80 text-sm mb-4",children:"011 982 1001"}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("a",{href:"https://www.instagram.com/smoke_ville_?igsh=MTk4Y2ZkYjYzMTE4aQ==",target:"_blank",rel:"noopener noreferrer",className:"text-[#F5F5F5] hover:text-[#CBA135] transition-colors",children:l.jsx(pP,{className:"w-5 h-5"})}),l.jsx("a",{href:"https://www.facebook.com/share/1BXp564USf/?mibextid=wwXIfr",target:"_blank",rel:"noopener noreferrer",className:"text-[#F5F5F5] hover:text-[#CBA135] transition-colors",children:l.jsx(lP,{className:"w-5 h-5"})})]})]})]}),l.jsx("div",{className:"mt-12 pt-8 border-t border-[#CBA135]/20",children:l.jsxs("div",{className:"max-w-md mx-auto text-center",children:[l.jsx(Qf,{className:"w-12 h-12 text-[#CBA135] mx-auto mb-4"}),l.jsx("h4",{className:"text-xl text-[#F5F5F5] mb-2",children:"Join Our Newsletter"}),l.jsx("p",{className:"text-[#F5F5F5]/60 text-sm mb-6",children:"Get exclusive deals, event updates, and special offers delivered to your inbox"}),l.jsxs("form",{onSubmit:o,className:"flex gap-2",children:[l.jsx(zt,{type:"email",value:e,onChange:c=>n(c.target.value),placeholder:"your@email.com",disabled:r,className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5] placeholder:text-[#F5F5F5]/40"}),l.jsx(ze,{type:"submit",disabled:r,className:"bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212] whitespace-nowrap",children:r?"Subscribing...":"Subscribe"})]})]})}),l.jsxs("div",{className:"border-t border-[#CBA135]/20 mt-8 pt-8 text-center text-[#F5F5F5]/60 text-sm",children:[" ",new Date().getFullYear()," ",l.jsx("span",{className:"smokeville-logo",children:"SMOKEVILLE"}),". All rights reserved."]})]})})]})}function l7(){const[t,e]=A.useState(!1);A.useEffect(()=>{const r=()=>{const s=window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100;e(s>60)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return l.jsx(ei,{children:t&&l.jsx(K.button,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:100,opacity:0},transition:{duration:.3},onClick:n,className:"fixed bottom-8 right-8 z-50 bg-gradient-to-r from-[#CBA135] to-[#B36A2E] text-[#121212] p-4 rounded-full shadow-2xl hover:shadow-[0_0_30px_rgba(203,161,53,0.6)] transition-all hover:scale-110 active:scale-95",whileHover:{y:-5},whileTap:{scale:.95},children:l.jsx(kR,{className:"w-6 h-6"})})})}function c7(){const[t,e]=A.useState(!1),[n,r]=A.useState(!1),s=Io(-100),o=Io(-100),c={damping:25,stiffness:700},u=ac(s,c),h=ac(o,c);return A.useEffect(()=>{const m=_=>{s.set(_.clientX),o.set(_.clientY),t||e(!0)},g=()=>e(!0),y=()=>e(!1),v=_=>{_.target.closest(".magnetic")?r(!0):r(!1)};return window.addEventListener("mousemove",m),window.addEventListener("mouseenter",g),window.addEventListener("mouseleave",y),window.addEventListener("mouseover",v),()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseenter",g),window.removeEventListener("mouseleave",y),window.removeEventListener("mouseover",v)}},[s,o,t]),l.jsxs(l.Fragment,{children:[l.jsx(K.div,{className:"fixed top-0 left-0 pointer-events-none z-[9999] mix-blend-difference",style:{x:u,y:h},children:l.jsxs(K.div,{className:"relative -translate-x-1/2 -translate-y-1/2",animate:{scale:n?1.5:1},transition:{duration:.2},children:[l.jsx(K.div,{className:"w-8 h-8 border-2 border-[#CBA135] rounded-full",animate:{opacity:t?.6:0},transition:{duration:.2}}),l.jsx(K.div,{className:"absolute top-1/2 left-1/2 w-1 h-1 bg-[#CBA135] rounded-full -translate-x-1/2 -translate-y-1/2",animate:{opacity:t?1:0,scale:n?0:1},transition:{duration:.2}})]})}),l.jsx(K.div,{className:"fixed top-0 left-0 pointer-events-none z-[9998] mix-blend-difference",style:{x:u,y:h},children:l.jsx(K.div,{className:"relative -translate-x-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-[#CBA135]",animate:{opacity:t?n?.1:.05:0,scale:n?2:1.5},transition:{duration:.3}})})]})}const u7="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function Dn(t){const[e,n]=A.useState(!1),r=()=>{n(!0)},{src:s,alt:o,style:c,className:u,...h}=t;return e?l.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${u??""}`,style:c,children:l.jsx("div",{className:"flex items-center justify-center w-full h-full",children:l.jsx("img",{src:u7,alt:"Error loading image",...h,"data-original-url":s})})}):l.jsx("img",{src:s,alt:o,className:u,style:c,...h,onError:r})}function Am({children:t,onClick:e,className:n="",variant:r="primary",size:s="md"}){const o={primary:{bg:"#CBA135",text:"#121212",glow:"rgba(203, 161, 53, 0.5)"},secondary:{bg:"#8B7355",text:"#F5F5F5",glow:"rgba(139, 115, 85, 0.5)"},success:{bg:"#10B981",text:"#121212",glow:"rgba(16, 185, 129, 0.5)"}},c={sm:"px-4 py-2 text-sm",md:"px-6 py-3",lg:"px-8 py-4 text-lg"},u=o[r];return l.jsxs(K.button,{onClick:e,className:`relative overflow-hidden rounded-full ${c[s]} ${n}`,style:{background:u.bg,color:u.text},whileHover:"hover",whileTap:"tap",initial:"initial",children:[l.jsx(K.div,{className:"absolute rounded-full",style:{width:"150%",height:"150%",background:`radial-gradient(circle, ${u.glow} 0%, transparent 70%)`},variants:{initial:{top:"-100%",left:"-25%"},hover:{top:"-50%",left:"-25%"}},transition:{duration:.6,ease:[.43,.13,.23,.96]}}),l.jsx(K.div,{className:"absolute rounded-full",style:{width:"120%",height:"120%",background:`radial-gradient(circle, ${u.glow} 0%, transparent 70%)`},variants:{initial:{bottom:"-100%",right:"-20%"},hover:{bottom:"-40%",right:"-20%"}},transition:{duration:.8,ease:[.43,.13,.23,.96],delay:.1}}),l.jsx(K.div,{className:"absolute rounded-full",style:{width:"100%",height:"100%",background:"radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%)"},variants:{initial:{top:"50%",left:"-50%",opacity:0},hover:{top:"50%",left:"0%",opacity:1}},transition:{duration:.5,ease:"easeOut"}}),l.jsx(K.div,{className:"absolute inset-0 rounded-full",style:{border:`2px solid ${u.bg}`,opacity:0},variants:{tap:{scale:[1,1.5],opacity:[.5,0]}},transition:{duration:.6}}),l.jsx(K.div,{className:"absolute inset-0",style:{background:"linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.3) 50%, transparent 100%)"},variants:{initial:{x:"-100%"},hover:{x:"100%"}},transition:{duration:.8,ease:"easeInOut"}}),l.jsx(K.span,{className:"relative z-10 flex items-center justify-center gap-2",variants:{hover:{scale:1.05},tap:{scale:.95}},children:t})]})}function uN({children:t,className:e="",onClick:n,strength:r=.3}){const s=A.useRef(null),o=Io(0),c=Io(0),u=ac(o,{stiffness:150,damping:15}),h=ac(c,{stiffness:150,damping:15}),m=y=>{if(!s.current)return;const v=s.current.getBoundingClientRect(),_=v.left+v.width/2,C=v.top+v.height/2,E=y.clientX-_,N=y.clientY-C;o.set(E*r),c.set(N*r)},g=()=>{o.set(0),c.set(0)};return l.jsx(K.button,{ref:s,onMouseMove:m,onMouseLeave:g,onClick:n,style:{x:u,y:h},className:e,whileTap:{scale:.95},children:t})}function dN({onNavigate:t}){const[e,n]=A.useState(0),[r,s]=A.useState({x:0,y:0}),o=A.useRef(null),{scrollYProgress:c}=$O();Ca(c,[0,1],[0,-100]);const u=[{name:"Signature Lentil Stew",image:"https://images.unsplash.com/photo-1711915408847-ae32b80a3fd0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxsZW50aWwlMjBzdGV3JTIwYm93bHxlbnwxfHx8fDE3NjA3MDA0MTB8MA&ixlib=rb-4.1.0&q=80&w=1080",description:"Slow-cooked with smoky spices"},{name:"Grilled Ribs",image:"https://images.unsplash.com/photo-1594266063697-304befca9629?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxncmlsbGVkJTIwcmlicyUyMHNtb2tlfGVufDF8fHx8MTc2MDcwMDQwOXww&ixlib=rb-4.1.0&q=80&w=1080",description:"Fall-off-the-bone perfection"},{name:"Wood-Fired Pizza",image:"https://images.unsplash.com/photo-1689010039458-c605ea68c0b3?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxnb3VybWV0JTIwcGl6emElMjB3b29kJTIwZmlyZXxlbnwxfHx8fDE3NjA3MDA0MDh8MA&ixlib=rb-4.1.0&q=80&w=1080",description:"Authentic Italian style"},{name:"Smokehouse Burger",image:"https://images.unsplash.com/photo-1554306297-0c86e837d24b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxidXJnZXIlMjBncmlsbHxlbnwxfHx8fDE3NjA3MDA0MTB8MA&ixlib=rb-4.1.0&q=80&w=1080",description:"Premium beef, house sauce"}],h=[{title:"Live Jazz Night",image:"https://images.unsplash.com/photo-1693948923846-39cf292b698d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxsaXZlJTIwbXVzaWMlMjByZXN0YXVyYW50fGVufDF8fHx8MTc2MDcwMDQxMXww&ixlib=rb-4.1.0&q=80&w=1080",date:"Every Friday"},{title:"Wine Tasting",image:"https://images.unsplash.com/photo-1620818309871-6255570324d5?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjb2NrdGFpbCUyMGJhciUyMGRhcmt8ZW58MXx8fHwxNzYwNzAwNDA5fDA&ixlib=rb-4.1.0&q=80&w=1080",date:"Monthly"},{title:"Chef's Table",image:"https://images.unsplash.com/photo-1670819916552-67698b1c86ae?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjaGVmJTIwY29va2luZyUyMGZpcmV8ZW58MXx8fHwxNzYwNzAwNDEwfDA&ixlib=rb-4.1.0&q=80&w=1080",date:"By Reservation"}],m=()=>{n(v=>(v+1)%u.length)},g=()=>{n(v=>(v-1+u.length)%u.length)};A.useEffect(()=>{const v=_=>{s({x:_.clientX,y:_.clientY})};return window.addEventListener("mousemove",v),()=>window.removeEventListener("mousemove",v)},[]);const y=Array.from({length:30},(v,_)=>({id:_,x:Math.random()*100,y:Math.random()*100,size:Math.random()*4+2,duration:Math.random()*3+2,delay:Math.random()*2,color:_%3===0?"#ff6b35":_%3===1?"#f7931e":"#CBA135"}));return l.jsxs("div",{className:"min-h-screen",children:[l.jsxs("section",{ref:o,className:"relative h-[90vh] flex items-center justify-center overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0",children:l.jsx(Dn,{src:"https://images.unsplash.com/photo-1737324086960-0c7395e357cb?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjaGVmJTIwY29va2luZyUyMGZsYW1lcyUyMHJlc3RhdXJhbnR8ZW58MXx8fHwxNzYwNzk3NzY1fDA&ixlib=rb-4.1.0&q=80&w=1080",alt:"Chef cooking with flames",className:"w-full h-full object-cover"})}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#121212]/70 via-[#121212]/50 to-[#121212]"}),y.map(v=>l.jsx(K.div,{className:"absolute rounded-full",style:{left:`${v.x}%`,top:`${v.y}%`,width:`${v.size}px`,height:`${v.size}px`,backgroundColor:v.color,boxShadow:`0 0 ${v.size*2}px ${v.color}`},animate:{y:[-100,-500],x:[0,Math.random()*50-25],opacity:[0,1,1,0],scale:[0,1,1,.5]},transition:{duration:v.duration,delay:v.delay,repeat:1/0,ease:"easeOut"}},v.id)),l.jsx(K.div,{className:"absolute inset-0 opacity-30 pointer-events-none",style:{background:"radial-gradient(circle at 50% 70%, rgba(255, 255, 255, 0.1) 0%, transparent 50%)"},animate:{scale:[1,1.2,1],opacity:[.2,.4,.2]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),l.jsxs("div",{className:"relative z-10 text-center px-4 max-w-4xl mx-auto",children:[l.jsx("div",{className:"mb-4 smokeville-logo",children:"SMOKEVILLE".split("").map((v,_)=>l.jsx(K.span,{initial:{opacity:0,y:50,filter:"blur(10px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},transition:{duration:.8,delay:_*.1,ease:"easeOut"},className:"inline-block text-4xl sm:text-5xl md:text-6xl lg:text-7xl text-[#F5F5F5]",children:v},_))}),l.jsx(K.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:.3,ease:"easeOut"},className:"text-base sm:text-lg md:text-xl lg:text-2xl mb-8 text-[#CBA135] tracking-[0.15em] sm:tracking-[0.2em] uppercase",children:"GRILL-PIZZA-BEVES"}),l.jsxs(K.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,delay:.5,ease:"easeOut"},className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-8",children:[l.jsx(Am,{onClick:()=>t("menu"),variant:"primary",size:"lg",className:"magnetic",children:"Explore Menu"}),l.jsx(uN,{onClick:()=>t("bookings"),className:"magnetic border-2 border-[#CBA135] text-[#CBA135] hover:bg-[#CBA135] hover:text-[#121212] transition-all px-8 py-4 rounded-full text-lg",strength:.4,children:"Book a Table"})]}),l.jsxs(K.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:.8},className:"flex items-center justify-center gap-6 text-[#F5F5F5]",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(pt,{className:"w-5 h-5 text-[#CBA135] fill-[#CBA135]"}),l.jsx("span",{children:"4.5 Star Rating"})]}),l.jsx("div",{className:"h-4 w-px bg-[#CBA135]/30"}),l.jsx("span",{children:"1M+ Visitors"})]})]})]}),l.jsx(vf,{children:l.jsx("section",{className:"py-20 px-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[l.jsx("h2",{className:"text-4xl md:text-5xl mb-6 text-[#CBA135]",children:"Our Story is Written in Flame"}),l.jsxs("p",{className:"text-lg text-[#F5F5F5]/80 mb-8 max-w-2xl mx-auto",children:["At ",l.jsx("span",{className:"smokeville-logo",children:"SMOKEVILLE"}),", we believe great food is born from fire, passion, and tradition. Every dish tells a story of craftsmanship, from our wood-fired pizzas to our slow-smoked ribs."]}),l.jsx(uN,{onClick:()=>t("about"),className:"magnetic border-2 border-[#CBA135] text-[#CBA135] hover:bg-[#CBA135] hover:text-[#121212] transition-all px-6 py-3 rounded-full",strength:.4,children:"Read Our Story"})]})})}),l.jsx(vf,{children:l.jsx("section",{className:"py-20 px-4 bg-[#0a0a0a]",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsx("h2",{className:"text-4xl md:text-5xl mb-12 text-center text-[#CBA135]",children:"Popular Dishes"}),l.jsxs("div",{className:"relative",children:[l.jsxs(K.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6},className:"aspect-[16/9] md:aspect-[21/9] relative rounded-2xl overflow-hidden",children:[l.jsx(Dn,{src:u[e].image,alt:u[e].name,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#121212] via-transparent to-transparent"}),l.jsxs(K.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.6},className:"absolute bottom-0 left-0 right-0 p-8",children:[l.jsx("h3",{className:"text-3xl md:text-4xl mb-2 text-[#F5F5F5]",children:u[e].name}),l.jsx("p",{className:"text-[#F5F5F5]/80 mb-4",children:u[e].description}),l.jsx(Am,{onClick:()=>t("menu"),variant:"primary",size:"md",className:"magnetic",children:"Order Now"})]})]},e),l.jsx("button",{onClick:g,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-[#CBA135]/20 hover:bg-[#CBA135]/40 backdrop-blur-sm rounded-full p-3 transition-colors",children:l.jsx(YN,{className:"w-6 h-6 text-[#F5F5F5]"})}),l.jsx("button",{onClick:m,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-[#CBA135]/20 hover:bg-[#CBA135]/40 backdrop-blur-sm rounded-full p-3 transition-colors",children:l.jsx(Lm,{className:"w-6 h-6 text-[#F5F5F5]"})}),l.jsx("div",{className:"flex justify-center gap-2 mt-6",children:u.map((v,_)=>l.jsx("button",{onClick:()=>n(_),className:`h-2 rounded-full transition-all ${_===e?"w-8 bg-[#CBA135]":"w-2 bg-[#CBA135]/30"}`},_))})]})]})})}),l.jsx(vf,{children:l.jsx("section",{className:"py-20 px-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsx("h2",{className:"text-4xl md:text-5xl mb-12 text-center text-[#CBA135]",children:"Upcoming Events"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:h.map((v,_)=>l.jsx(K.div,{initial:{scale:.9,opacity:0},whileInView:{scale:1,opacity:1},viewport:{once:!0},transition:{duration:.6,delay:_*.2},className:"relative rounded-2xl overflow-hidden group cursor-pointer",onClick:()=>t("events"),whileHover:{y:-8},children:l.jsxs("div",{className:"aspect-[4/3] relative",children:[l.jsx(Dn,{src:v.image,alt:v.title,className:"w-full h-full object-cover transition-transform group-hover:scale-110 duration-500"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#121212] via-[#121212]/50 to-transparent"}),l.jsxs(K.div,{className:"absolute bottom-0 left-0 right-0 p-6",initial:{y:20,opacity:0},whileInView:{y:0,opacity:1},viewport:{once:!0},transition:{delay:_*.2+.3},children:[l.jsx("p",{className:"text-[#CBA135] text-sm mb-1",children:v.date}),l.jsx("h3",{className:"text-2xl text-[#F5F5F5]",children:v.title})]}),l.jsx(K.div,{className:"absolute inset-0 bg-gradient-to-t from-[#CBA135]/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity",style:{boxShadow:"0 10px 30px rgba(0,0,0,0.3)"}})]})},_))})]})})}),l.jsx(vf,{children:l.jsx("section",{className:"py-20 px-4",children:l.jsx("div",{className:"max-w-6xl mx-auto rounded-2xl overflow-hidden relative",style:{backgroundImage:"url(https://images.unsplash.com/photo-1698280954292-c955f882486f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxyZXN0YXVyYW50JTIwdGFibGUlMjBlbGVnYW50fGVufDF8fHx8MTc2MDcwMDQxMXww&ixlib=rb-4.1.0&q=80&w=1080)",backgroundSize:"cover",backgroundPosition:"center"},children:l.jsxs("div",{className:"bg-[#121212]/80 backdrop-blur-sm py-20 px-8 text-center",children:[l.jsx("h2",{className:"text-4xl md:text-5xl mb-6 text-[#F5F5F5]",children:"Reserve a Table Tonight"}),l.jsx("p",{className:"text-[#F5F5F5]/80 mb-8 max-w-2xl mx-auto",children:"Experience the finest dining in Cape Town. Book your table now and let us take you on a culinary journey."}),l.jsx(ze,{onClick:()=>t("bookings"),className:"bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212] text-lg px-8 py-6 transition-all hover:shadow-[0_0_20px_rgba(255,136,0,0.4)] hover:-translate-y-1 active:scale-98",children:"Book Now"})]})})})})]})}function vf({children:t}){const e=A.useRef(null),n=ps(e,{once:!0,amount:.3});return l.jsx(K.div,{ref:e,initial:{y:60,opacity:0},animate:n?{y:0,opacity:1}:{y:60,opacity:0},transition:{duration:.8,ease:"easeOut"},children:t})}const d7=iA("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function It({className:t,variant:e,asChild:n=!1,...r}){const s=n?nA:"span";return l.jsx(s,{"data-slot":"badge",className:gt(d7({variant:e}),t),...r})}function Je(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t?.(s),n===!1||!s.defaultPrevented)return e?.(s)}}function h7(t,e){const n=A.createContext(e),r=o=>{const{children:c,...u}=o,h=A.useMemo(()=>u,Object.values(u));return l.jsx(n.Provider,{value:h,children:c})};r.displayName=t+"Provider";function s(o){const c=A.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function Oi(t,e=[]){let n=[];function r(o,c){const u=A.createContext(c),h=n.length;n=[...n,c];const m=y=>{const{scope:v,children:_,...C}=y,E=v?.[t]?.[h]||u,N=A.useMemo(()=>C,Object.values(C));return l.jsx(E.Provider,{value:N,children:_})};m.displayName=o+"Provider";function g(y,v){const _=v?.[t]?.[h]||u,C=A.useContext(_);if(C)return C;if(c!==void 0)return c;throw new Error(`\`${y}\` must be used within \`${o}\``)}return[m,g]}const s=()=>{const o=n.map(c=>A.createContext(c));return function(u){const h=u?.[t]||o;return A.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return s.scopeName=t,[r,f7(s,...e)]}function f7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const c=r.reduce((u,{useScope:h,scopeName:m})=>{const y=h(o)[`__scope${m}`];return{...u,...y}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}function QS(t){const e=t+"CollectionProvider",[n,r]=Oi(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=E=>{const{scope:N,children:j}=E,O=fe.useRef(null),R=fe.useRef(new Map).current;return l.jsx(s,{scope:N,itemMap:R,collectionRef:O,children:j})};c.displayName=e;const u=t+"CollectionSlot",h=sc(u),m=fe.forwardRef((E,N)=>{const{scope:j,children:O}=E,R=o(u,j),z=Nt(N,R.collectionRef);return l.jsx(h,{ref:z,children:O})});m.displayName=u;const g=t+"CollectionItemSlot",y="data-radix-collection-item",v=sc(g),_=fe.forwardRef((E,N)=>{const{scope:j,children:O,...R}=E,z=fe.useRef(null),V=Nt(N,z),q=o(g,j);return fe.useEffect(()=>(q.itemMap.set(z,{ref:z,...R}),()=>void q.itemMap.delete(z))),l.jsx(v,{[y]:"",ref:V,children:O})});_.displayName=g;function C(E){const N=o(t+"CollectionConsumer",E);return fe.useCallback(()=>{const O=N.collectionRef.current;if(!O)return[];const R=Array.from(O.querySelectorAll(`[${y}]`));return Array.from(N.itemMap.values()).sort((q,k)=>R.indexOf(q.ref.current)-R.indexOf(k.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:c,Slot:m,ItemSlot:_},C,r]}var Vn=globalThis?.document?A.useLayoutEffect:()=>{},m7=qN[" useId ".trim().toString()]||(()=>{}),p7=0;function Co(t){const[e,n]=A.useState(m7());return Vn(()=>{n(r=>r??String(p7++))},[t]),t||(e?`radix-${e}`:"")}var g7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ke=g7.reduce((t,e)=>{const n=sc(`Primitive.${e}`),r=A.forwardRef((s,o)=>{const{asChild:c,...u}=s,h=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(h,{...u,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function y7(t,e){t&&Wd.flushSync(()=>t.dispatchEvent(e))}function Oo(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...n)=>e.current?.(...n),[])}var x7=qN[" useInsertionEffect ".trim().toString()]||Vn;function pc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,c]=v7({defaultProp:e,onChange:n}),u=t!==void 0,h=u?t:s;{const g=A.useRef(t!==void 0);A.useEffect(()=>{const y=g.current;y!==u&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,r])}const m=A.useCallback(g=>{if(u){const y=w7(g)?g(t):g;y!==t&&c.current?.(y)}else o(g)},[u,t,o,c]);return[h,m]}function v7({defaultProp:t,onChange:e}){const[n,r]=A.useState(t),s=A.useRef(n),o=A.useRef(e);return x7(()=>{o.current=e},[e]),A.useEffect(()=>{s.current!==n&&(o.current?.(n),s.current=n)},[n,s]),[n,r,o]}function w7(t){return typeof t=="function"}var b7=A.createContext(void 0);function bp(t){const e=A.useContext(b7);return t||e||"ltr"}var $y="rovingFocusGroup.onEntryFocus",_7={bubbles:!1,cancelable:!0},Gd="RovingFocusGroup",[o0,ZS,E7]=QS(Gd),[N7,_p]=Oi(Gd,[E7]),[A7,T7]=N7(Gd),eI=A.forwardRef((t,e)=>l.jsx(o0.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(o0.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(C7,{...t,ref:e})})}));eI.displayName=Gd;var C7=A.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...y}=t,v=A.useRef(null),_=Nt(e,v),C=bp(o),[E,N]=pc({prop:c,defaultProp:u??null,onChange:h,caller:Gd}),[j,O]=A.useState(!1),R=Oo(m),z=ZS(n),V=A.useRef(!1),[q,k]=A.useState(0);return A.useEffect(()=>{const S=v.current;if(S)return S.addEventListener($y,R),()=>S.removeEventListener($y,R)},[R]),l.jsx(A7,{scope:n,orientation:r,dir:C,loop:s,currentTabStopId:E,onItemFocus:A.useCallback(S=>N(S),[N]),onItemShiftTab:A.useCallback(()=>O(!0),[]),onFocusableItemAdd:A.useCallback(()=>k(S=>S+1),[]),onFocusableItemRemove:A.useCallback(()=>k(S=>S-1),[]),children:l.jsx(Ke.div,{tabIndex:j||q===0?-1:0,"data-orientation":r,...y,ref:_,style:{outline:"none",...t.style},onMouseDown:Je(t.onMouseDown,()=>{V.current=!0}),onFocus:Je(t.onFocus,S=>{const M=!V.current;if(S.target===S.currentTarget&&M&&!j){const B=new CustomEvent($y,_7);if(S.currentTarget.dispatchEvent(B),!B.defaultPrevented){const D=z().filter(re=>re.focusable),U=D.find(re=>re.active),F=D.find(re=>re.id===E),Ce=[U,F,...D].filter(Boolean).map(re=>re.ref.current);rI(Ce,g)}}V.current=!1}),onBlur:Je(t.onBlur,()=>O(!1))})})}),tI="RovingFocusGroupItem",nI=A.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:c,...u}=t,h=Co(),m=o||h,g=T7(tI,n),y=g.currentTabStopId===m,v=ZS(n),{onFocusableItemAdd:_,onFocusableItemRemove:C,currentTabStopId:E}=g;return A.useEffect(()=>{if(r)return _(),()=>C()},[r,_,C]),l.jsx(o0.ItemSlot,{scope:n,id:m,focusable:r,active:s,children:l.jsx(Ke.span,{tabIndex:y?0:-1,"data-orientation":g.orientation,...u,ref:e,onMouseDown:Je(t.onMouseDown,N=>{r?g.onItemFocus(m):N.preventDefault()}),onFocus:Je(t.onFocus,()=>g.onItemFocus(m)),onKeyDown:Je(t.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){g.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const j=j7(N,g.orientation,g.dir);if(j!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let R=v().filter(z=>z.focusable).map(z=>z.ref.current);if(j==="last")R.reverse();else if(j==="prev"||j==="next"){j==="prev"&&R.reverse();const z=R.indexOf(N.currentTarget);R=g.loop?k7(R,z+1):R.slice(z+1)}setTimeout(()=>rI(R))}}),children:typeof c=="function"?c({isCurrentTabStop:y,hasTabStop:E!=null}):c})})});nI.displayName=tI;var S7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function I7(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function j7(t,e,n){const r=I7(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return S7[r]}function rI(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function k7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var sI=eI,iI=nI;function R7(t,e){return A.useReducer((n,r)=>e[n][r]??n,t)}var kc=t=>{const{present:e,children:n}=t,r=P7(e),s=typeof n=="function"?n({present:r.isPresent}):A.Children.only(n),o=Nt(r.ref,M7(s));return typeof n=="function"||r.isPresent?A.cloneElement(s,{ref:o}):null};kc.displayName="Presence";function P7(t){const[e,n]=A.useState(),r=A.useRef(null),s=A.useRef(t),o=A.useRef("none"),c=t?"mounted":"unmounted",[u,h]=R7(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const m=wf(r.current);o.current=u==="mounted"?m:"none"},[u]),Vn(()=>{const m=r.current,g=s.current;if(g!==t){const v=o.current,_=wf(m);t?h("MOUNT"):_==="none"||m?.display==="none"?h("UNMOUNT"):h(g&&v!==_?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,h]),Vn(()=>{if(e){let m;const g=e.ownerDocument.defaultView??window,y=_=>{const E=wf(r.current).includes(CSS.escape(_.animationName));if(_.target===e&&E&&(h("ANIMATION_END"),!s.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",m=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},v=_=>{_.target===e&&(o.current=wf(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{g.clearTimeout(m),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:A.useCallback(m=>{r.current=m?getComputedStyle(m):null,n(m)},[])}}function wf(t){return t?.animationName||"none"}function M7(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Ep="Tabs",[F7]=Oi(Ep,[_p]),oI=_p(),[D7,c1]=F7(Ep),aI=A.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:c="horizontal",dir:u,activationMode:h="automatic",...m}=t,g=bp(u),[y,v]=pc({prop:r,onChange:s,defaultProp:o??"",caller:Ep});return l.jsx(D7,{scope:n,baseId:Co(),value:y,onValueChange:v,orientation:c,dir:g,activationMode:h,children:l.jsx(Ke.div,{dir:g,"data-orientation":c,...m,ref:e})})});aI.displayName=Ep;var lI="TabsList",cI=A.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=c1(lI,n),c=oI(n);return l.jsx(sI,{asChild:!0,...c,orientation:o.orientation,dir:o.dir,loop:r,children:l.jsx(Ke.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});cI.displayName=lI;var uI="TabsTrigger",dI=A.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,c=c1(uI,n),u=oI(n),h=mI(c.baseId,r),m=pI(c.baseId,r),g=r===c.value;return l.jsx(iI,{asChild:!0,...u,focusable:!s,active:g,children:l.jsx(Ke.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":m,"data-state":g?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:h,...o,ref:e,onMouseDown:Je(t.onMouseDown,y=>{!s&&y.button===0&&y.ctrlKey===!1?c.onValueChange(r):y.preventDefault()}),onKeyDown:Je(t.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&c.onValueChange(r)}),onFocus:Je(t.onFocus,()=>{const y=c.activationMode!=="manual";!g&&!s&&y&&c.onValueChange(r)})})})});dI.displayName=uI;var hI="TabsContent",fI=A.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...c}=t,u=c1(hI,n),h=mI(u.baseId,r),m=pI(u.baseId,r),g=r===u.value,y=A.useRef(g);return A.useEffect(()=>{const v=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(v)},[]),l.jsx(kc,{present:s||g,children:({present:v})=>l.jsx(Ke.div,{"data-state":g?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!v,id:m,tabIndex:0,...c,ref:e,style:{...t.style,animationDuration:y.current?"0s":void 0},children:v&&o})})});fI.displayName=hI;function mI(t,e){return`${t}-trigger-${e}`}function pI(t,e){return`${t}-content-${e}`}var O7=aI,V7=cI,L7=dI,B7=fI;function Rc({className:t,...e}){return l.jsx(O7,{"data-slot":"tabs",className:gt("flex flex-col gap-2",t),...e})}function Pc({className:t,...e}){return l.jsx(V7,{"data-slot":"tabs-list",className:gt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function An({className:t,...e}){return l.jsx(L7,{"data-slot":"tabs-trigger",className:gt("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function lt({className:t,...e}){return l.jsx(B7,{"data-slot":"tabs-content",className:gt("flex-1 outline-none",t),...e})}function z7(t,e=globalThis?.document){const n=Oo(t);A.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var U7="DismissableLayer",a0="dismissableLayer.update",H7="dismissableLayer.pointerDownOutside",$7="dismissableLayer.focusOutside",hN,gI=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),u1=A.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:c,onDismiss:u,...h}=t,m=A.useContext(gI),[g,y]=A.useState(null),v=g?.ownerDocument??globalThis?.document,[,_]=A.useState({}),C=Nt(e,k=>y(k)),E=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),j=E.indexOf(N),O=g?E.indexOf(g):-1,R=m.layersWithOutsidePointerEventsDisabled.size>0,z=O>=j,V=q7(k=>{const S=k.target,M=[...m.branches].some(B=>B.contains(S));!z||M||(s?.(k),c?.(k),k.defaultPrevented||u?.())},v),q=K7(k=>{const S=k.target;[...m.branches].some(B=>B.contains(S))||(o?.(k),c?.(k),k.defaultPrevented||u?.())},v);return z7(k=>{O===m.layers.size-1&&(r?.(k),!k.defaultPrevented&&u&&(k.preventDefault(),u()))},v),A.useEffect(()=>{if(g)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(hN=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),fN(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=hN)}},[g,v,n,m]),A.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),fN())},[g,m]),A.useEffect(()=>{const k=()=>_({});return document.addEventListener(a0,k),()=>document.removeEventListener(a0,k)},[]),l.jsx(Ke.div,{...h,ref:C,style:{pointerEvents:R?z?"auto":"none":void 0,...t.style},onFocusCapture:Je(t.onFocusCapture,q.onFocusCapture),onBlurCapture:Je(t.onBlurCapture,q.onBlurCapture),onPointerDownCapture:Je(t.onPointerDownCapture,V.onPointerDownCapture)})});u1.displayName=U7;var W7="DismissableLayerBranch",G7=A.forwardRef((t,e)=>{const n=A.useContext(gI),r=A.useRef(null),s=Nt(e,r);return A.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),l.jsx(Ke.div,{...t,ref:s})});G7.displayName=W7;function q7(t,e=globalThis?.document){const n=Oo(t),r=A.useRef(!1),s=A.useRef(()=>{});return A.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let h=function(){yI(H7,n,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=h,e.addEventListener("click",s.current,{once:!0})):h()}else e.removeEventListener("click",s.current);r.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function K7(t,e=globalThis?.document){const n=Oo(t),r=A.useRef(!1);return A.useEffect(()=>{const s=o=>{o.target&&!r.current&&yI($7,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function fN(){const t=new CustomEvent(a0);document.dispatchEvent(t)}function yI(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?y7(s,o):s.dispatchEvent(o)}var Wy="focusScope.autoFocusOnMount",Gy="focusScope.autoFocusOnUnmount",mN={bubbles:!1,cancelable:!0},Y7="FocusScope",d1=A.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...c}=t,[u,h]=A.useState(null),m=Oo(s),g=Oo(o),y=A.useRef(null),v=Nt(e,E=>h(E)),_=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(r){let E=function(R){if(_.paused||!u)return;const z=R.target;u.contains(z)?y.current=z:po(y.current,{select:!0})},N=function(R){if(_.paused||!u)return;const z=R.relatedTarget;z!==null&&(u.contains(z)||po(y.current,{select:!0}))},j=function(R){if(document.activeElement===document.body)for(const V of R)V.removedNodes.length>0&&po(u)};document.addEventListener("focusin",E),document.addEventListener("focusout",N);const O=new MutationObserver(j);return u&&O.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",N),O.disconnect()}}},[r,u,_.paused]),A.useEffect(()=>{if(u){gN.add(_);const E=document.activeElement;if(!u.contains(E)){const j=new CustomEvent(Wy,mN);u.addEventListener(Wy,m),u.dispatchEvent(j),j.defaultPrevented||(X7(t$(xI(u)),{select:!0}),document.activeElement===E&&po(u))}return()=>{u.removeEventListener(Wy,m),setTimeout(()=>{const j=new CustomEvent(Gy,mN);u.addEventListener(Gy,g),u.dispatchEvent(j),j.defaultPrevented||po(E??document.body,{select:!0}),u.removeEventListener(Gy,g),gN.remove(_)},0)}}},[u,m,g,_]);const C=A.useCallback(E=>{if(!n&&!r||_.paused)return;const N=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,j=document.activeElement;if(N&&j){const O=E.currentTarget,[R,z]=J7(O);R&&z?!E.shiftKey&&j===z?(E.preventDefault(),n&&po(R,{select:!0})):E.shiftKey&&j===R&&(E.preventDefault(),n&&po(z,{select:!0})):j===O&&E.preventDefault()}},[n,r,_.paused]);return l.jsx(Ke.div,{tabIndex:-1,...c,ref:v,onKeyDown:C})});d1.displayName=Y7;function X7(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(po(r,{select:e}),document.activeElement!==n)return}function J7(t){const e=xI(t),n=pN(e,t),r=pN(e.reverse(),t);return[n,r]}function xI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function pN(t,e){for(const n of t)if(!Q7(n,{upTo:e}))return n}function Q7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Z7(t){return t instanceof HTMLInputElement&&"select"in t}function po(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Z7(t)&&e&&t.select()}}var gN=e$();function e$(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=yN(t,e),t.unshift(e)},remove(e){t=yN(t,e),t[0]?.resume()}}}function yN(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function t$(t){return t.filter(e=>e.tagName!=="A")}var n$="Portal",h1=A.forwardRef((t,e)=>{const{container:n,...r}=t,[s,o]=A.useState(!1);Vn(()=>o(!0),[]);const c=n||s&&globalThis?.document?.body;return c?JS.createPortal(l.jsx(Ke.div,{...r,ref:e}),c):null});h1.displayName=n$;var qy=0;function vI(){A.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??xN()),document.body.insertAdjacentElement("beforeend",t[1]??xN()),qy++,()=>{qy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),qy--}},[])}function xN(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Bs=function(){return Bs=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Bs.apply(this,arguments)};function wI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function r$(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Kf="right-scroll-bar-position",Yf="width-before-scroll-bar",s$="with-scroll-bars-hidden",i$="--removed-body-scroll-bar-size";function Ky(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function o$(t,e){var n=A.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var a$=typeof window<"u"?A.useLayoutEffect:A.useEffect,vN=new WeakMap;function l$(t,e){var n=o$(null,function(r){return t.forEach(function(s){return Ky(s,r)})});return a$(function(){var r=vN.get(n);if(r){var s=new Set(r),o=new Set(t),c=n.current;s.forEach(function(u){o.has(u)||Ky(u,null)}),o.forEach(function(u){s.has(u)||Ky(u,c)})}vN.set(n,t)},[t]),n}function c$(t){return t}function u$(t,e){e===void 0&&(e=c$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var c=e(o,r);return n.push(c),function(){n=n.filter(function(u){return u!==c})}},assignSyncMedium:function(o){for(r=!0;n.length;){var c=n;n=[],c.forEach(o)}n={push:function(u){return o(u)},filter:function(){return n}}},assignMedium:function(o){r=!0;var c=[];if(n.length){var u=n;n=[],u.forEach(o),c=n}var h=function(){var g=c;c=[],g.forEach(o)},m=function(){return Promise.resolve().then(h)};m(),n={push:function(g){c.push(g),m()},filter:function(g){return c=c.filter(g),n}}}};return s}function d$(t){t===void 0&&(t={});var e=u$(null);return e.options=Bs({async:!0,ssr:!1},t),e}var bI=function(t){var e=t.sideCar,n=wI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return A.createElement(r,Bs({},n))};bI.isSideCarExport=!0;function h$(t,e){return t.useMedium(e),bI}var _I=d$(),Yy=function(){},Np=A.forwardRef(function(t,e){var n=A.useRef(null),r=A.useState({onScrollCapture:Yy,onWheelCapture:Yy,onTouchMoveCapture:Yy}),s=r[0],o=r[1],c=t.forwardProps,u=t.children,h=t.className,m=t.removeScrollBar,g=t.enabled,y=t.shards,v=t.sideCar,_=t.noRelative,C=t.noIsolation,E=t.inert,N=t.allowPinchZoom,j=t.as,O=j===void 0?"div":j,R=t.gapMode,z=wI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),V=v,q=l$([n,e]),k=Bs(Bs({},z),s);return A.createElement(A.Fragment,null,g&&A.createElement(V,{sideCar:_I,removeScrollBar:m,shards:y,noRelative:_,noIsolation:C,inert:E,setCallbacks:o,allowPinchZoom:!!N,lockRef:n,gapMode:R}),c?A.cloneElement(A.Children.only(u),Bs(Bs({},k),{ref:q})):A.createElement(O,Bs({},k,{className:h,ref:q}),u))});Np.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Np.classNames={fullWidth:Yf,zeroRight:Kf};var f$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function m$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=f$();return e&&t.setAttribute("nonce",e),t}function p$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function g$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var y$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=m$())&&(p$(e,n),g$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},x$=function(){var t=y$();return function(e,n){A.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},EI=function(){var t=x$(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},v$={left:0,top:0,right:0,gap:0},Xy=function(t){return parseInt(t||"",10)||0},w$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Xy(n),Xy(r),Xy(s)]},b$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return v$;var e=w$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},_$=EI(),tc="data-scroll-locked",E$=function(t,e,n,r){var s=t.left,o=t.top,c=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(s$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(tc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Kf,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Yf,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Kf," .").concat(Kf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Yf," .").concat(Yf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(tc,`] {
    `).concat(i$,": ").concat(u,`px;
  }
`)},wN=function(){var t=parseInt(document.body.getAttribute(tc)||"0",10);return isFinite(t)?t:0},N$=function(){A.useEffect(function(){return document.body.setAttribute(tc,(wN()+1).toString()),function(){var t=wN()-1;t<=0?document.body.removeAttribute(tc):document.body.setAttribute(tc,t.toString())}},[])},A$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;N$();var o=A.useMemo(function(){return b$(s)},[s]);return A.createElement(_$,{styles:E$(o,!e,s,n?"":"!important")})},l0=!1;if(typeof window<"u")try{var bf=Object.defineProperty({},"passive",{get:function(){return l0=!0,!0}});window.addEventListener("test",bf,bf),window.removeEventListener("test",bf,bf)}catch{l0=!1}var Fl=l0?{passive:!1}:!1,T$=function(t){return t.tagName==="TEXTAREA"},NI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!T$(t)&&n[e]==="visible")},C$=function(t){return NI(t,"overflowY")},S$=function(t){return NI(t,"overflowX")},bN=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=AI(t,r);if(s){var o=TI(t,r),c=o[1],u=o[2];if(c>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},I$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},j$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},AI=function(t,e){return t==="v"?C$(e):S$(e)},TI=function(t,e){return t==="v"?I$(e):j$(e)},k$=function(t,e){return t==="h"&&e==="rtl"?-1:1},R$=function(t,e,n,r,s){var o=k$(t,window.getComputedStyle(e).direction),c=o*r,u=n.target,h=e.contains(u),m=!1,g=c>0,y=0,v=0;do{if(!u)break;var _=TI(t,u),C=_[0],E=_[1],N=_[2],j=E-N-o*C;(C||j)&&AI(t,u)&&(y+=j,v+=C);var O=u.parentNode;u=O&&O.nodeType===Node.DOCUMENT_FRAGMENT_NODE?O.host:O}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(g&&Math.abs(y)<1||!g&&Math.abs(v)<1)&&(m=!0),m},_f=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},_N=function(t){return[t.deltaX,t.deltaY]},EN=function(t){return t&&"current"in t?t.current:t},P$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},M$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},F$=0,Dl=[];function D$(t){var e=A.useRef([]),n=A.useRef([0,0]),r=A.useRef(),s=A.useState(F$++)[0],o=A.useState(EI)[0],c=A.useRef(t);A.useEffect(function(){c.current=t},[t]),A.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var E=r$([t.lockRef.current],(t.shards||[]).map(EN),!0).filter(Boolean);return E.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),E.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=A.useCallback(function(E,N){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!c.current.allowPinchZoom;var j=_f(E),O=n.current,R="deltaX"in E?E.deltaX:O[0]-j[0],z="deltaY"in E?E.deltaY:O[1]-j[1],V,q=E.target,k=Math.abs(R)>Math.abs(z)?"h":"v";if("touches"in E&&k==="h"&&q.type==="range")return!1;var S=bN(k,q);if(!S)return!0;if(S?V=k:(V=k==="v"?"h":"v",S=bN(k,q)),!S)return!1;if(!r.current&&"changedTouches"in E&&(R||z)&&(r.current=V),!V)return!0;var M=r.current||V;return R$(M,N,E,M==="h"?R:z)},[]),h=A.useCallback(function(E){var N=E;if(!(!Dl.length||Dl[Dl.length-1]!==o)){var j="deltaY"in N?_N(N):_f(N),O=e.current.filter(function(V){return V.name===N.type&&(V.target===N.target||N.target===V.shadowParent)&&P$(V.delta,j)})[0];if(O&&O.should){N.cancelable&&N.preventDefault();return}if(!O){var R=(c.current.shards||[]).map(EN).filter(Boolean).filter(function(V){return V.contains(N.target)}),z=R.length>0?u(N,R[0]):!c.current.noIsolation;z&&N.cancelable&&N.preventDefault()}}},[]),m=A.useCallback(function(E,N,j,O){var R={name:E,delta:N,target:j,should:O,shadowParent:O$(j)};e.current.push(R),setTimeout(function(){e.current=e.current.filter(function(z){return z!==R})},1)},[]),g=A.useCallback(function(E){n.current=_f(E),r.current=void 0},[]),y=A.useCallback(function(E){m(E.type,_N(E),E.target,u(E,t.lockRef.current))},[]),v=A.useCallback(function(E){m(E.type,_f(E),E.target,u(E,t.lockRef.current))},[]);A.useEffect(function(){return Dl.push(o),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:v}),document.addEventListener("wheel",h,Fl),document.addEventListener("touchmove",h,Fl),document.addEventListener("touchstart",g,Fl),function(){Dl=Dl.filter(function(E){return E!==o}),document.removeEventListener("wheel",h,Fl),document.removeEventListener("touchmove",h,Fl),document.removeEventListener("touchstart",g,Fl)}},[]);var _=t.removeScrollBar,C=t.inert;return A.createElement(A.Fragment,null,C?A.createElement(o,{styles:M$(s)}):null,_?A.createElement(A$,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function O$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const V$=h$(_I,D$);var f1=A.forwardRef(function(t,e){return A.createElement(Np,Bs({},t,{ref:e,sideCar:V$}))});f1.classNames=Np.classNames;var L$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ol=new WeakMap,Ef=new WeakMap,Nf={},Jy=0,CI=function(t){return t&&(t.host||CI(t.parentNode))},B$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=CI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},z$=function(t,e,n,r){var s=B$(e,Array.isArray(t)?t:[t]);Nf[n]||(Nf[n]=new WeakMap);var o=Nf[n],c=[],u=new Set,h=new Set(s),m=function(y){!y||u.has(y)||(u.add(y),m(y.parentNode))};s.forEach(m);var g=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(v){if(u.has(v))g(v);else try{var _=v.getAttribute(r),C=_!==null&&_!=="false",E=(Ol.get(v)||0)+1,N=(o.get(v)||0)+1;Ol.set(v,E),o.set(v,N),c.push(v),E===1&&C&&Ef.set(v,!0),N===1&&v.setAttribute(n,"true"),C||v.setAttribute(r,"true")}catch(j){console.error("aria-hidden: cannot operate on ",v,j)}})};return g(e),u.clear(),Jy++,function(){c.forEach(function(y){var v=Ol.get(y)-1,_=o.get(y)-1;Ol.set(y,v),o.set(y,_),v||(Ef.has(y)||y.removeAttribute(r),Ef.delete(y)),_||y.removeAttribute(n)}),Jy--,Jy||(Ol=new WeakMap,Ol=new WeakMap,Ef=new WeakMap,Nf={})}},SI=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=L$(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),z$(r,s,n,"aria-hidden")):function(){return null}},Ap="Dialog",[II]=Oi(Ap),[U$,ys]=II(Ap),jI=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:c=!0}=t,u=A.useRef(null),h=A.useRef(null),[m,g]=pc({prop:r,defaultProp:s??!1,onChange:o,caller:Ap});return l.jsx(U$,{scope:e,triggerRef:u,contentRef:h,contentId:Co(),titleId:Co(),descriptionId:Co(),open:m,onOpenChange:g,onOpenToggle:A.useCallback(()=>g(y=>!y),[g]),modal:c,children:n})};jI.displayName=Ap;var kI="DialogTrigger",H$=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ys(kI,n),o=Nt(e,s.triggerRef);return l.jsx(Ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":g1(s.open),...r,ref:o,onClick:Je(t.onClick,s.onOpenToggle)})});H$.displayName=kI;var m1="DialogPortal",[$$,RI]=II(m1,{forceMount:void 0}),PI=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=ys(m1,e);return l.jsx($$,{scope:e,forceMount:n,children:A.Children.map(r,c=>l.jsx(kc,{present:n||o.open,children:l.jsx(h1,{asChild:!0,container:s,children:c})}))})};PI.displayName=m1;var Tm="DialogOverlay",MI=A.forwardRef((t,e)=>{const n=RI(Tm,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=ys(Tm,t.__scopeDialog);return o.modal?l.jsx(kc,{present:r||o.open,children:l.jsx(G$,{...s,ref:e})}):null});MI.displayName=Tm;var W$=sc("DialogOverlay.RemoveScroll"),G$=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ys(Tm,n);return l.jsx(f1,{as:W$,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(Ke.div,{"data-state":g1(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ha="DialogContent",FI=A.forwardRef((t,e)=>{const n=RI(Ha,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=ys(Ha,t.__scopeDialog);return l.jsx(kc,{present:r||o.open,children:o.modal?l.jsx(q$,{...s,ref:e}):l.jsx(K$,{...s,ref:e})})});FI.displayName=Ha;var q$=A.forwardRef((t,e)=>{const n=ys(Ha,t.__scopeDialog),r=A.useRef(null),s=Nt(e,n.contentRef,r);return A.useEffect(()=>{const o=r.current;if(o)return SI(o)},[]),l.jsx(DI,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Je(t.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Je(t.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&o.preventDefault()}),onFocusOutside:Je(t.onFocusOutside,o=>o.preventDefault())})}),K$=A.forwardRef((t,e)=>{const n=ys(Ha,t.__scopeDialog),r=A.useRef(!1),s=A.useRef(!1);return l.jsx(DI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=o.target;n.triggerRef.current?.contains(c)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),DI=A.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...c}=t,u=ys(Ha,n),h=A.useRef(null),m=Nt(e,h);return vI(),l.jsxs(l.Fragment,{children:[l.jsx(d1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(u1,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":g1(u.open),...c,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(X$,{titleId:u.titleId}),l.jsx(Q$,{contentRef:h,descriptionId:u.descriptionId})]})]})}),p1="DialogTitle",OI=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ys(p1,n);return l.jsx(Ke.h2,{id:s.titleId,...r,ref:e})});OI.displayName=p1;var VI="DialogDescription",Y$=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ys(VI,n);return l.jsx(Ke.p,{id:s.descriptionId,...r,ref:e})});Y$.displayName=VI;var LI="DialogClose",BI=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ys(LI,n);return l.jsx(Ke.button,{type:"button",...r,ref:e,onClick:Je(t.onClick,()=>s.onOpenChange(!1))})});BI.displayName=LI;function g1(t){return t?"open":"closed"}var zI="DialogTitleWarning",[eY,UI]=h7(zI,{contentName:Ha,titleName:p1,docsSlug:"dialog"}),X$=({titleId:t})=>{const e=UI(zI),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return A.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},J$="DialogDescriptionWarning",Q$=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${UI(J$).contentName}}.`;return A.useEffect(()=>{const s=t.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Z$=jI,eW=PI,tW=MI,nW=FI,rW=OI,sW=BI;function HI({...t}){return l.jsx(Z$,{"data-slot":"dialog",...t})}function iW({...t}){return l.jsx(eW,{"data-slot":"dialog-portal",...t})}function oW({className:t,...e}){return l.jsx(tW,{"data-slot":"dialog-overlay",className:gt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function $I({className:t,children:e,...n}){return l.jsxs(iW,{"data-slot":"dialog-portal",children:[l.jsx(oW,{}),l.jsxs(nW,{"data-slot":"dialog-content",className:gt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,l.jsxs(sW,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[l.jsx(rc,{}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function aW({className:t,...e}){return l.jsx("div",{"data-slot":"dialog-header",className:gt("flex flex-col gap-2 text-center sm:text-left",t),...e})}function WI({className:t,...e}){return l.jsx(rW,{"data-slot":"dialog-title",className:gt("text-lg leading-none font-semibold",t),...e})}function lW({children:t,onClick:e,className:n="",successText:r="Done!",loadingText:s="Processing...",icon:o,successIcon:c}){const[u,h]=A.useState("idle"),m=async()=>{if(u==="idle"){h("loading");try{e&&await e(),h("success"),setTimeout(()=>{h("idle")},2e3)}catch{h("idle")}}};return l.jsxs(K.button,{onClick:m,className:`relative overflow-hidden ${n}`,disabled:u!=="idle",layout:!0,initial:!1,animate:{backgroundColor:u==="success"?"#10B981":"#CBA135",scale:u==="success"?[1,1.05,1]:1},transition:{layout:{duration:.3,ease:"easeInOut"},backgroundColor:{duration:.3},scale:{duration:.4}},children:[l.jsxs(ei,{mode:"wait",children:[u==="idle"&&l.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex items-center justify-center gap-2",children:[o,l.jsx("span",{children:t})]},"idle"),u==="loading"&&l.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex items-center justify-center gap-2",children:[l.jsx(K.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:l.jsx(JN,{className:"w-4 h-4"})}),l.jsx("span",{children:s})]},"loading"),u==="success"&&l.jsxs(K.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},transition:{duration:.3,type:"spring"},className:"flex items-center justify-center gap-2",children:[l.jsx(K.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1,type:"spring",stiffness:200},children:c||l.jsx(Vm,{className:"w-5 h-5"})}),l.jsx("span",{children:r})]},"success")]}),u==="success"&&l.jsx(l.Fragment,{children:[...Array(8)].map((g,y)=>l.jsx(K.div,{className:"absolute w-2 h-2 bg-white rounded-full",initial:{top:"50%",left:"50%",opacity:1},animate:{top:`${50+Math.sin(y/8*Math.PI*2)*100}%`,left:`${50+Math.cos(y/8*Math.PI*2)*100}%`,opacity:0},transition:{duration:.6,ease:"easeOut"}},y))})]})}function cW({item:t,isOpen:e,onClose:n,onAddToCart:r}){const[s,o]=A.useState(1);return l.jsx(HI,{open:e,onOpenChange:n,children:l.jsx($I,{className:"max-w-2xl bg-zinc-900 border-zinc-800 p-0",children:l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:n,className:"absolute top-4 right-4 z-10 p-2 rounded-full bg-black/50 backdrop-blur-sm hover:bg-black/70 transition-colors",children:l.jsx(rc,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{className:"relative aspect-video w-full overflow-hidden",children:[l.jsx(Dn,{src:t.image||"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=800",alt:t.name,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900 via-transparent to-transparent"}),t.rating&&l.jsx("div",{className:"absolute bottom-4 left-4",children:l.jsxs(It,{className:"bg-[#CBA135] text-black border-none flex items-center gap-1",children:[l.jsx(pt,{className:"w-3 h-3 fill-current"}),t.rating," ",t.reviews&&`(${t.reviews})`]})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx(WI,{className:"text-2xl mb-2",children:t.name}),l.jsx("p",{className:"text-zinc-400",children:t.description}),t.tags&&t.tags.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:t.tags.map((c,u)=>l.jsx(It,{variant:"outline",className:"border-zinc-700 text-zinc-300",children:c},u))})]}),t.allergens&&t.allergens.length>0&&l.jsx("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:l.jsxs("p",{className:"text-sm text-yellow-400",children:[l.jsx("strong",{children:"Allergens:"})," ",t.allergens.join(", ")]})}),t.prepTime&&l.jsxs("div",{className:"text-sm text-zinc-400",children:["Prep time: ~",t.prepTime," minutes"]}),l.jsxs("div",{className:"pt-4 border-t border-zinc-800 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-3xl text-[#CBA135]",children:["R",t.price]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>o(Math.max(1,s-1)),className:"p-2 rounded-full bg-zinc-800 hover:bg-zinc-700 transition-colors",children:l.jsx(QN,{className:"w-4 h-4"})}),l.jsx("span",{className:"w-8 text-center",children:s}),l.jsx("button",{onClick:()=>o(s+1),className:"p-2 rounded-full bg-zinc-800 hover:bg-zinc-700 transition-colors",children:l.jsx(b0,{className:"w-4 h-4"})})]})]}),s>1&&l.jsxs("div",{className:"text-sm text-zinc-400",children:["Total: ",l.jsxs("span",{className:"text-[#CBA135]",children:["R",t.price*s]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(Am,{variant:"secondary",onClick:n,className:"w-full",children:"Close"}),l.jsx(lW,{onClick:async()=>{r(t,s),await new Promise(c=>setTimeout(c,500))},className:"w-full bg-[#CBA135] hover:bg-[#B8962F] text-black rounded-full px-6 py-3",successText:"Added!",loadingText:"Adding...",icon:l.jsx(Gn,{className:"w-4 h-4"}),children:"Add to Cart"})]})]})]})]})})})}function uW({onNavigate:t}){const[e,n]=A.useState({}),[r,s]=A.useState(null),{addItem:o}=Ec(),c=y=>{n(v=>({...v,[y]:!v[y]}))},u=(y,v=!1)=>{const _=v&&y.mealPrice?y.mealPrice:y.price,C=v?`${y.name} (Meal)`:y.name;o({id:`${y.name}-${v?"meal":"regular"}-${Date.now()}`,name:C,price:_,image:y.image,category:y.category,isMeal:v}),Ee.success(`${C} added to cart!`,{description:`R${_}`,duration:2e3})},h=y=>({name:y.name,description:y.desc||"Delicious food prepared with care",price:y.price,image:y.image,allergens:["Gluten","Dairy"],prepTime:15,rating:y.rating||4.5,reviews:127,tags:y.smoked?["Smoked","Signature","Popular"]:["Grilled","Fresh"]}),m=y=>{s(h(y))},g={poultry:[{category:"Singles",items:[{name:"Smoked Full Chicken",desc:"Cut into 8 to 10 pieces",price:190,smoked:!0,rating:4.8,image:"https://images.unsplash.com/photo-1709392975965-00889c6aa545?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxncmlsbGVkJTIwY2hpY2tlbiUyMHNtb2tlZHxlbnwxfHx8fDE3NjA3OTU3MzN8MA&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Smoked Half Chicken",desc:"Cut into 6 pieces",price:100,smoked:!0,rating:4.7,image:"https://images.unsplash.com/photo-1709392975965-00889c6aa545?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxncmlsbGVkJTIwY2hpY2tlbiUyMHNtb2tlZHxlbnwxfHx8fDE3NjA3OTU3MzN8MA&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Smoked Quarter Chicken",desc:"Cut into 3 pieces",price:65,smoked:!0,rating:4.6,image:"https://images.unsplash.com/photo-1709392975965-00889c6aa545?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxncmlsbGVkJTIwY2hpY2tlbiUyMHNtb2tlZHxlbnwxfHx8fDE3NjA3OTU3MzN8MA&ixlib=rb-4.1.0&q=80&w=1080"}]},{category:"Basted or Non-Basted Winglets",items:[{name:"8 Smoked Wings",desc:"Tender and juicy",price:95,smoked:!0,rating:4.5,image:"https://images.unsplash.com/photo-1592011432621-f7f576f44484?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjaGlja2VuJTIwd2luZ3MlMjBncmlsbGVkfGVufDF8fHx8MTc2MDc5NTczNHww&ixlib=rb-4.1.0&q=80&w=1080"},{name:"12 Smoked Wings",desc:"Perfect for sharing",price:115,smoked:!0,rating:4.6,image:"https://images.unsplash.com/photo-1592011432621-f7f576f44484?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjaGlja2VuJTIwd2luZ3MlMjBncmlsbGVkfGVufDF8fHx8MTc2MDc5NTczNHww&ixlib=rb-4.1.0&q=80&w=1080"},{name:"16 Smoked Wings",desc:"For the wing lover",price:150,smoked:!0,rating:4.7,image:"https://images.unsplash.com/photo-1592011432621-f7f576f44484?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjaGlja2VuJTIwd2luZ3MlMjBncmlsbGVkfGVufDF8fHx8MTc2MDc5NTczNHww&ixlib=rb-4.1.0&q=80&w=1080"}]}],pork:[{name:"Smoked Full Rack Ribs",desc:"Basted with BBQ Sauce or Non Basted",price:190,smoked:!0,rating:4.9,image:"https://images.unsplash.com/photo-1606157715813-aceb0ffb810e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxiYnElMjByaWJzJTIwcG9ya3xlbnwxfHx8fDE3NjA3OTU3MzN8MA&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Smoked Half Rack Ribs",desc:"Basted with BBQ Sauce or Non Basted",price:96,smoked:!0,rating:4.8,image:"https://images.unsplash.com/photo-1606157715813-aceb0ffb810e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxiYnElMjByaWJzJTIwcG9ya3xlbnwxfHx8fDE3NjA3OTU3MzN8MA&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Smoked Eisbein",desc:"Chopped, Brazed with chilli sauce (optional)",price:160,smoked:!0,rating:4.7,image:"https://images.unsplash.com/photo-1606157715813-aceb0ffb810e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxiYnElMjByaWJzJTIwcG9ya3xlbnwxfHx8fDE3NjA3OTU3MzN8MA&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Smoked Pork Neck",desc:"Served with chips or salad",price:130,smoked:!0,rating:4.6,image:"https://images.unsplash.com/photo-1606157715813-aceb0ffb810e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxiYnElMjByaWJzJTIwcG9ya3xlbnwxfHx8fDE3NjA3OTU3MzN8MA&ixlib=rb-4.1.0&q=80&w=1080"}],mains:[{name:"Smoked Full Chicken",desc:"With 3 Sides of your Choice",price:280,smoked:!0,rating:4.8,image:"https://images.unsplash.com/photo-1709392975965-00889c6aa545?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxncmlsbGVkJTIwY2hpY2tlbiUyMHNtb2tlZHxlbnwxfHx8fDE3NjA3OTU3MzN8MA&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Smoked Full Rack Rib",desc:"With 3 sides of your Choice",price:250,smoked:!0,rating:4.9,image:"https://images.unsplash.com/photo-1606157715813-aceb0ffb810e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxiYnElMjByaWJzJTIwcG9ya3xlbnwxfHx8fDE3NjA3OTU3MzN8MA&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Smoked Eisbein",desc:"With 3 Sides of your Choice",price:250,smoked:!1,rating:4.7,image:"https://images.unsplash.com/photo-1606157715813-aceb0ffb810e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxiYnElMjByaWJzJTIwcG9ya3xlbnwxfHx8fDE3NjA3OTU3MzN8MA&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Snoek Fish",desc:"With 3 sides of your Choice",price:240,smoked:!1,rating:4.6,image:"https://images.unsplash.com/photo-1673646960049-2bfb54a22f4e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxncmlsbGVkJTIwZmlzaCUyMHBsYXRlfGVufDF8fHx8MTc2MDY5NzcwOXww&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Beef Short Ribs",desc:"With 3 sides of your choice",price:180,smoked:!1,rating:4.7,image:"https://images.unsplash.com/photo-1629600938295-080a35c50302?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxiZWVmJTIwc2hvcnQlMjByaWJzfGVufDF8fHx8MTc2MDc5NTczNXww&ixlib=rb-4.1.0&q=80&w=1080"}],burgers:[{name:"Smoked Pork Burger",desc:"Juicy smoked pork patty with fresh toppings",price:85,smoked:!0,rating:4.5,mealPrice:140,image:"https://images.unsplash.com/photo-1550547660-d9450f859349?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxnb3VybWV0JTIwYnVyZ2VyfGVufDF8fHx8MTc2MDc1ODEwNHww&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Smoked Chicken Burger",desc:"Tender chicken breast with special sauce",price:85,smoked:!0,rating:4.6,mealPrice:140,image:"https://images.unsplash.com/photo-1550547660-d9450f859349?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxnb3VybWV0JTIwYnVyZ2VyfGVufDF8fHx8MTc2MDc1ODEwNHww&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Smoked Beef Burger",desc:"Premium beef patty with signature seasonings",price:85,smoked:!0,rating:4.7,mealPrice:140,image:"https://images.unsplash.com/photo-1550547660-d9450f859349?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxnb3VybWV0JTIwYnVyZ2VyfGVufDF8fHx8MTc2MDc1ODEwNHww&ixlib=rb-4.1.0&q=80&w=1080"}],fish:[{name:"Snoek Fish",desc:"Grilled to perfection",price:160,smoked:!1,rating:4.5,image:"https://images.unsplash.com/photo-1673646960049-2bfb54a22f4e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxncmlsbGVkJTIwZmlzaCUyMHBsYXRlfGVufDF8fHx8MTc2MDY5NzcwOXww&ixlib=rb-4.1.0&q=80&w=1080"}],beef:[{name:"Short Ribs",desc:"Served with Chips / Greek Salad",price:160,smoked:!1,rating:4.6,image:"https://images.unsplash.com/photo-1629600938295-080a35c50302?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxiZWVmJTIwc2hvcnQlMjByaWJzfGVufDF8fHx8MTc2MDc5NTczNXww&ixlib=rb-4.1.0&q=80&w=1080"}],sides:[{name:"Garlic Bread",price:35,image:"https://images.unsplash.com/photo-1573140401552-3fab0b24306f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxnYXJsaWMlMjBicmVhZHxlbnwxfHx8fDE3NjA3OTU3MzZ8MA&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Chips",price:35,image:"https://images.unsplash.com/photo-1605262157780-8910063b2bf9?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmcmVuY2glMjBmcmllcyUyMGNoaXBzfGVufDF8fHx8MTc2MDc5NTczNXww&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Greek Salad",price:35,image:"https://images.unsplash.com/photo-1606735584785-1848fdcaea57?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxncmVlayUyMHNhbGFkfGVufDF8fHx8MTc2MDc5NTczNnww&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Garlic Bun",price:15,image:"https://images.unsplash.com/photo-1573140401552-3fab0b24306f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxnYXJsaWMlMjBicmVhZHxlbnwxfHx8fDE3NjA3OTU3MzZ8MA&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Chakalaka",price:15,image:"https://images.unsplash.com/photo-1606735584785-1848fdcaea57?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxncmVlayUyMHNhbGFkfGVufDF8fHx8MTc2MDc5NTczNnww&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Chilli Sauce",price:15,image:"https://images.unsplash.com/photo-1606735584785-1848fdcaea57?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxncmVlayUyMHNhbGFkfGVufDF8fHx8MTc2MDc5NTczNnww&ixlib=rb-4.1.0&q=80&w=1080"}],pizza:[{name:"Margarita",desc:"Tomato and Mozzarella",price:90,image:"https://images.unsplash.com/photo-1574071318508-1cdbab80d002?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtYXJnaGVyaXRhJTIwcGl6emF8ZW58MXx8fHwxNzYwNzMxNjcxfDA&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Regina",desc:"Ham, Mushroom and Mozzarella",price:105,image:"https://images.unsplash.com/photo-1574071318508-1cdbab80d002?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtYXJnaGVyaXRhJTIwcGl6emF8ZW58MXx8fHwxNzYwNzMxNjcxfDA&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Hawaiian",desc:"Ham, Pineapple and Mozzarella",price:105,image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxoYXdhaWlhbiUyMHBpenphfGVufDF8fHx8MTc2MDc2NzQ5OHww&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Bacon Fetta and Avo",desc:"Bacon, Fetta cheese, Avo & Mozzarella",price:130,image:"https://images.unsplash.com/photo-1574071318508-1cdbab80d002?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtYXJnaGVyaXRhJTIwcGl6emF8ZW58MXx8fHwxNzYwNzMxNjcxfDA&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Chicken and Mushroom",desc:"Chicken, Mushroom and Mozzarella",price:145,image:"https://images.unsplash.com/photo-1574071318508-1cdbab80d002?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtYXJnaGVyaXRhJTIwcGl6emF8ZW58MXx8fHwxNzYwNzMxNjcxfDA&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Chicken Mayo",desc:"Chicken, Bacon, Caramelized Onion, Mayo and mozzarella",price:150,image:"https://images.unsplash.com/photo-1574071318508-1cdbab80d002?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtYXJnaGVyaXRhJTIwcGl6emF8ZW58MXx8fHwxNzYwNzMxNjcxfDA&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Pepperoni",desc:"Salami and Mozzarella",price:105,image:"https://images.unsplash.com/photo-1574071318508-1cdbab80d002?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtYXJnaGVyaXRhJTIwcGl6emF8ZW58MXx8fHwxNzYwNzMxNjcxfDA&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Smokey Junk",desc:"Chicken, ham, bacon, mushroom, mixed peppers, sweet peppers, Olives, bbq sauce and Mozzarella",price:170,image:"https://images.unsplash.com/photo-1574071318508-1cdbab80d002?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtYXJnaGVyaXRhJTIwcGl6emF8ZW58MXx8fHwxNzYwNzMxNjcxfDA&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Thai Sweet Chilli",desc:"Chicken, Spring Onion, Sweet Peppers, Pineapple, Sweet chilli sauce and mozzarella",price:150,image:"https://images.unsplash.com/photo-1574071318508-1cdbab80d002?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtYXJnaGVyaXRhJTIwcGl6emF8ZW58MXx8fHwxNzYwNzMxNjcxfDA&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Chicken Prego",desc:"Chicken, Mixed Peppers, Mushrooms, Prego sauce and mozzarella",price:150,image:"https://images.unsplash.com/photo-1574071318508-1cdbab80d002?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtYXJnaGVyaXRhJTIwcGl6emF8ZW58MXx8fHwxNzYwNzMxNjcxfDA&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Chicken, Bacon and Mushroom",desc:"Chicken, Bacon, Mushroom, Barbecue sauce",price:160,image:"https://images.unsplash.com/photo-1574071318508-1cdbab80d002?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtYXJnaGVyaXRhJTIwcGl6emF8ZW58MXx8fHwxNzYwNzMxNjcxfDA&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Santorino",desc:"Salami, Mushroom, Olives, Red Onion, Feta cheese and Mozzarella",price:150,image:"https://images.unsplash.com/photo-1574071318508-1cdbab80d002?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtYXJnaGVyaXRhJTIwcGl6emF8ZW58MXx8fHwxNzYwNzMxNjcxfDA&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Vegetarian",desc:"Mushroom, Olives, Fetta cheese, Red Onion and Mozzarella",price:110,image:"https://images.unsplash.com/photo-1574071318508-1cdbab80d002?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtYXJnaGVyaXRhJTIwcGl6emF8ZW58MXx8fHwxNzYwNzMxNjcxfDA&ixlib=rb-4.1.0&q=80&w=1080"}],subs:[{name:"Smokey Junk Sub",desc:"Garlic Loaf stuffed with pork mix, beef, chicken and mozzarella cheese",price:180,image:"https://images.unsplash.com/photo-1550547660-d9450f859349?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxnb3VybWV0JTIwYnVyZ2VyfGVufDF8fHx8MTc2MDc1ODEwNHww&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Smokey Junk Sub (Non Pork)",desc:"Garlic Loaf stuffed with beef, chicken and mozzarella cheese",price:160,image:"https://images.unsplash.com/photo-1550547660-d9450f859349?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxnb3VybWV0JTIwYnVyZ2VyfGVufDF8fHx8MTc2MDc1ODEwNHww&ixlib=rb-4.1.0&q=80&w=1080"}],platters:[{name:"Smokey Platter for 1",desc:"Quarter Chicken, Half Rack Ribs, Garlic bun or Chips or Greek Salad",price:190,serves:"1",rating:4.6,image:"https://images.unsplash.com/photo-1575178018553-5b4e17b751be?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmb29kJTIwcGxhdHRlciUyMGZlYXN0fGVufDF8fHx8MTc2MDc5NTczNnww&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Smokey Platter for 2",desc:"2 Quarter Chickens, Half Rack Ribs, 2 Garlic buns or chips or Greek salad",price:300,serves:"2",rating:4.7,image:"https://images.unsplash.com/photo-1575178018553-5b4e17b751be?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmb29kJTIwcGxhdHRlciUyMGZlYXN0fGVufDF8fHx8MTc2MDc5NTczNnww&ixlib=rb-4.1.0&q=80&w=1080"},{name:"BM Platter",desc:"Half Chicken, Beef Short Ribs, Pork Neck or Snoek Fish, Chips or Salad",price:400,serves:"3-4",rating:4.8,image:"https://images.unsplash.com/photo-1575178018553-5b4e17b751be?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmb29kJTIwcGxhdHRlciUyMGZlYXN0fGVufDF8fHx8MTc2MDc5NTczNnww&ixlib=rb-4.1.0&q=80&w=1080"},{name:"SMOKEVILLE Non-Pork Platter",desc:"Smoked Full Chicken, Snoek Fish, Beef short ribs, 6 Winglets, Chips, Greek Salad, Garlic bun, Chakalaka & Chilli Sauce",price:1e3,serves:"5-6",featured:!0,rating:4.9,image:"https://images.unsplash.com/photo-1575178018553-5b4e17b751be?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmb29kJTIwcGxhdHRlciUyMGZlYXN0fGVufDF8fHx8MTc2MDc5NTczNnww&ixlib=rb-4.1.0&q=80&w=1080"},{name:"SMOKEVILLE Platter",desc:"Smoked Full Chicken, Snoek Fish, Beef short ribs, Pork ribs, Eisbein, Chips, Greek Salad, Garlic Loaf, Chakalaka & Chilli Sauce",price:1500,serves:"7-10",featured:!0,rating:5,image:"https://images.unsplash.com/photo-1575178018553-5b4e17b751be?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmb29kJTIwcGxhdHRlciUyMGZlYXN0fGVufDF8fHx8MTc2MDc5NTczNnww&ixlib=rb-4.1.0&q=80&w=1080"}]};return l.jsxs("div",{className:"min-h-screen",children:[l.jsxs("section",{className:"relative h-[50vh] flex items-center justify-center overflow-hidden",style:{backgroundImage:"url(https://images.unsplash.com/photo-1594266063697-304befca9629?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxncmlsbGVkJTIwcmlicyUyMHNtb2tlfGVufDF8fHx8MTc2MDcwMDQwOXww&ixlib=rb-4.1.0&q=80&w=1080)",backgroundSize:"cover",backgroundPosition:"center"},children:[l.jsx("div",{className:"absolute inset-0 bg-[#121212]/70"}),l.jsx(K.div,{className:"absolute inset-0 opacity-30",animate:{x:[-100,100,-100],opacity:[.2,.4,.2]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},style:{background:"radial-gradient(circle at 50% 50%, rgba(203, 161, 53, 0.4) 0%, transparent 70%)"}}),l.jsxs("div",{className:"relative z-10 text-center",children:[l.jsx(K.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-5xl md:text-6xl mb-4 text-[#F5F5F5] drop-shadow-[0_4px_12px_rgba(0,0,0,0.9)]",children:"Our Menu"}),l.jsx(K.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-xl text-[#F5F5F5] px-4 py-2 bg-[#121212]/60 rounded-lg inline-block",children:"Crafted with passion, served with pride"})]})]}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8 md:py-12",children:l.jsxs(Rc,{defaultValue:"poultry",className:"w-full",children:[l.jsx(Pc,{className:"grid w-full grid-cols-3 sm:grid-cols-4 lg:grid-cols-9 mb-8 md:mb-12 bg-[#1a1a1a] p-1 gap-1 sm:gap-2",children:["Poultry","Pork","Mains","Burgers","Pizza","Subs","Platters","Sides","Beef/Fish"].map(y=>l.jsx(An,{value:y.toLowerCase().replace("/","-"),className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#CBA135] data-[state=active]:to-[#B36A2E] data-[state=active]:text-[#121212] transition-all text-xs sm:text-sm px-2 py-2",children:y},y))}),l.jsx(lt,{value:"poultry",children:g.poultry.map((y,v)=>l.jsxs("div",{className:"mb-12 md:mb-16",children:[l.jsx("h3",{className:"text-2xl sm:text-3xl text-[#CBA135] mb-6 md:mb-8 text-center",children:y.category}),l.jsx(Ea,{items:y.items,selectedMeals:e,toggleMeal:c,onAddToCart:u,onViewDetails:m})]},v))}),l.jsx(lt,{value:"pork",children:l.jsx(Ea,{items:g.pork,selectedMeals:e,toggleMeal:c,onAddToCart:u,onViewDetails:m})}),l.jsx(lt,{value:"mains",children:l.jsx(Ea,{items:g.mains,selectedMeals:e,toggleMeal:c,onAddToCart:u,onViewDetails:m})}),l.jsxs(lt,{value:"burgers",children:[l.jsx("div",{className:"mb-6 md:mb-8 text-center bg-[#CBA135]/10 border border-[#CBA135]/30 rounded-xl p-4 mx-4 md:mx-0",children:l.jsxs("p",{className:"text-[#F5F5F5]/90 text-sm sm:text-base md:text-lg",children:[" ",l.jsx("span",{className:"text-[#CBA135] font-semibold",children:"Make it a meal:"})," Add chips, egg & double cheese for R140"]})}),l.jsx(Ea,{items:g.burgers,selectedMeals:e,toggleMeal:c,isBurger:!0,onAddToCart:u,onViewDetails:m})]}),l.jsxs(lt,{value:"pizza",children:[l.jsx(K.div,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 opacity-5 pointer-events-none z-0",animate:{rotate:360},transition:{duration:30,repeat:1/0,ease:"linear"},children:l.jsx("div",{className:"text-[20rem]",children:""})}),l.jsx("div",{className:"relative z-10",children:l.jsx(Ea,{items:g.pizza,selectedMeals:e,toggleMeal:c,onAddToCart:u,onViewDetails:m})})]}),l.jsx(lt,{value:"subs",children:l.jsx(Ea,{items:g.subs,selectedMeals:e,toggleMeal:c,onAddToCart:u,onViewDetails:m})}),l.jsx(lt,{value:"platters",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:g.platters.map((y,v)=>l.jsx(dW,{item:y,index:v,onAddToCart:u},v))})}),l.jsx(lt,{value:"sides",children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:g.sides.map((y,v)=>l.jsx(hW,{item:y,index:v,onAddToCart:u},v))})}),l.jsx(lt,{value:"beef-fish",children:l.jsx(Ea,{items:[...g.beef,...g.fish],selectedMeals:e,toggleMeal:c,onAddToCart:u,onViewDetails:m})})]})}),r&&l.jsx(cW,{item:r,isOpen:!!r,onClose:()=>s(null),onAddToCart:(y,v)=>{for(let _=0;_<v;_++)u({name:y.name,price:y.price,image:y.image,category:"menu"});s(null)}})]})}function Ea({items:t,selectedMeals:e,toggleMeal:n,isBurger:r=!1,onAddToCart:s,onViewDetails:o}){return l.jsx("div",{className:"relative py-12",children:t.map((c,u)=>{const h=u%2===0,m=e[c.name],g=r&&m&&c.mealPrice?c.mealPrice:c.price;return l.jsxs(K.div,{initial:{opacity:0,x:h?-100:100},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.3},transition:{duration:.8,delay:u*.1},className:`relative flex flex-col md:flex-row items-center gap-6 md:gap-8 mb-16 md:mb-24 ${h?"md:flex-row":"md:flex-row-reverse"}`,children:[l.jsx(K.div,{className:"relative flex-shrink-0",whileHover:{scale:1.05},transition:{duration:.3},children:l.jsxs("div",{className:"relative w-40 h-40 sm:w-48 sm:h-48 md:w-64 md:h-64",children:[l.jsx(K.div,{className:"absolute inset-0 rounded-full border-2 border-[#CBA135]/30",animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"}}),l.jsx(K.div,{className:"absolute inset-2 rounded-full border border-[#CBA135]/50",animate:{rotate:-360},transition:{duration:15,repeat:1/0,ease:"linear"}}),l.jsx("div",{className:"absolute inset-3 sm:inset-4 rounded-full overflow-hidden border-4 border-[#121212] shadow-2xl",children:l.jsx(Dn,{src:c.image||"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=400",alt:c.name,className:"w-full h-full object-cover"})}),l.jsx(K.div,{className:"absolute -bottom-3 sm:-bottom-4 left-1/2 -translate-x-1/2 bg-gradient-to-r from-[#CBA135] to-[#B36A2E] px-3 sm:px-4 py-1.5 sm:py-2 rounded-full shadow-lg z-10",whileHover:{scale:1.1},children:l.jsxs("span",{className:"text-[#121212] text-sm sm:text-base font-semibold",children:["R",g]})})]})}),l.jsxs("div",{className:"flex-1 relative w-full",children:[l.jsxs("svg",{className:"hidden md:block absolute top-1/2 -translate-y-1/2 w-full h-32 pointer-events-none",style:{left:h?"0":"auto",right:h?"auto":"0"},children:[l.jsx(K.path,{d:h?"M 0 64 Q 50 20, 100 64 T 200 64":"M 200 64 Q 150 20, 100 64 T 0 64",stroke:"#CBA135",strokeWidth:"2",fill:"none",strokeDasharray:"5,5",initial:{pathLength:0},whileInView:{pathLength:1},viewport:{once:!0},transition:{duration:1.5,delay:u*.1}}),l.jsx("circle",{cx:"100",cy:"64",r:"4",fill:"#CBA135"}),l.jsx("circle",{cx:h?"50":"150",cy:"40",r:"3",fill:"#CBA135",opacity:"0.7"})]}),l.jsxs(K.div,{className:"bg-[#1a1a1a] rounded-2xl p-4 sm:p-6 border border-[#CBA135]/20 hover:border-[#CBA135] transition-all shadow-xl w-full",whileHover:{y:-5,boxShadow:"0 20px 40px rgba(203,161,53,0.3)"},children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("h3",{className:"text-lg sm:text-xl md:text-2xl text-[#F5F5F5] flex items-center gap-2 flex-1",children:[c.name,c.smoked&&l.jsx(K.span,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},children:l.jsx(Bm,{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-500"})})]}),l.jsxs("span",{className:"md:hidden text-[#CBA135] text-lg font-semibold ml-2",children:["R",g]})]}),c.desc&&l.jsx("p",{className:"text-[#F5F5F5]/70 text-sm sm:text-base mb-3",children:c.desc}),c.rating&&l.jsxs("div",{className:"flex items-center gap-1 mb-4",children:[l.jsx(GI,{rating:c.rating}),l.jsxs("span",{className:"text-[#F5F5F5]/60 text-xs sm:text-sm ml-1",children:["(",c.rating,")"]})]}),r&&c.mealPrice&&l.jsxs(K.button,{onClick:()=>n(c.name),className:`w-full mb-4 p-2.5 sm:p-3 rounded-lg border-2 transition-all flex items-center justify-between ${m?"border-[#CBA135] bg-[#CBA135]/10":"border-[#CBA135]/30 hover:border-[#CBA135]/50"}`,whileTap:{scale:.98},children:[l.jsxs("span",{className:"text-[#F5F5F5] text-sm sm:text-base",children:["Make it a meal ",l.jsxs("span",{className:"text-[#CBA135]",children:["+R",c.mealPrice-c.price]})]}),l.jsx("div",{className:`w-5 h-5 sm:w-6 sm:h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${m?"border-[#CBA135] bg-[#CBA135]":"border-[#CBA135]/50"}`,children:m&&l.jsx(Vm,{className:"w-3 h-3 sm:w-4 sm:h-4 text-[#121212]"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs(ze,{onClick:()=>o?.(c),variant:"outline",className:"border-[#CBA135] text-[#CBA135] hover:bg-[#CBA135]/10 text-sm sm:text-base py-2 sm:py-3",children:[l.jsx(fP,{className:"w-4 h-4 mr-2"}),"Details"]}),l.jsxs(Am,{onClick:()=>s(c,r&&m),className:"text-sm sm:text-base py-2 sm:py-3",children:[l.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Add"]})]})]})]}),c.smoked&&l.jsx(K.div,{className:"hidden md:block absolute top-0 text-4xl opacity-20",style:{left:h?"40%":"60%"},animate:{y:[0,-20,0],opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0,delay:u*.3},children:""})]},u)})})}function dW({item:t,index:e,onAddToCart:n}){const r=A.useRef(null),s=ps(r,{once:!0,amount:.3});return l.jsxs(K.div,{ref:r,initial:{y:30,opacity:0},animate:s?{y:0,opacity:1}:{},transition:{duration:.6,delay:e*.1},className:`bg-[#1a1a1a] rounded-2xl overflow-hidden hover:ring-2 hover:ring-[#CBA135] transition-all group relative ${t.featured?"ring-2 ring-[#CBA135]/50":""}`,whileHover:{scale:1.02},children:[l.jsxs("div",{className:"relative h-48 sm:h-56 md:h-64 overflow-hidden",children:[l.jsx(Dn,{src:t.image,alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#121212] via-[#121212]/50 to-transparent"}),t.featured&&l.jsx(It,{className:"absolute top-3 sm:top-4 right-3 sm:right-4 bg-[#CBA135] text-[#121212] text-xs sm:text-sm",children:"Featured"})]}),l.jsxs("div",{className:"p-4 sm:p-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3 mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl sm:text-2xl text-[#F5F5F5] mb-2",children:t.name}),l.jsxs(It,{className:"bg-[#CBA135]/20 text-[#CBA135] border border-[#CBA135] text-xs sm:text-sm",children:["Serves ",t.serves]})]}),l.jsxs("span",{className:"text-xl sm:text-2xl text-[#CBA135] font-semibold",children:["R",t.price]})]}),l.jsx("p",{className:"text-[#F5F5F5]/70 text-sm mb-3",children:t.desc}),t.rating&&l.jsxs("div",{className:"flex items-center gap-1 mb-4",children:[l.jsx(GI,{rating:t.rating}),l.jsxs("span",{className:"text-[#F5F5F5]/60 text-xs sm:text-sm ml-1",children:["(",t.rating,")"]})]}),l.jsxs(ze,{onClick:()=>n(t,!1),className:"w-full bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212] text-sm sm:text-base",children:[l.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Add to Order"]})]})]})}function hW({item:t,index:e,onAddToCart:n}){const r=A.useRef(null),s=ps(r,{once:!0,amount:.3});return l.jsxs(K.div,{ref:r,initial:{scale:0,opacity:0},animate:s?{scale:1,opacity:1}:{},transition:{duration:.4,delay:e*.05},className:"bg-[#1a1a1a] rounded-xl overflow-hidden hover:ring-2 hover:ring-[#CBA135] transition-all group",whileHover:{y:-5},children:[l.jsxs("div",{className:"relative h-24 sm:h-32 overflow-hidden",children:[l.jsx(Dn,{src:t.image||"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=400",alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#121212] to-transparent"})]}),l.jsxs("div",{className:"p-3 sm:p-4",children:[l.jsx("h4",{className:"text-[#F5F5F5] text-sm sm:text-base mb-1 sm:mb-2 text-center",children:t.name}),l.jsxs("p",{className:"text-[#CBA135] font-semibold text-sm sm:text-base mb-3 text-center",children:["R",t.price]}),l.jsxs(ze,{onClick:()=>n(t,!1),size:"sm",className:"w-full bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212] text-xs",children:[l.jsx(b0,{className:"w-3 h-3 mr-1"}),"Add"]})]})]})}function GI({rating:t}){const e=Math.floor(t),n=t%1>=.5;return l.jsx("div",{className:"flex items-center gap-0.5",children:[...Array(5)].map((r,s)=>s<e?l.jsx(pt,{className:"w-4 h-4 fill-[#CBA135] text-[#CBA135]"},s):s===e&&n?l.jsxs("div",{className:"relative w-4 h-4",children:[l.jsx(pt,{className:"w-4 h-4 text-[#CBA135]/30 absolute"}),l.jsx("div",{className:"overflow-hidden w-1/2",children:l.jsx(pt,{className:"w-4 h-4 fill-[#CBA135] text-[#CBA135]"})})]},s):l.jsx(pt,{className:"w-4 h-4 text-[#CBA135]/30"},s))})}function fW(){const[t,e]=A.useState(null),[n,r]=A.useState(null),{addItem:s}=Ec(),o=(u,h=!1)=>{const m=h&&u.glass?u.glass:u.price,g=h?`${u.name} (Glass)`:u.name;s({id:`${u.name}-${h?"glass":"bottle"}-${Date.now()}`,name:g,price:m,category:"Drinks"}),Ee.success(`${g} added to cart!`,{description:`R${m}`,duration:2e3})},c={redWines:[{name:"Meerlust Cabernet Sauvignon",price:700,type:"Cabernet"},{name:"Meerlust Merlot",price:700,type:"Merlot"},{name:"Meerlust Rubicon",price:900,type:"Blend"},{name:"Morgenster",price:470,type:"Blend"},{name:"Rupert & Rothschild Classique",price:400,glass:85,type:"Blend"},{name:"Rupert & Rothschild Baron Edmond",price:1600,type:"Premium"},{name:"Seriously Old Dirt",price:500,type:"Premium"},{name:"The Work Of Time",price:450,type:"Premium"},{name:"Rust en Vrede Cabernet Sauvignon",price:800,type:"Cabernet"},{name:"Rust en Vrede Estate",price:1e3,type:"Estate"},{name:"Optima",price:450,type:"Blend"},{name:"Chocolate Block",price:450,type:"Blend"},{name:"Kanonkop Cape Blend",price:250,type:"Blend"},{name:"Kanonkop Kadette",price:300,type:"Blend"},{name:"Kanonkop Cabernet",price:350,type:"Cabernet"},{name:"Kanonkop Estate Pinotage",price:950,type:"Pinotage"}],whiteWines:[{name:"Durbanville Rose",price:180,glass:60},{name:"Durbanville Sauvignon Blanc",price:190,glass:65},{name:"Boschendal",price:300},{name:"Haute Cabriere",price:200},{name:"Creation",price:400},{name:"Spier",price:190,glass:65},{name:"Wild Yeast Springfield",price:350},{name:"Hartenberg",price:300},{name:"Babylonstoren",price:600},{name:"Rupert & Rothschild Baron Nadine",price:600},{name:"Cederberg Chenin Blanc",price:230},{name:"Cederberg V Generation",price:650},{name:"Boer Maak n Plaan",price:540},{name:"The FMC",price:1500}],bubbly:[{name:"Boschendal Brut",price:380},{name:"Boschendal Luxe Nectar",price:380},{name:"Graham Beck Bliss Nectar",price:380},{name:"Graham Beck Brut Rose",price:380},{name:"Krone Brut",price:380},{name:"Krone Night Nectar",price:380},{name:"Pongraz Brut",price:350},{name:"GH Mumm Brut",price:1400,premium:!0},{name:"GH Mumm Demisec",price:1800,premium:!0},{name:"Mot Chandon Brut",price:1150,premium:!0},{name:"Mot Imperial Nectar",price:1480,premium:!0},{name:"Mot Rose Imperial",price:1680,premium:!0},{name:"Veuve Clicquot Brut",price:1500,premium:!0},{name:"Veuve Rich",price:1850,premium:!0}],liqueur:[{name:"Jagermeister",price:550},{name:"Amarula",price:259}],tequila:[{name:"Don Julio Reposado",price:500,tot:90},{name:"Jose Cuervo (Gold/Silver)",price:500,tot:39},{name:"Olmeca (Gold/Silver)",price:null,tot:30}],shooters:[{name:"Blowjob",price:40},{name:"Blowjob With Teeth",price:45},{name:"Blue Kamikaze",price:40},{name:"Flaming Lamborghini",price:90},{name:"Suitcase",price:45},{name:"Springbok",price:45},{name:"Liquid Cocaine",price:50},{name:"Side Kick",price:45}],bitters:[{name:"Underberg",price:45}]};return l.jsxs("div",{className:"min-h-screen",children:[l.jsxs("section",{className:"relative h-[50vh] flex items-center justify-center overflow-hidden",children:[l.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",children:l.jsx("source",{src:"https://assets.mixkit.co/videos/preview/mixkit-bar-with-liquor-bottles-and-lights-4019-large.mp4",type:"video/mp4"})}),l.jsx("div",{className:"absolute inset-0 bg-[#121212]/70"}),l.jsx(K.div,{className:"absolute bottom-0 left-0 right-0 h-1/2 opacity-30",animate:{opacity:[.2,.5,.2],scale:[1,1.1,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},style:{background:"linear-gradient(to top, rgba(203, 161, 53, 0.3), transparent)"}}),l.jsxs("div",{className:"relative z-10 text-center",children:[l.jsxs(K.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-5xl md:text-6xl mb-4 text-[#F5F5F5] flex items-center justify-center gap-4",children:[l.jsx(Jb,{className:"w-16 h-16"}),"Drinks Menu"]}),l.jsx(K.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-xl text-[#CBA135]",children:"Premium Selection of Wines & Spirits"})]})]}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12",children:l.jsxs(Rc,{defaultValue:"red",className:"w-full",children:[l.jsx(Pc,{className:"grid w-full grid-cols-2 md:grid-cols-4 lg:grid-cols-8 mb-12 bg-[#1a1a1a] p-1 gap-2",children:["Red Wine","White Wine","Bubbly","Liqueur","Tequila","Shooters","Bitters"].map(u=>l.jsx(An,{value:u.toLowerCase().replace(" ","-"),className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#CBA135] data-[state=active]:to-[#B36A2E] data-[state=active]:text-[#121212]",children:u},u))}),l.jsx(lt,{value:"red-wine",children:l.jsx(NN,{title:"RED WINES",wines:c.redWines,onSelect:e,onHover:r,hoveredBottle:n,onAddToCart:o})}),l.jsx(lt,{value:"white-wine",children:l.jsx(NN,{title:"WHITE WINES",wines:c.whiteWines,onSelect:e,onHover:r,hoveredBottle:n,color:"white",onAddToCart:o})}),l.jsx(lt,{value:"bubbly",children:l.jsx(mW,{wines:c.bubbly,onSelect:e,onHover:r,hoveredBottle:n,onAddToCart:o})}),l.jsx(lt,{value:"liqueur",children:l.jsx(AN,{title:"LIQUEUR",items:c.liqueur,onAddToCart:o})}),l.jsx(lt,{value:"tequila",children:l.jsx(pW,{items:c.tequila,onAddToCart:o})}),l.jsx(lt,{value:"shooters",children:l.jsx(gW,{items:c.shooters,onAddToCart:o})}),l.jsx(lt,{value:"bitters",children:l.jsx(AN,{title:"BITTERS",items:c.bitters,onAddToCart:o})})]})}),l.jsx(ei,{children:t&&l.jsx(HI,{open:!!t,onOpenChange:()=>e(null),children:l.jsxs($I,{className:"bg-[#1a1a1a] border-[#CBA135]/30 text-[#F5F5F5]",children:[l.jsx(aW,{children:l.jsxs(WI,{className:"text-2xl text-[#CBA135] flex items-center gap-2",children:[l.jsx(Jb,{className:"w-6 h-6"}),t.name]})}),l.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[l.jsxs("div",{className:"relative h-48 flex items-end justify-center",children:[l.jsx(K.div,{className:"absolute bottom-0 w-20 bg-gradient-to-t from-red-900 to-red-600 rounded-b-full",initial:{height:0},animate:{height:"80%"},transition:{duration:2,ease:"easeOut"}}),l.jsx("div",{className:"relative z-10 text-7xl",children:""})]}),l.jsxs("div",{className:"space-y-2",children:[t.type&&l.jsxs("p",{className:"text-[#F5F5F5]/80",children:[l.jsx("strong",{children:"Type:"})," ",t.type]}),l.jsxs("p",{className:"text-2xl text-[#CBA135]",children:["Bottle: R",t.price]}),t.glass&&l.jsxs("p",{className:"text-xl text-[#CBA135]/80",children:["Glass: R",t.glass]})]}),l.jsxs("div",{className:"flex gap-2",children:[t.glass&&l.jsxs(ze,{onClick:()=>o(t,!0),className:"flex-1 bg-gradient-to-r from-[#CBA135]/70 to-[#B36A2E]/70 hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212]",children:[l.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Glass"]}),l.jsxs(ze,{onClick:()=>o(t,!1),className:"flex-1 bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212]",children:[l.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Bottle"]})]})]})]})})})]})}function NN({title:t,wines:e,onSelect:n,onHover:r,hoveredBottle:s,color:o="red",onAddToCart:c}){const u=A.useRef(null),h=ps(u,{once:!0,amount:.2});return l.jsxs(K.div,{ref:u,initial:{x:o==="white"?100:-100,opacity:0},animate:h?{x:0,opacity:1}:{},transition:{duration:.8},className:"relative",children:[l.jsx(K.div,{className:"absolute top-0 left-1/2 -translate-x-1/2 w-64 h-64 opacity-10 pointer-events-none",animate:{scaleY:[0,1,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},style:{background:`radial-gradient(ellipse at top, ${o==="red"?"rgba(139, 0, 0, 0.5)":"rgba(255, 215, 0, 0.5)"}, transparent)`}}),l.jsx("h2",{className:"text-4xl mb-8 text-[#CBA135]",children:t}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((m,g)=>l.jsxs(K.div,{initial:{y:30,opacity:0},animate:h?{y:0,opacity:1}:{},transition:{duration:.6,delay:g*.05},onMouseEnter:()=>r(m.name),onMouseLeave:()=>r(null),onClick:()=>n(m),className:"bg-[#1a1a1a] rounded-xl p-6 hover:ring-2 hover:ring-[#CBA135] transition-all cursor-pointer group",whileHover:{scale:1.05},children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg text-[#F5F5F5] group-hover:text-[#CBA135] transition-colors",children:m.name}),m.type&&l.jsx(It,{variant:"outline",className:"mt-1 border-[#CBA135]/30 text-[#CBA135]/80",children:m.type})]}),l.jsx(K.div,{animate:s===m.name?{rotate:[0,-10,10,0]}:{},transition:{duration:.5},className:"text-3xl",children:""})]}),l.jsxs("div",{className:"mt-3 space-y-2",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-[#CBA135] text-lg",children:["R",m.price]}),m.glass&&l.jsxs("p",{className:"text-[#CBA135]/70 text-sm",children:["R",m.glass," / glass"]})]}),l.jsxs(ze,{onClick:y=>{y.stopPropagation(),c(m,!1)},size:"sm",className:"w-full bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212]",children:[l.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Add Bottle"]})]})]},g))})]})}function mW({wines:t,onSelect:e,onHover:n,hoveredBottle:r,onAddToCart:s}){const o=A.useRef(null),c=ps(o,{once:!0,amount:.2});return l.jsxs(K.div,{ref:o,initial:{scale:.9,opacity:0},animate:c?{scale:1,opacity:1}:{},transition:{duration:.8},children:[l.jsxs("h2",{className:"text-4xl mb-8 text-[#CBA135] flex items-center gap-3",children:[l.jsx(zr,{className:"w-10 h-10"}),"BUBBLY"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map((u,h)=>l.jsxs(K.div,{initial:{y:30,opacity:0},animate:c?{y:0,opacity:1}:{},transition:{duration:.6,delay:h*.05},onMouseEnter:()=>n(u.name),onMouseLeave:()=>n(null),onClick:()=>e(u),className:`bg-[#1a1a1a] rounded-xl p-6 hover:ring-2 hover:ring-[#CBA135] transition-all cursor-pointer group relative overflow-hidden ${u.premium?"ring-1 ring-[#CBA135]/50":""}`,whileHover:{scale:1.05},children:[u.premium&&l.jsx(K.div,{className:"absolute top-0 right-0 w-full h-full opacity-20 pointer-events-none",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:3,repeat:1/0,ease:"linear"},style:{background:"linear-gradient(45deg, transparent 30%, rgba(255, 215, 0, 0.5) 50%, transparent 70%)",backgroundSize:"200% 200%"}}),l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg text-[#F5F5F5] group-hover:text-[#CBA135] transition-colors",children:u.name}),u.premium&&l.jsx(It,{className:"mt-1 bg-[#CBA135] text-[#121212]",children:"Premium"})]}),l.jsx(K.div,{animate:r===u.name?{y:[-2,2,-2]}:{},transition:{duration:.3,repeat:1/0},className:"text-3xl",children:""})]}),l.jsxs("div",{className:"mt-3 space-y-2",children:[l.jsxs("p",{className:"text-[#CBA135] text-lg",children:["R",u.price]}),l.jsxs(ze,{onClick:m=>{m.stopPropagation(),s(u,!1)},size:"sm",className:"w-full bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212]",children:[l.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Add to Cart"]})]})]},h))})]})}function AN({title:t,items:e,onAddToCart:n}){const r=A.useRef(null),s=ps(r,{once:!0,amount:.3});return l.jsxs(K.div,{ref:r,initial:{opacity:0},animate:s?{opacity:1}:{},transition:{duration:.8},children:[l.jsx("h2",{className:"text-4xl mb-8 text-[#CBA135]",children:t}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map((o,c)=>l.jsxs(K.div,{initial:{scale:0},animate:s?{scale:1}:{},transition:{duration:.5,delay:c*.1},className:"bg-[#1a1a1a] rounded-xl p-8 text-center",whileHover:{rotate:5,scale:1.1},children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h3",{className:"text-xl text-[#F5F5F5] mb-2",children:o.name}),l.jsxs("p",{className:"text-2xl text-[#CBA135] mb-3",children:["R",o.price]}),l.jsxs(ze,{onClick:()=>n(o,!1),size:"sm",className:"w-full bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212]",children:[l.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Add"]})]},c))})]})}function pW({items:t,onAddToCart:e}){const n=A.useRef(null),r=ps(n,{once:!0,amount:.3});return l.jsxs(K.div,{ref:n,initial:{opacity:0},animate:r?{opacity:1}:{},transition:{duration:.8},children:[l.jsx("h2",{className:"text-4xl mb-8 text-[#CBA135]",children:"TEQUILA"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map((s,o)=>l.jsxs(K.div,{initial:{x:-50,opacity:0},animate:r?{x:0,opacity:1}:{},transition:{duration:.6,delay:o*.1},className:"bg-[#1a1a1a] rounded-xl p-6",whileHover:{y:-10},children:[l.jsx("div",{className:"text-5xl mb-4 text-center",children:""}),l.jsx("h3",{className:"text-xl text-[#F5F5F5] mb-2",children:s.name}),l.jsxs("div",{className:"space-y-2 mb-3",children:[s.price&&l.jsxs("p",{className:"text-[#CBA135]",children:["Bottle: R",s.price]}),s.tot&&l.jsxs("p",{className:"text-[#CBA135]/80",children:["Single Tot: R",s.tot]})]}),l.jsxs(ze,{onClick:()=>e(s,!1),size:"sm",className:"w-full bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212]",children:[l.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Add"]})]},o))})]})}function gW({items:t,onAddToCart:e}){const n=A.useRef(null),r=ps(n,{once:!0,amount:.3});return l.jsxs(K.div,{ref:n,initial:{opacity:0},animate:r?{opacity:1}:{},transition:{duration:.8},children:[l.jsx("h2",{className:"text-4xl mb-8 text-[#CBA135]",children:"SHOOTERS"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.map((s,o)=>l.jsxs(K.div,{initial:{scale:0,rotate:-180},animate:r?{scale:1,rotate:0}:{},transition:{duration:.5,delay:o*.05},className:"bg-[#1a1a1a] rounded-xl p-4 text-center hover:bg-[#CBA135]/10 transition-all",whileHover:{scale:1.1,rotate:[0,-5,5,0]},children:[l.jsx("div",{className:"text-3xl mb-2",children:""}),l.jsx("h4",{className:"text-sm text-[#F5F5F5] mb-1",children:s.name}),l.jsxs("p",{className:"text-[#CBA135] mb-2",children:["R",s.price]}),l.jsxs(ze,{onClick:()=>e(s,!1),size:"sm",className:"w-full bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212] text-xs py-1",children:[l.jsx(Gn,{className:"w-3 h-3 mr-1"}),"Add"]})]},o))})]})}function yW(){const{addItem:t}=Ec(),e=r=>{t({id:`${r.name}-${Date.now()}`,name:r.name,price:r.price,category:"Mogodu Monday"}),Ee.success(`${r.name} added to cart!`,{description:`R${r.price}`,duration:2e3})},n={meats:[{name:"Mogodu",price:90},{name:"Mleqwa (Hard Body)",price:90},{name:"Beef Trotters",price:50},{name:"Pork Trotters",price:50},{name:"Chicken Feet",price:25},{name:"Chicken Hearts and Gizzard",price:25}],combos:[{name:"Traditional Mix",price:100,desc:"2x meat, 2x veggies, 1x starch",featured:!1},{name:"2 Course Meal",price:140,desc:"2x meat, 2x veggies, 1x starch, plus heart gizzards, garlic roll starter",featured:!0}],veggies:[{name:"Cabbage",price:10},{name:"Butternut",price:10},{name:"Chakalaka",price:15},{name:"Atchaar",price:15}],starch:[{name:"Pap",price:20},{name:"Dumpling",price:20},{name:"Samp",price:20},{name:"Toasted Garlic Bread",price:5}]};return l.jsxs("div",{className:"min-h-screen",children:[l.jsxs("section",{className:"relative h-[60vh] flex items-center justify-center overflow-hidden",children:[l.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",children:l.jsx("source",{src:"https://assets.mixkit.co/videos/preview/mixkit-boiling-water-in-a-pot-4402-large.mp4",type:"video/mp4"})}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-amber-900/80 via-orange-900/70 to-[#121212]"}),l.jsx(K.div,{className:"absolute inset-0 opacity-30",animate:{y:[0,-50,0],opacity:[.2,.4,.2]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},style:{background:"radial-gradient(circle at 50% 100%, rgba(255, 255, 255, 0.5) 0%, transparent 60%)"}}),l.jsxs("div",{className:"relative z-10 text-center px-4",children:[l.jsx(K.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:1,type:"spring"},className:"mb-6",children:l.jsx(K.h1,{className:"text-6xl md:text-8xl mb-4 text-[#CBA135]",style:{fontFamily:"'Playfair Display', serif",fontWeight:700},animate:{scale:[1,1.02,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"Mogodu Monday"})}),l.jsx(K.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-2xl md:text-3xl text-amber-200 mb-6",children:"Traditional African Cuisine"}),l.jsxs(K.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.8,type:"spring"},className:"inline-flex items-center gap-3 bg-[#1a1a1a]/80 backdrop-blur-sm rounded-full px-6 py-3 border-2 border-[#CBA135]",children:[l.jsx(K.div,{animate:{rotate:360},transition:{duration:60,repeat:1/0,ease:"linear"},children:l.jsx(_d,{className:"w-6 h-6 text-[#CBA135]"})}),l.jsx("span",{className:"text-[#F5F5F5]",children:"Available Mondays 13:00  Close"})]})]})]}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[l.jsx(Af,{title:"Featured Meals",icon:"",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:n.combos.map((r,s)=>l.jsx(xW,{combo:r,index:s,onAddToCart:e},s))})}),l.jsx(Af,{title:"Meats",icon:"",children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:n.meats.map((r,s)=>l.jsx(Qy,{dish:r,index:s,onAddToCart:e},s))})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx(Af,{title:"Veggies",icon:"",children:l.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.veggies.map((r,s)=>l.jsx(Qy,{dish:r,index:s,type:"veggie",onAddToCart:e},s))})}),l.jsx(Af,{title:"Starch",icon:"",children:l.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.starch.map((r,s)=>l.jsx(Qy,{dish:r,index:s,type:"starch",onAddToCart:e},s))})})]}),l.jsx(K.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"mt-16 bg-gradient-to-r from-amber-900/20 to-orange-900/20 rounded-2xl p-8 border border-[#CBA135]/30",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h3",{className:"text-3xl mb-4 text-[#CBA135]",children:"A Taste of Tradition"}),l.jsx("p",{className:"text-[#F5F5F5]/80 text-lg max-w-3xl mx-auto",children:"Experience authentic South African traditional cuisine every Monday. Our Mogodu Monday special celebrates the rich culinary heritage of our culture, prepared with love and served with pride."})]})})]})]})}function Af({title:t,icon:e,children:n}){const r=A.useRef(null),s=ps(r,{once:!0,amount:.3});return l.jsxs(K.section,{ref:r,initial:{opacity:0},animate:s?{opacity:1}:{},transition:{duration:.8},className:"mb-12",children:[l.jsxs(K.h2,{className:"text-4xl mb-8 text-amber-600 flex items-center gap-3",initial:{x:-50,opacity:0},animate:s?{x:0,opacity:1}:{},transition:{duration:.6},children:[l.jsx("span",{className:"text-5xl",children:e}),t]}),n]})}function xW({combo:t,index:e,onAddToCart:n}){const r=A.useRef(null),s=ps(r,{once:!0,amount:.5});return l.jsxs(K.div,{ref:r,initial:{scale:.8,opacity:0,rotateY:-90},animate:s?{scale:1,opacity:1,rotateY:0}:{},transition:{duration:.8,delay:e*.2},className:`relative bg-gradient-to-br from-amber-900/30 to-orange-900/30 rounded-2xl p-8 border-2 overflow-hidden group ${t.featured?"border-[#CBA135]":"border-[#CBA135]/30"}`,whileHover:{scale:1.05,y:-10},children:[t.featured&&l.jsx(K.div,{className:"absolute top-0 right-0 w-full h-full opacity-20 pointer-events-none",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:3,repeat:1/0,ease:"linear"},style:{background:"linear-gradient(45deg, transparent 30%, rgba(203, 161, 53, 0.8) 50%, transparent 70%)",backgroundSize:"200% 200%"}}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl md:text-3xl text-[#F5F5F5] mb-2",children:t.name}),t.featured&&l.jsx(It,{className:"bg-[#CBA135] text-[#121212]",children:"Premium Choice"})]}),l.jsxs("span",{className:"text-3xl text-[#CBA135]",children:["R",t.price]})]}),l.jsx("p",{className:"text-[#F5F5F5]/80 mb-6",children:t.desc}),l.jsxs(ze,{onClick:()=>n(t),className:"w-full bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 text-[#121212] transition-all hover:shadow-[0_0_20px_rgba(251,191,36,0.4)]",children:[l.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Add to Cart"]})]})]})}function Qy({dish:t,index:e,type:n="meat",onAddToCart:r}){const s=A.useRef(null),o=ps(s,{once:!0,amount:.5}),c={meat:"",veggie:"",starch:""};return l.jsxs(K.div,{ref:s,initial:{y:50,opacity:0},animate:o?{y:0,opacity:1}:{},transition:{duration:.5,delay:e*.05},whileHover:{scale:1.1,rotate:[0,-2,2,0],boxShadow:"0 10px 30px rgba(251, 191, 36, 0.3)"},className:"bg-[#1a1a1a] rounded-xl p-4 text-center border border-[#CBA135]/20 hover:border-[#CBA135] transition-all",children:[l.jsx(K.div,{className:"text-4xl mb-2",animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0,delay:e*.1},children:c[n]}),l.jsx("h4",{className:"text-[#F5F5F5] mb-1 text-sm md:text-base",children:t.name}),l.jsxs("p",{className:"text-amber-500 mb-2",children:["R",t.price]}),l.jsxs(ze,{onClick:()=>r(t),size:"sm",className:"w-full bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212] text-xs py-1",children:[l.jsx(Gn,{className:"w-3 h-3 mr-1"}),"Add"]})]})}function vW(){const t=[{name:"Marcus Cole",role:"Head Chef",image:"https://images.unsplash.com/photo-1670819916552-67698b1c86ae?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjaGVmJTIwY29va2luZyUyMGZpcmV8ZW58MXx8fHwxNzYwNzAwNDEwfDA&ixlib=rb-4.1.0&q=80&w=1080"},{name:"Sarah Johnson",role:"Sommelier",image:"https://images.unsplash.com/photo-1620818309871-6255570324d5?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjb2NrdGFpbCUyMGJhciUyMGRhcmt8ZW58MXx8fHwxNzYwNzAwNDA5fDA&ixlib=rb-4.1.0&q=80&w=1080"},{name:"David Chen",role:"Grill Master",image:"https://images.unsplash.com/photo-1594266063697-304befca9629?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxncmlsbGVkJTIwcmlicyUyMHNtb2tlfGVufDF8fHx8MTc2MDcwMDQwOXww&ixlib=rb-4.1.0&q=80&w=1080"}];return l.jsxs("div",{className:"min-h-screen",children:[l.jsxs("section",{className:"relative h-[60vh] flex items-center justify-center",style:{backgroundImage:"url(https://images.unsplash.com/photo-1670819916552-67698b1c86ae?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjaGVmJTIwY29va2luZyUyMGZpcmV8ZW58MXx8fHwxNzYwNzAwNDEwfDA&ixlib=rb-4.1.0&q=80&w=1080)",backgroundSize:"cover",backgroundPosition:"center"},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#121212]/80 via-[#121212]/60 to-[#121212]"}),l.jsxs("div",{className:"relative z-10 text-center px-4 max-w-4xl mx-auto",children:[l.jsx("h1",{className:"text-5xl md:text-7xl mb-6 text-[#F5F5F5]",children:"Our Story is Written in Flame"}),l.jsx("p",{className:"text-xl text-[#F5F5F5]/80 max-w-2xl mx-auto",children:"Where tradition meets innovation, and every dish is a masterpiece forged in fire"})]})]}),l.jsx("section",{className:"py-20 px-4",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-4xl mb-6 text-[#CBA135]",children:"A Legacy of Flavor"}),l.jsxs("div",{className:"space-y-4 text-[#F5F5F5]/80",children:[l.jsxs("p",{children:["Founded in the heart of Soweto, ",l.jsx("span",{className:"smokeville-logo text-[#CBA135]",children:"SMOKEVILLE"})," was born from a simple belief: great food starts with fire. Our founder, inspired by traditional smoking techniques from around the world, set out to create a dining experience that celebrates the primal art of cooking with flame."]}),l.jsx("p",{children:"Every dish that leaves our kitchen carries with it the essence of carefully selected wood, the patience of slow cooking, and the expertise of our master chefs. We source our ingredients locally, supporting Cape Town's finest farmers and producers."}),l.jsx("p",{children:"From our signature wood-fired pizzas to our legendary smoked ribs, each recipe has been perfected over years of dedication. We don't just serve foodwe serve stories, memories, and experiences that linger long after the last bite."})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"aspect-[4/5] rounded-2xl overflow-hidden",children:l.jsx(Dn,{src:"https://images.unsplash.com/photo-1670819916552-67698b1c86ae?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjaGVmJTIwY29va2luZyUyMGZpcmV8ZW58MXx8fHwxNzYwNzAwNDEwfDA&ixlib=rb-4.1.0&q=80&w=1080",alt:"Chef at work",className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"absolute -bottom-6 -right-6 bg-[#1a1a1a] p-8 rounded-2xl border border-[#CBA135]/30 max-w-xs",children:[l.jsx("p",{className:"text-[#F5F5F5]/80 italic mb-4",children:`"Fire is not just heatit's transformation. It's alchemy. It's where ordinary ingredients become extraordinary."`}),l.jsxs("div",{className:"border-t border-[#CBA135]/30 pt-4",children:[l.jsx("p",{className:"text-[#CBA135] font-['Playfair_Display'] text-2xl",children:"Marcus Cole"}),l.jsx("p",{className:"text-[#F5F5F5]/60 text-sm",children:"Founder & Head Chef"})]})]})]})]})})}),l.jsx("section",{className:"py-20 px-4 bg-[#0a0a0a]",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsx("h2",{className:"text-4xl mb-12 text-center text-[#CBA135]",children:"Our Philosophy"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#CBA135] to-[#B36A2E] rounded-full mx-auto mb-4 flex items-center justify-center text-[#121212] text-2xl",children:""}),l.jsx("h3",{className:"text-xl mb-3 text-[#F5F5F5]",children:"Passion"}),l.jsx("p",{className:"text-[#F5F5F5]/60",children:"Every dish is crafted with unwavering dedication and love for the art of cooking"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#CBA135] to-[#B36A2E] rounded-full mx-auto mb-4 flex items-center justify-center text-[#121212] text-2xl",children:""}),l.jsx("h3",{className:"text-xl mb-3 text-[#F5F5F5]",children:"Sustainability"}),l.jsx("p",{className:"text-[#F5F5F5]/60",children:"Supporting local farms and using sustainable practices in everything we do"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#CBA135] to-[#B36A2E] rounded-full mx-auto mb-4 flex items-center justify-center text-[#121212] text-2xl",children:""}),l.jsx("h3",{className:"text-xl mb-3 text-[#F5F5F5]",children:"Excellence"}),l.jsx("p",{className:"text-[#F5F5F5]/60",children:"Never compromising on quality, from ingredients to service"})]})]})]})}),l.jsx("section",{className:"py-20 px-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsx("h2",{className:"text-4xl mb-12 text-center text-[#CBA135]",children:"Meet the Team"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:t.map((e,n)=>l.jsxs("div",{className:"group",children:[l.jsxs("div",{className:"aspect-[3/4] rounded-2xl overflow-hidden mb-4 relative",children:[l.jsx(Dn,{src:e.image,alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#121212] via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),l.jsx("h3",{className:"text-xl text-[#F5F5F5] mb-1",children:e.name}),l.jsx("p",{className:"text-[#CBA135]",children:e.role})]},n))})]})})]})}function wW({onNavigate:t}){const[e,n]=A.useState(""),r={liveMusic:[{title:"Live Jazz Night",date:"Every Friday",time:"8:00 PM - 11:00 PM",image:"https://images.unsplash.com/photo-1693948923846-39cf292b698d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxsaXZlJTIwbXVzaWMlMjByZXN0YXVyYW50fGVufDF8fHx8MTc2MDcwMDQxMXww&ixlib=rb-4.1.0&q=80&w=1080",description:"Enjoy smooth jazz with our signature cocktails and fine dining"},{title:"Acoustic Sunday Sessions",date:"Every Sunday",time:"3:00 PM - 6:00 PM",image:"https://images.unsplash.com/photo-1653205580794-309d27d8c1c7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxyZXN0YXVyYW50JTIwZGFyayUyMGVsZWdhbnR8ZW58MXx8fHwxNzYwNzAwNDA4fDA&ixlib=rb-4.1.0&q=80&w=1080",description:"Relax to acoustic melodies while enjoying our Sunday brunch menu"}],tastings:[{title:"Wine & Dine Experience",date:"First Saturday Monthly",time:"7:00 PM - 10:00 PM",image:"https://images.unsplash.com/photo-1620818309871-6255570324d5?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjb2NrdGFpbCUyMGJhciUyMGRhcmt8ZW58MXx8fHwxNzYwNzAwNDA5fDA&ixlib=rb-4.1.0&q=80&w=1080",description:"5-course menu paired with premium South African wines"},{title:"Whiskey Tasting Evening",date:"Last Thursday Monthly",time:"6:30 PM - 9:00 PM",image:"https://images.unsplash.com/photo-1620818309871-6255570324d5?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjb2NrdGFpbCUyMGJhciUyMGRhcmt8ZW58MXx8fHwxNzYwNzAwNDA5fDA&ixlib=rb-4.1.0&q=80&w=1080",description:"Explore rare whiskeys with our expert sommelier"}],private:[{title:"Chef's Table Experience",date:"By Reservation",time:"Flexible",image:"https://images.unsplash.com/photo-1670819916552-67698b1c86ae?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjaGVmJTIwY29va2luZyUyMGZpcmV8ZW58MXx8fHwxNzYwNzAwNDEwfDA&ixlib=rb-4.1.0&q=80&w=1080",description:"Intimate 8-person dining experience with our head chef"},{title:"Private Events & Parties",date:"Contact Us",time:"Customizable",image:"https://images.unsplash.com/photo-1698280954292-c955f882486f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxyZXN0YXVyYW50JTIwdGFibGUlMjBlbGVnYW50fGVufDF8fHx8MTc2MDcwMDQxMXww&ixlib=rb-4.1.0&q=80&w=1080",description:"Host your special occasion in our exclusive private dining area"}]},s=o=>{o.preventDefault(),alert("Thank you for joining the SmokeCircle!"),n("")};return l.jsxs("div",{className:"min-h-screen",children:[l.jsxs("section",{className:"relative h-[50vh] flex items-center justify-center",style:{backgroundImage:"url(https://images.unsplash.com/photo-1693948923846-39cf292b698d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxsaXZlJTIwbXVzaWMlMjByZXN0YXVyYW50fGVufDF8fHx8MTc2MDcwMDQxMXww&ixlib=rb-4.1.0&q=80&w=1080)",backgroundSize:"cover",backgroundPosition:"center"},children:[l.jsx("div",{className:"absolute inset-0 bg-[#121212]/70"}),l.jsxs("div",{className:"relative z-10 text-center px-4",children:[l.jsx("h1",{className:"text-5xl md:text-6xl mb-4 text-[#F5F5F5]",children:"An Evening of Flavor, Beats & Smoke"}),l.jsx("p",{className:"text-xl text-[#CBA135]",children:"Experience more than just dining"})]})]}),l.jsx("section",{className:"py-20 px-4",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:l.jsxs(Rc,{defaultValue:"liveMusic",className:"w-full",children:[l.jsxs(Pc,{className:"grid w-full grid-cols-3 mb-12 bg-[#1a1a1a] p-1",children:[l.jsx(An,{value:"liveMusic",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#CBA135] data-[state=active]:to-[#B36A2E] data-[state=active]:text-[#121212]",children:"Live Music"}),l.jsx(An,{value:"tastings",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#CBA135] data-[state=active]:to-[#B36A2E] data-[state=active]:text-[#121212]",children:"Tastings"}),l.jsx(An,{value:"private",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#CBA135] data-[state=active]:to-[#B36A2E] data-[state=active]:text-[#121212]",children:"Private Parties"})]}),l.jsx(lt,{value:"liveMusic",className:"space-y-6",children:r.liveMusic.map((o,c)=>l.jsx(Zy,{event:o,onNavigate:t},c))}),l.jsx(lt,{value:"tastings",className:"space-y-6",children:r.tastings.map((o,c)=>l.jsx(Zy,{event:o,onNavigate:t},c))}),l.jsx(lt,{value:"private",className:"space-y-6",children:r.private.map((o,c)=>l.jsx(Zy,{event:o,onNavigate:t},c))})]})})}),l.jsx("section",{className:"py-20 px-4 bg-[#0a0a0a]",children:l.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[l.jsx("h2",{className:"text-4xl mb-4 text-[#CBA135]",children:"Join the SmokeCircle"}),l.jsx("p",{className:"text-[#F5F5F5]/80 mb-8",children:"Get exclusive invites to special events, tastings, and VIP experiences"}),l.jsxs("form",{onSubmit:s,className:"flex gap-2 max-w-md mx-auto",children:[l.jsx(zt,{type:"email",placeholder:"Your email address",value:e,onChange:o=>n(o.target.value),required:!0,className:"bg-[#1a1a1a] border-[#CBA135]/30 text-[#F5F5F5] placeholder:text-[#F5F5F5]/40"}),l.jsx(ze,{type:"submit",className:"bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212] whitespace-nowrap",children:"Subscribe"})]})]})})]})}function Zy({event:t,onNavigate:e}){return l.jsxs("div",{className:"bg-[#1a1a1a] rounded-2xl overflow-hidden grid grid-cols-1 md:grid-cols-2 gap-0",children:[l.jsx("div",{className:"aspect-[4/3] md:aspect-auto relative overflow-hidden",children:l.jsx(Dn,{src:t.image,alt:t.title,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"p-8 flex flex-col justify-center",children:[l.jsx("h3",{className:"text-2xl md:text-3xl mb-4 text-[#F5F5F5]",children:t.title}),l.jsx("p",{className:"text-[#F5F5F5]/70 mb-6",children:t.description}),l.jsxs("div",{className:"space-y-2 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 text-[#CBA135]",children:[l.jsx(bo,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:t.date})]}),l.jsxs("div",{className:"flex items-center gap-2 text-[#CBA135]",children:[l.jsx(_d,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:t.time})]}),l.jsxs("div",{className:"flex items-center gap-2 text-[#CBA135]",children:[l.jsx(Ed,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm smokeville-logo",children:"SMOKEVILLE, Soweto"})]})]}),l.jsx(ze,{onClick:()=>window.open("https://webticket.co.za","_blank"),className:"bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212]",children:"Purchase a Ticket"})]})]})}var bW="Label",qI=A.forwardRef((t,e)=>l.jsx(Ke.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));qI.displayName=bW;var _W=qI;function St({className:t,...e}){return l.jsx(_W,{"data-slot":"label",className:gt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function TN(t,[e,n]){return Math.min(n,Math.max(e,t))}const EW=["top","right","bottom","left"],Vo=Math.min,Er=Math.max,Cm=Math.round,Tf=Math.floor,Qs=t=>({x:t,y:t}),NW={left:"right",right:"left",bottom:"top",top:"bottom"},AW={start:"end",end:"start"};function c0(t,e,n){return Er(t,Vo(e,n))}function Mi(t,e){return typeof t=="function"?t(e):t}function Fi(t){return t.split("-")[0]}function Mc(t){return t.split("-")[1]}function y1(t){return t==="x"?"y":"x"}function x1(t){return t==="y"?"height":"width"}const TW=new Set(["top","bottom"]);function Hs(t){return TW.has(Fi(t))?"y":"x"}function v1(t){return y1(Hs(t))}function CW(t,e,n){n===void 0&&(n=!1);const r=Mc(t),s=v1(t),o=x1(s);let c=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=Sm(c)),[c,Sm(c)]}function SW(t){const e=Sm(t);return[u0(t),e,u0(e)]}function u0(t){return t.replace(/start|end/g,e=>AW[e])}const CN=["left","right"],SN=["right","left"],IW=["top","bottom"],jW=["bottom","top"];function kW(t,e,n){switch(t){case"top":case"bottom":return n?e?SN:CN:e?CN:SN;case"left":case"right":return e?IW:jW;default:return[]}}function RW(t,e,n,r){const s=Mc(t);let o=kW(Fi(t),n==="start",r);return s&&(o=o.map(c=>c+"-"+s),e&&(o=o.concat(o.map(u0)))),o}function Sm(t){return t.replace(/left|right|bottom|top/g,e=>NW[e])}function PW(t){return{top:0,right:0,bottom:0,left:0,...t}}function KI(t){return typeof t!="number"?PW(t):{top:t,right:t,bottom:t,left:t}}function Im(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function IN(t,e,n){let{reference:r,floating:s}=t;const o=Hs(e),c=v1(e),u=x1(c),h=Fi(e),m=o==="y",g=r.x+r.width/2-s.width/2,y=r.y+r.height/2-s.height/2,v=r[u]/2-s[u]/2;let _;switch(h){case"top":_={x:g,y:r.y-s.height};break;case"bottom":_={x:g,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y};break;case"left":_={x:r.x-s.width,y};break;default:_={x:r.x,y:r.y}}switch(Mc(e)){case"start":_[c]-=v*(n&&m?-1:1);break;case"end":_[c]+=v*(n&&m?-1:1);break}return _}const MW=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:c}=n,u=o.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:t,floating:e,strategy:s}),{x:g,y}=IN(m,r,h),v=r,_={},C=0;for(let E=0;E<u.length;E++){const{name:N,fn:j}=u[E],{x:O,y:R,data:z,reset:V}=await j({x:g,y,initialPlacement:r,placement:v,strategy:s,middlewareData:_,rects:m,platform:c,elements:{reference:t,floating:e}});g=O??g,y=R??y,_={..._,[N]:{..._[N],...z}},V&&C<=50&&(C++,typeof V=="object"&&(V.placement&&(v=V.placement),V.rects&&(m=V.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:s}):V.rects),{x:g,y}=IN(m,v,h)),E=-1)}return{x:g,y,placement:v,strategy:s,middlewareData:_}};async function wd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:c,elements:u,strategy:h}=t,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:v=!1,padding:_=0}=Mi(e,t),C=KI(_),N=u[v?y==="floating"?"reference":"floating":y],j=Im(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(N)))==null||n?N:N.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:m,rootBoundary:g,strategy:h})),O=y==="floating"?{x:r,y:s,width:c.floating.width,height:c.floating.height}:c.reference,R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),z=await(o.isElement==null?void 0:o.isElement(R))?await(o.getScale==null?void 0:o.getScale(R))||{x:1,y:1}:{x:1,y:1},V=Im(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:O,offsetParent:R,strategy:h}):O);return{top:(j.top-V.top+C.top)/z.y,bottom:(V.bottom-j.bottom+C.bottom)/z.y,left:(j.left-V.left+C.left)/z.x,right:(V.right-j.right+C.right)/z.x}}const FW=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:c,elements:u,middlewareData:h}=e,{element:m,padding:g=0}=Mi(t,e)||{};if(m==null)return{};const y=KI(g),v={x:n,y:r},_=v1(s),C=x1(_),E=await c.getDimensions(m),N=_==="y",j=N?"top":"left",O=N?"bottom":"right",R=N?"clientHeight":"clientWidth",z=o.reference[C]+o.reference[_]-v[_]-o.floating[C],V=v[_]-o.reference[_],q=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let k=q?q[R]:0;(!k||!await(c.isElement==null?void 0:c.isElement(q)))&&(k=u.floating[R]||o.floating[C]);const S=z/2-V/2,M=k/2-E[C]/2-1,B=Vo(y[j],M),D=Vo(y[O],M),U=B,F=k-E[C]-D,ye=k/2-E[C]/2+S,Ce=c0(U,ye,F),re=!h.arrow&&Mc(s)!=null&&ye!==Ce&&o.reference[C]/2-(ye<U?B:D)-E[C]/2<0,le=re?ye<U?ye-U:ye-F:0;return{[_]:v[_]+le,data:{[_]:Ce,centerOffset:ye-Ce-le,...re&&{alignmentOffset:le}},reset:re}}}),DW=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:c,initialPlacement:u,platform:h,elements:m}=e,{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:v,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:E=!0,...N}=Mi(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const j=Fi(s),O=Hs(u),R=Fi(u)===u,z=await(h.isRTL==null?void 0:h.isRTL(m.floating)),V=v||(R||!E?[Sm(u)]:SW(u)),q=C!=="none";!v&&q&&V.push(...RW(u,E,C,z));const k=[u,...V],S=await wd(e,N),M=[];let B=((r=o.flip)==null?void 0:r.overflows)||[];if(g&&M.push(S[j]),y){const ye=CW(s,c,z);M.push(S[ye[0]],S[ye[1]])}if(B=[...B,{placement:s,overflows:M}],!M.every(ye=>ye<=0)){var D,U;const ye=(((D=o.flip)==null?void 0:D.index)||0)+1,Ce=k[ye];if(Ce&&(!(y==="alignment"?O!==Hs(Ce):!1)||B.every(G=>Hs(G.placement)===O?G.overflows[0]>0:!0)))return{data:{index:ye,overflows:B},reset:{placement:Ce}};let re=(U=B.filter(le=>le.overflows[0]<=0).sort((le,G)=>le.overflows[1]-G.overflows[1])[0])==null?void 0:U.placement;if(!re)switch(_){case"bestFit":{var F;const le=(F=B.filter(G=>{if(q){const ce=Hs(G.placement);return ce===O||ce==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(ce=>ce>0).reduce((ce,se)=>ce+se,0)]).sort((G,ce)=>G[1]-ce[1])[0])==null?void 0:F[0];le&&(re=le);break}case"initialPlacement":re=u;break}if(s!==re)return{reset:{placement:re}}}return{}}}};function jN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function kN(t){return EW.some(e=>t[e]>=0)}const OW=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Mi(t,e);switch(r){case"referenceHidden":{const o=await wd(e,{...s,elementContext:"reference"}),c=jN(o,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:kN(c)}}}case"escaped":{const o=await wd(e,{...s,altBoundary:!0}),c=jN(o,n.floating);return{data:{escapedOffsets:c,escaped:kN(c)}}}default:return{}}}}},YI=new Set(["left","top"]);async function VW(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),c=Fi(n),u=Mc(n),h=Hs(n)==="y",m=YI.has(c)?-1:1,g=o&&h?-1:1,y=Mi(e,t);let{mainAxis:v,crossAxis:_,alignmentAxis:C}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof C=="number"&&(_=u==="end"?C*-1:C),h?{x:_*g,y:v*m}:{x:v*m,y:_*g}}const LW=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:c,middlewareData:u}=e,h=await VW(e,t);return c===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+h.x,y:o+h.y,data:{...h,placement:c}}}}},BW=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:c=!1,limiter:u={fn:N=>{let{x:j,y:O}=N;return{x:j,y:O}}},...h}=Mi(t,e),m={x:n,y:r},g=await wd(e,h),y=Hs(Fi(s)),v=y1(y);let _=m[v],C=m[y];if(o){const N=v==="y"?"top":"left",j=v==="y"?"bottom":"right",O=_+g[N],R=_-g[j];_=c0(O,_,R)}if(c){const N=y==="y"?"top":"left",j=y==="y"?"bottom":"right",O=C+g[N],R=C-g[j];C=c0(O,C,R)}const E=u.fn({...e,[v]:_,[y]:C});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[v]:o,[y]:c}}}}}},zW=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:c}=e,{offset:u=0,mainAxis:h=!0,crossAxis:m=!0}=Mi(t,e),g={x:n,y:r},y=Hs(s),v=y1(y);let _=g[v],C=g[y];const E=Mi(u,e),N=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(h){const R=v==="y"?"height":"width",z=o.reference[v]-o.floating[R]+N.mainAxis,V=o.reference[v]+o.reference[R]-N.mainAxis;_<z?_=z:_>V&&(_=V)}if(m){var j,O;const R=v==="y"?"width":"height",z=YI.has(Fi(s)),V=o.reference[y]-o.floating[R]+(z&&((j=c.offset)==null?void 0:j[y])||0)+(z?0:N.crossAxis),q=o.reference[y]+o.reference[R]+(z?0:((O=c.offset)==null?void 0:O[y])||0)-(z?N.crossAxis:0);C<V?C=V:C>q&&(C=q)}return{[v]:_,[y]:C}}}},UW=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:c,elements:u}=e,{apply:h=()=>{},...m}=Mi(t,e),g=await wd(e,m),y=Fi(s),v=Mc(s),_=Hs(s)==="y",{width:C,height:E}=o.floating;let N,j;y==="top"||y==="bottom"?(N=y,j=v===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(j=y,N=v==="end"?"top":"bottom");const O=E-g.top-g.bottom,R=C-g.left-g.right,z=Vo(E-g[N],O),V=Vo(C-g[j],R),q=!e.middlewareData.shift;let k=z,S=V;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=R),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=O),q&&!v){const B=Er(g.left,0),D=Er(g.right,0),U=Er(g.top,0),F=Er(g.bottom,0);_?S=C-2*(B!==0||D!==0?B+D:Er(g.left,g.right)):k=E-2*(U!==0||F!==0?U+F:Er(g.top,g.bottom))}await h({...e,availableWidth:S,availableHeight:k});const M=await c.getDimensions(u.floating);return C!==M.width||E!==M.height?{reset:{rects:!0}}:{}}}};function Tp(){return typeof window<"u"}function Fc(t){return XI(t)?(t.nodeName||"").toLowerCase():"#document"}function Cr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function oi(t){var e;return(e=(XI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function XI(t){return Tp()?t instanceof Node||t instanceof Cr(t).Node:!1}function fs(t){return Tp()?t instanceof Element||t instanceof Cr(t).Element:!1}function ni(t){return Tp()?t instanceof HTMLElement||t instanceof Cr(t).HTMLElement:!1}function RN(t){return!Tp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Cr(t).ShadowRoot}const HW=new Set(["inline","contents"]);function qd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ms(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!HW.has(s)}const $W=new Set(["table","td","th"]);function WW(t){return $W.has(Fc(t))}const GW=[":popover-open",":modal"];function Cp(t){return GW.some(e=>{try{return t.matches(e)}catch{return!1}})}const qW=["transform","translate","scale","rotate","perspective"],KW=["transform","translate","scale","rotate","perspective","filter"],YW=["paint","layout","strict","content"];function w1(t){const e=b1(),n=fs(t)?ms(t):t;return qW.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||KW.some(r=>(n.willChange||"").includes(r))||YW.some(r=>(n.contain||"").includes(r))}function XW(t){let e=Lo(t);for(;ni(e)&&!gc(e);){if(w1(e))return e;if(Cp(e))return null;e=Lo(e)}return null}function b1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const JW=new Set(["html","body","#document"]);function gc(t){return JW.has(Fc(t))}function ms(t){return Cr(t).getComputedStyle(t)}function Sp(t){return fs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Lo(t){if(Fc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||RN(t)&&t.host||oi(t);return RN(e)?e.host:e}function JI(t){const e=Lo(t);return gc(e)?t.ownerDocument?t.ownerDocument.body:t.body:ni(e)&&qd(e)?e:JI(e)}function bd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=JI(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),c=Cr(s);if(o){const u=d0(c);return e.concat(c,c.visualViewport||[],qd(s)?s:[],u&&n?bd(u):[])}return e.concat(s,bd(s,[],n))}function d0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function QI(t){const e=ms(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ni(t),o=s?t.offsetWidth:n,c=s?t.offsetHeight:r,u=Cm(n)!==o||Cm(r)!==c;return u&&(n=o,r=c),{width:n,height:r,$:u}}function _1(t){return fs(t)?t:t.contextElement}function nc(t){const e=_1(t);if(!ni(e))return Qs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=QI(e);let c=(o?Cm(n.width):n.width)/r,u=(o?Cm(n.height):n.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const QW=Qs(0);function ZI(t){const e=Cr(t);return!b1()||!e.visualViewport?QW:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ZW(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Cr(t)?!1:e}function $a(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=_1(t);let c=Qs(1);e&&(r?fs(r)&&(c=nc(r)):c=nc(t));const u=ZW(o,n,r)?ZI(o):Qs(0);let h=(s.left+u.x)/c.x,m=(s.top+u.y)/c.y,g=s.width/c.x,y=s.height/c.y;if(o){const v=Cr(o),_=r&&fs(r)?Cr(r):r;let C=v,E=d0(C);for(;E&&r&&_!==C;){const N=nc(E),j=E.getBoundingClientRect(),O=ms(E),R=j.left+(E.clientLeft+parseFloat(O.paddingLeft))*N.x,z=j.top+(E.clientTop+parseFloat(O.paddingTop))*N.y;h*=N.x,m*=N.y,g*=N.x,y*=N.y,h+=R,m+=z,C=Cr(E),E=d0(C)}}return Im({width:g,height:y,x:h,y:m})}function Ip(t,e){const n=Sp(t).scrollLeft;return e?e.left+n:$a(oi(t)).left+n}function ej(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Ip(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function eG(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",c=oi(r),u=e?Cp(e.floating):!1;if(r===c||u&&o)return n;let h={scrollLeft:0,scrollTop:0},m=Qs(1);const g=Qs(0),y=ni(r);if((y||!y&&!o)&&((Fc(r)!=="body"||qd(c))&&(h=Sp(r)),ni(r))){const _=$a(r);m=nc(r),g.x=_.x+r.clientLeft,g.y=_.y+r.clientTop}const v=c&&!y&&!o?ej(c,h):Qs(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-h.scrollLeft*m.x+g.x+v.x,y:n.y*m.y-h.scrollTop*m.y+g.y+v.y}}function tG(t){return Array.from(t.getClientRects())}function nG(t){const e=oi(t),n=Sp(t),r=t.ownerDocument.body,s=Er(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Er(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+Ip(t);const u=-n.scrollTop;return ms(r).direction==="rtl"&&(c+=Er(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:c,y:u}}const PN=25;function rG(t,e){const n=Cr(t),r=oi(t),s=n.visualViewport;let o=r.clientWidth,c=r.clientHeight,u=0,h=0;if(s){o=s.width,c=s.height;const g=b1();(!g||g&&e==="fixed")&&(u=s.offsetLeft,h=s.offsetTop)}const m=Ip(r);if(m<=0){const g=r.ownerDocument,y=g.body,v=getComputedStyle(y),_=g.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,C=Math.abs(r.clientWidth-y.clientWidth-_);C<=PN&&(o-=C)}else m<=PN&&(o+=m);return{width:o,height:c,x:u,y:h}}const sG=new Set(["absolute","fixed"]);function iG(t,e){const n=$a(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=ni(t)?nc(t):Qs(1),c=t.clientWidth*o.x,u=t.clientHeight*o.y,h=s*o.x,m=r*o.y;return{width:c,height:u,x:h,y:m}}function MN(t,e,n){let r;if(e==="viewport")r=rG(t,n);else if(e==="document")r=nG(oi(t));else if(fs(e))r=iG(e,n);else{const s=ZI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Im(r)}function tj(t,e){const n=Lo(t);return n===e||!fs(n)||gc(n)?!1:ms(n).position==="fixed"||tj(n,e)}function oG(t,e){const n=e.get(t);if(n)return n;let r=bd(t,[],!1).filter(u=>fs(u)&&Fc(u)!=="body"),s=null;const o=ms(t).position==="fixed";let c=o?Lo(t):t;for(;fs(c)&&!gc(c);){const u=ms(c),h=w1(c);!h&&u.position==="fixed"&&(s=null),(o?!h&&!s:!h&&u.position==="static"&&!!s&&sG.has(s.position)||qd(c)&&!h&&tj(t,c))?r=r.filter(g=>g!==c):s=u,c=Lo(c)}return e.set(t,r),r}function aG(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const c=[...n==="clippingAncestors"?Cp(e)?[]:oG(e,this._c):[].concat(n),r],u=c[0],h=c.reduce((m,g)=>{const y=MN(e,g,s);return m.top=Er(y.top,m.top),m.right=Vo(y.right,m.right),m.bottom=Vo(y.bottom,m.bottom),m.left=Er(y.left,m.left),m},MN(e,u,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function lG(t){const{width:e,height:n}=QI(t);return{width:e,height:n}}function cG(t,e,n){const r=ni(e),s=oi(e),o=n==="fixed",c=$a(t,!0,o,e);let u={scrollLeft:0,scrollTop:0};const h=Qs(0);function m(){h.x=Ip(s)}if(r||!r&&!o)if((Fc(e)!=="body"||qd(s))&&(u=Sp(e)),r){const _=$a(e,!0,o,e);h.x=_.x+e.clientLeft,h.y=_.y+e.clientTop}else s&&m();o&&!r&&s&&m();const g=s&&!r&&!o?ej(s,u):Qs(0),y=c.left+u.scrollLeft-h.x-g.x,v=c.top+u.scrollTop-h.y-g.y;return{x:y,y:v,width:c.width,height:c.height}}function ex(t){return ms(t).position==="static"}function FN(t,e){if(!ni(t)||ms(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return oi(t)===n&&(n=n.ownerDocument.body),n}function nj(t,e){const n=Cr(t);if(Cp(t))return n;if(!ni(t)){let s=Lo(t);for(;s&&!gc(s);){if(fs(s)&&!ex(s))return s;s=Lo(s)}return n}let r=FN(t,e);for(;r&&WW(r)&&ex(r);)r=FN(r,e);return r&&gc(r)&&ex(r)&&!w1(r)?n:r||XW(t)||n}const uG=async function(t){const e=this.getOffsetParent||nj,n=this.getDimensions,r=await n(t.floating);return{reference:cG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function dG(t){return ms(t).direction==="rtl"}const hG={convertOffsetParentRelativeRectToViewportRelativeRect:eG,getDocumentElement:oi,getClippingRect:aG,getOffsetParent:nj,getElementRects:uG,getClientRects:tG,getDimensions:lG,getScale:nc,isElement:fs,isRTL:dG};function rj(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function fG(t,e){let n=null,r;const s=oi(t);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function c(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),o();const m=t.getBoundingClientRect(),{left:g,top:y,width:v,height:_}=m;if(u||e(),!v||!_)return;const C=Tf(y),E=Tf(s.clientWidth-(g+v)),N=Tf(s.clientHeight-(y+_)),j=Tf(g),R={rootMargin:-C+"px "+-E+"px "+-N+"px "+-j+"px",threshold:Er(0,Vo(1,h))||1};let z=!0;function V(q){const k=q[0].intersectionRatio;if(k!==h){if(!z)return c();k?c(!1,k):r=setTimeout(()=>{c(!1,1e-7)},1e3)}k===1&&!rj(m,t.getBoundingClientRect())&&c(),z=!1}try{n=new IntersectionObserver(V,{...R,root:s.ownerDocument})}catch{n=new IntersectionObserver(V,R)}n.observe(t)}return c(!0),o}function mG(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,m=_1(t),g=s||o?[...m?bd(m):[],...bd(e)]:[];g.forEach(j=>{s&&j.addEventListener("scroll",n,{passive:!0}),o&&j.addEventListener("resize",n)});const y=m&&u?fG(m,n):null;let v=-1,_=null;c&&(_=new ResizeObserver(j=>{let[O]=j;O&&O.target===m&&_&&(_.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var R;(R=_)==null||R.observe(e)})),n()}),m&&!h&&_.observe(m),_.observe(e));let C,E=h?$a(t):null;h&&N();function N(){const j=$a(t);E&&!rj(E,j)&&n(),E=j,C=requestAnimationFrame(N)}return n(),()=>{var j;g.forEach(O=>{s&&O.removeEventListener("scroll",n),o&&O.removeEventListener("resize",n)}),y?.(),(j=_)==null||j.disconnect(),_=null,h&&cancelAnimationFrame(C)}}const pG=LW,gG=BW,yG=DW,xG=UW,vG=OW,DN=FW,wG=zW,bG=(t,e,n)=>{const r=new Map,s={platform:hG,...n},o={...s.platform,_c:r};return MW(t,e,{...s,platform:o})};var _G=typeof document<"u",EG=function(){},Xf=_G?A.useLayoutEffect:EG;function jm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!jm(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!jm(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function sj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ON(t,e){const n=sj(t);return Math.round(e*n)/n}function tx(t){const e=A.useRef(t);return Xf(()=>{e.current=t}),e}function NG(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:c}={},transform:u=!0,whileElementsMounted:h,open:m}=t,[g,y]=A.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,_]=A.useState(r);jm(v,r)||_(r);const[C,E]=A.useState(null),[N,j]=A.useState(null),O=A.useCallback(G=>{G!==q.current&&(q.current=G,E(G))},[]),R=A.useCallback(G=>{G!==k.current&&(k.current=G,j(G))},[]),z=o||C,V=c||N,q=A.useRef(null),k=A.useRef(null),S=A.useRef(g),M=h!=null,B=tx(h),D=tx(s),U=tx(m),F=A.useCallback(()=>{if(!q.current||!k.current)return;const G={placement:e,strategy:n,middleware:v};D.current&&(G.platform=D.current),bG(q.current,k.current,G).then(ce=>{const se={...ce,isPositioned:U.current!==!1};ye.current&&!jm(S.current,se)&&(S.current=se,Wd.flushSync(()=>{y(se)}))})},[v,e,n,D,U]);Xf(()=>{m===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,y(G=>({...G,isPositioned:!1})))},[m]);const ye=A.useRef(!1);Xf(()=>(ye.current=!0,()=>{ye.current=!1}),[]),Xf(()=>{if(z&&(q.current=z),V&&(k.current=V),z&&V){if(B.current)return B.current(z,V,F);F()}},[z,V,F,B,M]);const Ce=A.useMemo(()=>({reference:q,floating:k,setReference:O,setFloating:R}),[O,R]),re=A.useMemo(()=>({reference:z,floating:V}),[z,V]),le=A.useMemo(()=>{const G={position:n,left:0,top:0};if(!re.floating)return G;const ce=ON(re.floating,g.x),se=ON(re.floating,g.y);return u?{...G,transform:"translate("+ce+"px, "+se+"px)",...sj(re.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ce,top:se}},[n,u,re.floating,g.x,g.y]);return A.useMemo(()=>({...g,update:F,refs:Ce,elements:re,floatingStyles:le}),[g,F,Ce,re,le])}const AG=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?DN({element:r.current,padding:s}).fn(n):{}:r?DN({element:r,padding:s}).fn(n):{}}}},TG=(t,e)=>({...pG(t),options:[t,e]}),CG=(t,e)=>({...gG(t),options:[t,e]}),SG=(t,e)=>({...wG(t),options:[t,e]}),IG=(t,e)=>({...yG(t),options:[t,e]}),jG=(t,e)=>({...xG(t),options:[t,e]}),kG=(t,e)=>({...vG(t),options:[t,e]}),RG=(t,e)=>({...AG(t),options:[t,e]});var PG="Arrow",ij=A.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return l.jsx(Ke.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});ij.displayName=PG;var MG=ij;function oj(t){const[e,n]=A.useState(void 0);return Vn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let c,u;if("borderBoxSize"in o){const h=o.borderBoxSize,m=Array.isArray(h)?h[0]:h;c=m.inlineSize,u=m.blockSize}else c=t.offsetWidth,u=t.offsetHeight;n({width:c,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var E1="Popper",[aj,lj]=Oi(E1),[FG,cj]=aj(E1),uj=t=>{const{__scopePopper:e,children:n}=t,[r,s]=A.useState(null);return l.jsx(FG,{scope:e,anchor:r,onAnchorChange:s,children:n})};uj.displayName=E1;var dj="PopperAnchor",hj=A.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=cj(dj,n),c=A.useRef(null),u=Nt(e,c),h=A.useRef(null);return A.useEffect(()=>{const m=h.current;h.current=r?.current||c.current,m!==h.current&&o.onAnchorChange(h.current)}),r?null:l.jsx(Ke.div,{...s,ref:u})});hj.displayName=dj;var N1="PopperContent",[DG,OG]=aj(N1),fj=A.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:y="partial",hideWhenDetached:v=!1,updatePositionStrategy:_="optimized",onPlaced:C,...E}=t,N=cj(N1,n),[j,O]=A.useState(null),R=Nt(e,ie=>O(ie)),[z,V]=A.useState(null),q=oj(z),k=q?.width??0,S=q?.height??0,M=r+(o!=="center"?"-"+o:""),B=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},D=Array.isArray(m)?m:[m],U=D.length>0,F={padding:B,boundary:D.filter(LG),altBoundary:U},{refs:ye,floatingStyles:Ce,placement:re,isPositioned:le,middlewareData:G}=NG({strategy:"fixed",placement:M,whileElementsMounted:(...ie)=>mG(...ie,{animationFrame:_==="always"}),elements:{reference:N.anchor},middleware:[TG({mainAxis:s+S,alignmentAxis:c}),h&&CG({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?SG():void 0,...F}),h&&IG({...F}),jG({...F,apply:({elements:ie,rects:pe,availableWidth:ke,availableHeight:De})=>{const{width:Ge,height:Ye}=pe.reference,jt=ie.floating.style;jt.setProperty("--radix-popper-available-width",`${ke}px`),jt.setProperty("--radix-popper-available-height",`${De}px`),jt.setProperty("--radix-popper-anchor-width",`${Ge}px`),jt.setProperty("--radix-popper-anchor-height",`${Ye}px`)}}),z&&RG({element:z,padding:u}),BG({arrowWidth:k,arrowHeight:S}),v&&kG({strategy:"referenceHidden",...F})]}),[ce,se]=gj(re),$=Oo(C);Vn(()=>{le&&$?.()},[le,$]);const ee=G.arrow?.x,ue=G.arrow?.y,me=G.arrow?.centerOffset!==0,[ve,Ie]=A.useState();return Vn(()=>{j&&Ie(window.getComputedStyle(j).zIndex)},[j]),l.jsx("div",{ref:ye.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ce,transform:le?Ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[G.transformOrigin?.x,G.transformOrigin?.y].join(" "),...G.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(DG,{scope:n,placedSide:ce,onArrowChange:V,arrowX:ee,arrowY:ue,shouldHideArrow:me,children:l.jsx(Ke.div,{"data-side":ce,"data-align":se,...E,ref:R,style:{...E.style,animation:le?void 0:"none"}})})})});fj.displayName=N1;var mj="PopperArrow",VG={top:"bottom",right:"left",bottom:"top",left:"right"},pj=A.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=OG(mj,r),c=VG[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(MG,{...s,ref:n,style:{...s.style,display:"block"}})})});pj.displayName=mj;function LG(t){return t!==null}var BG=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:s}=e,c=s.arrow?.centerOffset!==0,u=c?0:t.arrowWidth,h=c?0:t.arrowHeight,[m,g]=gj(n),y={start:"0%",center:"50%",end:"100%"}[g],v=(s.arrow?.x??0)+u/2,_=(s.arrow?.y??0)+h/2;let C="",E="";return m==="bottom"?(C=c?y:`${v}px`,E=`${-h}px`):m==="top"?(C=c?y:`${v}px`,E=`${r.floating.height+h}px`):m==="right"?(C=`${-h}px`,E=c?y:`${_}px`):m==="left"&&(C=`${r.floating.width+h}px`,E=c?y:`${_}px`),{data:{x:C,y:E}}}});function gj(t){const[e,n="center"]=t.split("-");return[e,n]}var zG=uj,UG=hj,HG=fj,$G=pj;function yj(t){const e=A.useRef({value:t,previous:t});return A.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var xj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),WG="VisuallyHidden",GG=A.forwardRef((t,e)=>l.jsx(Ke.span,{...t,ref:e,style:{...xj,...t.style}}));GG.displayName=WG;var qG=[" ","Enter","ArrowUp","ArrowDown"],KG=[" ","Enter"],Wa="Select",[jp,kp,YG]=QS(Wa),[Dc]=Oi(Wa,[YG,lj]),Rp=lj(),[XG,Ko]=Dc(Wa),[JG,QG]=Dc(Wa),vj=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:c,defaultValue:u,onValueChange:h,dir:m,name:g,autoComplete:y,disabled:v,required:_,form:C}=t,E=Rp(e),[N,j]=A.useState(null),[O,R]=A.useState(null),[z,V]=A.useState(!1),q=bp(m),[k,S]=pc({prop:r,defaultProp:s??!1,onChange:o,caller:Wa}),[M,B]=pc({prop:c,defaultProp:u,onChange:h,caller:Wa}),D=A.useRef(null),U=N?C||!!N.closest("form"):!0,[F,ye]=A.useState(new Set),Ce=Array.from(F).map(re=>re.props.value).join(";");return l.jsx(zG,{...E,children:l.jsxs(XG,{required:_,scope:e,trigger:N,onTriggerChange:j,valueNode:O,onValueNodeChange:R,valueNodeHasChildren:z,onValueNodeHasChildrenChange:V,contentId:Co(),value:M,onValueChange:B,open:k,onOpenChange:S,dir:q,triggerPointerDownPosRef:D,disabled:v,children:[l.jsx(jp.Provider,{scope:e,children:l.jsx(JG,{scope:t.__scopeSelect,onNativeOptionAdd:A.useCallback(re=>{ye(le=>new Set(le).add(re))},[]),onNativeOptionRemove:A.useCallback(re=>{ye(le=>{const G=new Set(le);return G.delete(re),G})},[]),children:n})}),U?l.jsxs(zj,{"aria-hidden":!0,required:_,tabIndex:-1,name:g,autoComplete:y,value:M,onChange:re=>B(re.target.value),disabled:v,form:C,children:[M===void 0?l.jsx("option",{value:""}):null,Array.from(F)]},Ce):null]})})};vj.displayName=Wa;var wj="SelectTrigger",bj=A.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=Rp(n),c=Ko(wj,n),u=c.disabled||r,h=Nt(e,c.onTriggerChange),m=kp(n),g=A.useRef("touch"),[y,v,_]=Hj(E=>{const N=m().filter(R=>!R.disabled),j=N.find(R=>R.value===c.value),O=$j(N,E,j);O!==void 0&&c.onValueChange(O.value)}),C=E=>{u||(c.onOpenChange(!0),_()),E&&(c.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return l.jsx(UG,{asChild:!0,...o,children:l.jsx(Ke.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":Uj(c.value)?"":void 0,...s,ref:h,onClick:Je(s.onClick,E=>{E.currentTarget.focus(),g.current!=="mouse"&&C(E)}),onPointerDown:Je(s.onPointerDown,E=>{g.current=E.pointerType;const N=E.target;N.hasPointerCapture(E.pointerId)&&N.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(C(E),E.preventDefault())}),onKeyDown:Je(s.onKeyDown,E=>{const N=y.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&v(E.key),!(N&&E.key===" ")&&qG.includes(E.key)&&(C(),E.preventDefault())})})})});bj.displayName=wj;var _j="SelectValue",Ej=A.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:c="",...u}=t,h=Ko(_j,n),{onValueNodeHasChildrenChange:m}=h,g=o!==void 0,y=Nt(e,h.onValueNodeChange);return Vn(()=>{m(g)},[m,g]),l.jsx(Ke.span,{...u,ref:y,style:{pointerEvents:"none"},children:Uj(h.value)?l.jsx(l.Fragment,{children:c}):o})});Ej.displayName=_j;var ZG="SelectIcon",Nj=A.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return l.jsx(Ke.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});Nj.displayName=ZG;var eq="SelectPortal",Aj=t=>l.jsx(h1,{asChild:!0,...t});Aj.displayName=eq;var Ga="SelectContent",Tj=A.forwardRef((t,e)=>{const n=Ko(Ga,t.__scopeSelect),[r,s]=A.useState();if(Vn(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Wd.createPortal(l.jsx(Cj,{scope:t.__scopeSelect,children:l.jsx(jp.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),o):null}return l.jsx(Sj,{...t,ref:e})});Tj.displayName=Ga;var os=10,[Cj,Yo]=Dc(Ga),tq="SelectContentImpl",nq=sc("SelectContent.RemoveScroll"),Sj=A.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:c,side:u,sideOffset:h,align:m,alignOffset:g,arrowPadding:y,collisionBoundary:v,collisionPadding:_,sticky:C,hideWhenDetached:E,avoidCollisions:N,...j}=t,O=Ko(Ga,n),[R,z]=A.useState(null),[V,q]=A.useState(null),k=Nt(e,ie=>z(ie)),[S,M]=A.useState(null),[B,D]=A.useState(null),U=kp(n),[F,ye]=A.useState(!1),Ce=A.useRef(!1);A.useEffect(()=>{if(R)return SI(R)},[R]),vI();const re=A.useCallback(ie=>{const[pe,...ke]=U().map(Ye=>Ye.ref.current),[De]=ke.slice(-1),Ge=document.activeElement;for(const Ye of ie)if(Ye===Ge||(Ye?.scrollIntoView({block:"nearest"}),Ye===pe&&V&&(V.scrollTop=0),Ye===De&&V&&(V.scrollTop=V.scrollHeight),Ye?.focus(),document.activeElement!==Ge))return},[U,V]),le=A.useCallback(()=>re([S,R]),[re,S,R]);A.useEffect(()=>{F&&le()},[F,le]);const{onOpenChange:G,triggerPointerDownPosRef:ce}=O;A.useEffect(()=>{if(R){let ie={x:0,y:0};const pe=De=>{ie={x:Math.abs(Math.round(De.pageX)-(ce.current?.x??0)),y:Math.abs(Math.round(De.pageY)-(ce.current?.y??0))}},ke=De=>{ie.x<=10&&ie.y<=10?De.preventDefault():R.contains(De.target)||G(!1),document.removeEventListener("pointermove",pe),ce.current=null};return ce.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",ke,{capture:!0})}}},[R,G,ce]),A.useEffect(()=>{const ie=()=>G(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[G]);const[se,$]=Hj(ie=>{const pe=U().filter(Ge=>!Ge.disabled),ke=pe.find(Ge=>Ge.ref.current===document.activeElement),De=$j(pe,ie,ke);De&&setTimeout(()=>De.ref.current.focus())}),ee=A.useCallback((ie,pe,ke)=>{const De=!Ce.current&&!ke;(O.value!==void 0&&O.value===pe||De)&&(M(ie),De&&(Ce.current=!0))},[O.value]),ue=A.useCallback(()=>R?.focus(),[R]),me=A.useCallback((ie,pe,ke)=>{const De=!Ce.current&&!ke;(O.value!==void 0&&O.value===pe||De)&&D(ie)},[O.value]),ve=r==="popper"?h0:Ij,Ie=ve===h0?{side:u,sideOffset:h,align:m,alignOffset:g,arrowPadding:y,collisionBoundary:v,collisionPadding:_,sticky:C,hideWhenDetached:E,avoidCollisions:N}:{};return l.jsx(Cj,{scope:n,content:R,viewport:V,onViewportChange:q,itemRefCallback:ee,selectedItem:S,onItemLeave:ue,itemTextRefCallback:me,focusSelectedItem:le,selectedItemText:B,position:r,isPositioned:F,searchRef:se,children:l.jsx(f1,{as:nq,allowPinchZoom:!0,children:l.jsx(d1,{asChild:!0,trapped:O.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:Je(s,ie=>{O.trigger?.focus({preventScroll:!0}),ie.preventDefault()}),children:l.jsx(u1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>O.onOpenChange(!1),children:l.jsx(ve,{role:"listbox",id:O.contentId,"data-state":O.open?"open":"closed",dir:O.dir,onContextMenu:ie=>ie.preventDefault(),...j,...Ie,onPlaced:()=>ye(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Je(j.onKeyDown,ie=>{const pe=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!pe&&ie.key.length===1&&$(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let De=U().filter(Ge=>!Ge.disabled).map(Ge=>Ge.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(De=De.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const Ge=ie.target,Ye=De.indexOf(Ge);De=De.slice(Ye+1)}setTimeout(()=>re(De)),ie.preventDefault()}})})})})})})});Sj.displayName=tq;var rq="SelectItemAlignedPosition",Ij=A.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=Ko(Ga,n),c=Yo(Ga,n),[u,h]=A.useState(null),[m,g]=A.useState(null),y=Nt(e,k=>g(k)),v=kp(n),_=A.useRef(!1),C=A.useRef(!0),{viewport:E,selectedItem:N,selectedItemText:j,focusSelectedItem:O}=c,R=A.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&m&&E&&N&&j){const k=o.trigger.getBoundingClientRect(),S=m.getBoundingClientRect(),M=o.valueNode.getBoundingClientRect(),B=j.getBoundingClientRect();if(o.dir!=="rtl"){const Ge=B.left-S.left,Ye=M.left-Ge,jt=k.left-Ye,ln=k.width+jt,xs=Math.max(ln,S.width),ur=window.innerWidth-os,yn=TN(Ye,[os,Math.max(os,ur-xs)]);u.style.minWidth=ln+"px",u.style.left=yn+"px"}else{const Ge=S.right-B.right,Ye=window.innerWidth-M.right-Ge,jt=window.innerWidth-k.right-Ye,ln=k.width+jt,xs=Math.max(ln,S.width),ur=window.innerWidth-os,yn=TN(Ye,[os,Math.max(os,ur-xs)]);u.style.minWidth=ln+"px",u.style.right=yn+"px"}const D=v(),U=window.innerHeight-os*2,F=E.scrollHeight,ye=window.getComputedStyle(m),Ce=parseInt(ye.borderTopWidth,10),re=parseInt(ye.paddingTop,10),le=parseInt(ye.borderBottomWidth,10),G=parseInt(ye.paddingBottom,10),ce=Ce+re+F+G+le,se=Math.min(N.offsetHeight*5,ce),$=window.getComputedStyle(E),ee=parseInt($.paddingTop,10),ue=parseInt($.paddingBottom,10),me=k.top+k.height/2-os,ve=U-me,Ie=N.offsetHeight/2,ie=N.offsetTop+Ie,pe=Ce+re+ie,ke=ce-pe;if(pe<=me){const Ge=D.length>0&&N===D[D.length-1].ref.current;u.style.bottom="0px";const Ye=m.clientHeight-E.offsetTop-E.offsetHeight,jt=Math.max(ve,Ie+(Ge?ue:0)+Ye+le),ln=pe+jt;u.style.height=ln+"px"}else{const Ge=D.length>0&&N===D[0].ref.current;u.style.top="0px";const jt=Math.max(me,Ce+E.offsetTop+(Ge?ee:0)+Ie)+ke;u.style.height=jt+"px",E.scrollTop=pe-me+E.offsetTop}u.style.margin=`${os}px 0`,u.style.minHeight=se+"px",u.style.maxHeight=U+"px",r?.(),requestAnimationFrame(()=>_.current=!0)}},[v,o.trigger,o.valueNode,u,m,E,N,j,o.dir,r]);Vn(()=>R(),[R]);const[z,V]=A.useState();Vn(()=>{m&&V(window.getComputedStyle(m).zIndex)},[m]);const q=A.useCallback(k=>{k&&C.current===!0&&(R(),O?.(),C.current=!1)},[R,O]);return l.jsx(iq,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:_,onScrollButtonChange:q,children:l.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:z},children:l.jsx(Ke.div,{...s,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Ij.displayName=rq;var sq="SelectPopperPosition",h0=A.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=os,...o}=t,c=Rp(n);return l.jsx(HG,{...c,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});h0.displayName=sq;var[iq,A1]=Dc(Ga,{}),f0="SelectViewport",jj=A.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=Yo(f0,n),c=A1(f0,n),u=Nt(e,o.onViewportChange),h=A.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(jp.Slot,{scope:n,children:l.jsx(Ke.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Je(s.onScroll,m=>{const g=m.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:v}=c;if(v?.current&&y){const _=Math.abs(h.current-g.scrollTop);if(_>0){const C=window.innerHeight-os*2,E=parseFloat(y.style.minHeight),N=parseFloat(y.style.height),j=Math.max(E,N);if(j<C){const O=j+_,R=Math.min(C,O),z=O-R;y.style.height=R+"px",y.style.bottom==="0px"&&(g.scrollTop=z>0?z:0,y.style.justifyContent="flex-end")}}}h.current=g.scrollTop})})})]})});jj.displayName=f0;var kj="SelectGroup",[oq,aq]=Dc(kj),lq=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Co();return l.jsx(oq,{scope:n,id:s,children:l.jsx(Ke.div,{role:"group","aria-labelledby":s,...r,ref:e})})});lq.displayName=kj;var Rj="SelectLabel",cq=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=aq(Rj,n);return l.jsx(Ke.div,{id:s.id,...r,ref:e})});cq.displayName=Rj;var km="SelectItem",[uq,Pj]=Dc(km),Mj=A.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...c}=t,u=Ko(km,n),h=Yo(km,n),m=u.value===r,[g,y]=A.useState(o??""),[v,_]=A.useState(!1),C=Nt(e,O=>h.itemRefCallback?.(O,r,s)),E=Co(),N=A.useRef("touch"),j=()=>{s||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(uq,{scope:n,value:r,disabled:s,textId:E,isSelected:m,onItemTextChange:A.useCallback(O=>{y(R=>R||(O?.textContent??"").trim())},[]),children:l.jsx(jp.ItemSlot,{scope:n,value:r,disabled:s,textValue:g,children:l.jsx(Ke.div,{role:"option","aria-labelledby":E,"data-highlighted":v?"":void 0,"aria-selected":m&&v,"data-state":m?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...c,ref:C,onFocus:Je(c.onFocus,()=>_(!0)),onBlur:Je(c.onBlur,()=>_(!1)),onClick:Je(c.onClick,()=>{N.current!=="mouse"&&j()}),onPointerUp:Je(c.onPointerUp,()=>{N.current==="mouse"&&j()}),onPointerDown:Je(c.onPointerDown,O=>{N.current=O.pointerType}),onPointerMove:Je(c.onPointerMove,O=>{N.current=O.pointerType,s?h.onItemLeave?.():N.current==="mouse"&&O.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Je(c.onPointerLeave,O=>{O.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:Je(c.onKeyDown,O=>{h.searchRef?.current!==""&&O.key===" "||(KG.includes(O.key)&&j(),O.key===" "&&O.preventDefault())})})})})});Mj.displayName=km;var Bu="SelectItemText",Fj=A.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,c=Ko(Bu,n),u=Yo(Bu,n),h=Pj(Bu,n),m=QG(Bu,n),[g,y]=A.useState(null),v=Nt(e,j=>y(j),h.onItemTextChange,j=>u.itemTextRefCallback?.(j,h.value,h.disabled)),_=g?.textContent,C=A.useMemo(()=>l.jsx("option",{value:h.value,disabled:h.disabled,children:_},h.value),[h.disabled,h.value,_]),{onNativeOptionAdd:E,onNativeOptionRemove:N}=m;return Vn(()=>(E(C),()=>N(C)),[E,N,C]),l.jsxs(l.Fragment,{children:[l.jsx(Ke.span,{id:h.textId,...o,ref:v}),h.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Wd.createPortal(o.children,c.valueNode):null]})});Fj.displayName=Bu;var Dj="SelectItemIndicator",Oj=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Pj(Dj,n).isSelected?l.jsx(Ke.span,{"aria-hidden":!0,...r,ref:e}):null});Oj.displayName=Dj;var m0="SelectScrollUpButton",Vj=A.forwardRef((t,e)=>{const n=Yo(m0,t.__scopeSelect),r=A1(m0,t.__scopeSelect),[s,o]=A.useState(!1),c=Nt(e,r.onScrollButtonChange);return Vn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const m=h.scrollTop>0;o(m)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?l.jsx(Bj,{...t,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});Vj.displayName=m0;var p0="SelectScrollDownButton",Lj=A.forwardRef((t,e)=>{const n=Yo(p0,t.__scopeSelect),r=A1(p0,t.__scopeSelect),[s,o]=A.useState(!1),c=Nt(e,r.onScrollButtonChange);return Vn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const m=h.scrollHeight-h.clientHeight,g=Math.ceil(h.scrollTop)<m;o(g)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?l.jsx(Bj,{...t,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});Lj.displayName=p0;var Bj=A.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=Yo("SelectScrollButton",n),c=A.useRef(null),u=kp(n),h=A.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return A.useEffect(()=>()=>h(),[h]),Vn(()=>{u().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),l.jsx(Ke.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Je(s.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:Je(s.onPointerMove,()=>{o.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:Je(s.onPointerLeave,()=>{h()})})}),dq="SelectSeparator",hq=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(Ke.div,{"aria-hidden":!0,...r,ref:e})});hq.displayName=dq;var g0="SelectArrow",fq=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Rp(n),o=Ko(g0,n),c=Yo(g0,n);return o.open&&c.position==="popper"?l.jsx($G,{...s,...r,ref:e}):null});fq.displayName=g0;var mq="SelectBubbleInput",zj=A.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=A.useRef(null),o=Nt(r,s),c=yj(e);return A.useEffect(()=>{const u=s.current;if(!u)return;const h=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==e&&g){const y=new Event("change",{bubbles:!0});g.call(u,e),u.dispatchEvent(y)}},[c,e]),l.jsx(Ke.select,{...n,style:{...xj,...n.style},ref:o,defaultValue:e})});zj.displayName=mq;function Uj(t){return t===""||t===void 0}function Hj(t){const e=Oo(t),n=A.useRef(""),r=A.useRef(0),s=A.useCallback(c=>{const u=n.current+c;e(u),(function h(m){n.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>h(""),1e3))})(u)},[e]),o=A.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function $j(t,e,n){const s=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let c=pq(t,Math.max(o,0));s.length===1&&(c=c.filter(m=>m!==n));const h=c.find(m=>m.textValue.toLowerCase().startsWith(s.toLowerCase()));return h!==n?h:void 0}function pq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var gq=vj,yq=bj,xq=Ej,vq=Nj,wq=Aj,bq=Tj,_q=jj,Eq=Mj,Nq=Fj,Aq=Oj,Tq=Vj,Cq=Lj;function Rm({...t}){return l.jsx(gq,{"data-slot":"select",...t})}function Pm({...t}){return l.jsx(xq,{"data-slot":"select-value",...t})}function Mm({className:t,size:e="default",children:n,...r}){return l.jsxs(yq,{"data-slot":"select-trigger","data-size":e,className:gt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,l.jsx(vq,{asChild:!0,children:l.jsx(v0,{className:"size-4 opacity-50"})})]})}function Fm({className:t,children:e,position:n="popper",...r}){return l.jsx(wq,{children:l.jsxs(bq,{"data-slot":"select-content",className:gt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(Sq,{}),l.jsx(_q,{className:gt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),l.jsx(Iq,{})]})})}function Ct({className:t,children:e,...n}){return l.jsxs(Eq,{"data-slot":"select-item",className:gt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[l.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:l.jsx(Aq,{children:l.jsx(Vm,{className:"size-4"})})}),l.jsx(Nq,{children:e})]})}function Sq({className:t,...e}){return l.jsx(Tq,{"data-slot":"select-scroll-up-button",className:gt("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(YR,{className:"size-4"})})}function Iq({className:t,...e}){return l.jsx(Cq,{"data-slot":"select-scroll-down-button",className:gt("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(v0,{className:"size-4"})})}async function jq(t){try{const e=cr(vt,"bookings");return(await yp(e,{...t,date:rt.fromDate(t.date),createdAt:rt.now(),updatedAt:rt.now()})).id}catch(e){throw console.error("Error creating booking:",e),e}}async function kq(t){try{const e=cr(vt,"bookings"),n=si(e,Ud("userId","==",t)),r=await gs(n),s=[];return r.forEach(o=>{s.push({id:o.id,...o.data(),date:o.data().date.toDate(),createdAt:o.data().createdAt.toDate(),updatedAt:o.data().updatedAt.toDate()})}),s.sort((o,c)=>c.date.getTime()-o.date.getTime())}catch(e){throw console.error("Error getting user bookings:",e),e}}async function Rq(t){try{const e=t.items.map(r=>`${r.quantity}x ${r.name} - R${(r.price*r.quantity).toFixed(2)}`).join(`
`),n={to_email:t.customerEmail,to_name:t.customerName,order_id:t.orderId,order_type:t.orderType,items_list:e,total_amount:`R${t.total.toFixed(2)}`,delivery_address:t.deliveryAddress||"N/A",phone_number:t.phoneNumber||"N/A",restaurant_name:"SMOKEVILLE",restaurant_address:"881 Motlana St, Orlando West, Soweto",restaurant_phone:"011 982 1001"};return console.log(" Order Confirmation Email:",n),await new Promise(r=>setTimeout(r,500)),!0}catch(e){return console.error("Error sending order confirmation email:",e),!1}}async function Pq(t){try{const e={to_email:t.customerEmail,to_name:t.customerName,booking_id:t.bookingId,booking_date:t.date,booking_time:t.time,guest_count:t.guests.toString(),occasion:t.occasion||"Regular dining",special_requests:t.specialRequests||"None",phone_number:t.phoneNumber||"N/A",restaurant_name:"SMOKEVILLE",restaurant_address:"881 Motlana St, Orlando West, Soweto",restaurant_phone:"011 982 1001"};return console.log(" Booking Confirmation Email:",e),await new Promise(n=>setTimeout(n,500)),!0}catch(e){return console.error("Error sending booking confirmation email:",e),!1}}async function VN(t){try{const e={to_email:t.customerEmail,to_name:t.customerName,restaurant_name:"SMOKEVILLE",restaurant_tagline:"GRILL-PIZZA-BEVES",website_url:window.location.origin};return console.log(" Welcome Email:",e),await new Promise(n=>setTimeout(n,500)),!0}catch(e){return console.error("Error sending welcome email:",e),!1}}async function Mq(t){try{const e="admin@smokeville.co.za",n=t.items.map(s=>`${s.quantity}x ${s.name} - R${(s.price*s.quantity).toFixed(2)}`).join(`
`),r={to_email:e,to_name:"SMOKEVILLE Admin",order_id:t.orderId,customer_name:t.customerName,customer_email:t.customerEmail,customer_phone:t.phoneNumber||"N/A",order_type:t.orderType,items_list:n,total_amount:`R${t.total.toFixed(2)}`,delivery_address:t.deliveryAddress||"N/A"};return console.log(" Admin Order Notification:",r),await new Promise(s=>setTimeout(s,500)),!0}catch(e){return console.error("Error sending admin order notification:",e),!1}}async function Fq(t){try{const n={to_email:"admin@smokeville.co.za",to_name:"SMOKEVILLE Admin",booking_id:t.bookingId,customer_name:t.customerName,customer_email:t.customerEmail,customer_phone:t.phoneNumber||"N/A",booking_date:t.date,booking_time:t.time,guest_count:t.guests.toString(),occasion:t.occasion||"Regular dining",special_requests:t.specialRequests||"None"};return console.log(" Admin Booking Notification:",n),await new Promise(r=>setTimeout(r,500)),!0}catch(e){return console.error("Error sending admin booking notification:",e),!1}}function Dq(){const{currentUser:t,userData:e}=ii(),[n,r]=A.useState({name:e?.displayName||"",email:t?.email||"",phone:e?.phoneNumber||"",date:"",time:"",guests:"",occasion:"",specialRequests:""}),[s,o]=A.useState(!1),c=async h=>{if(h.preventDefault(),!t||!e){Ee.error("Please login to make a booking");return}if(!n.date||!n.time||!n.guests||!n.phone){Ee.error("Please fill in all required fields");return}o(!0);try{const m={userId:t.uid,userEmail:t.email||"",userName:n.name||e.displayName||"Guest",phoneNumber:n.phone,date:new Date(n.date),time:n.time,guests:parseInt(n.guests),occasion:n.occasion,specialRequests:n.specialRequests,status:"pending"},g=await jq(m);Ee.success("Booking request submitted!",{description:"We will confirm your reservation shortly."});const y={customerName:n.name||e.displayName||"Guest",customerEmail:t.email||"",bookingId:g,date:new Date(n.date).toLocaleDateString("en-ZA",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),time:n.time,guests:parseInt(n.guests),occasion:n.occasion,specialRequests:n.specialRequests,phoneNumber:n.phone};Promise.all([Pq(y),Fq(y)]).then(()=>{Ee.success("Confirmation email sent!")}).catch(()=>{console.log("Email notification failed (non-critical)")}),r({name:e?.displayName||"",email:t?.email||"",phone:e?.phoneNumber||"",date:"",time:"",guests:"",occasion:"",specialRequests:""})}catch(m){console.error("Error creating booking:",m),Ee.error("Failed to submit booking. Please try again.")}finally{o(!1)}},u=(h,m)=>{r(g=>({...g,[h]:m}))};return l.jsxs("div",{className:"min-h-screen",children:[l.jsxs("section",{className:"relative h-[40vh] flex items-center justify-center",style:{backgroundImage:"url(https://images.unsplash.com/photo-1698280954292-c955f882486f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxyZXN0YXVyYW50JTIwdGFibGUlMjBlbGVnYW50fGVufDF8fHx8MTc2MDcwMDQxMXww&ixlib=rb-4.1.0&q=80&w=1080)",backgroundSize:"cover",backgroundPosition:"center"},children:[l.jsx("div",{className:"absolute inset-0 bg-[#121212]/70"}),l.jsxs("div",{className:"relative z-10 text-center px-4",children:[l.jsx("h1",{className:"text-5xl md:text-6xl mb-4 text-[#F5F5F5]",children:"Reserve Your Table"}),l.jsx("p",{className:"text-xl text-[#CBA135]",children:"Create unforgettable dining memories"})]})]}),l.jsx("section",{className:"py-20 px-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-12",children:[l.jsxs("div",{className:"bg-[#1a1a1a] rounded-2xl p-8 lg:p-12",children:[l.jsx("h2",{className:"text-3xl mb-8 text-[#CBA135]",children:"Book Your Experience"}),l.jsxs("form",{onSubmit:c,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{htmlFor:"name",className:"text-[#F5F5F5]",children:"Full Name *"}),l.jsx(zt,{id:"name",value:n.name,onChange:h=>u("name",h.target.value),required:!0,placeholder:"John Doe",className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5] placeholder:text-[#F5F5F5]/40"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{htmlFor:"email",className:"text-[#F5F5F5]",children:"Email *"}),l.jsx(zt,{id:"email",type:"email",value:n.email,onChange:h=>u("email",h.target.value),required:!0,placeholder:"john@example.com",className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5] placeholder:text-[#F5F5F5]/40"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{htmlFor:"phone",className:"text-[#F5F5F5]",children:"Phone *"}),l.jsx(zt,{id:"phone",type:"tel",value:n.phone,onChange:h=>u("phone",h.target.value),required:!0,placeholder:"+27 12 345 6789",className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5] placeholder:text-[#F5F5F5]/40"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{htmlFor:"date",className:"text-[#F5F5F5]",children:"Date *"}),l.jsxs("div",{className:"relative",children:[l.jsx(zt,{id:"date",type:"date",value:n.date,onChange:h=>u("date",h.target.value),required:!0,className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5]"}),l.jsx(bo,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[#CBA135] pointer-events-none"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{htmlFor:"time",className:"text-[#F5F5F5]",children:"Time *"}),l.jsxs(Rm,{value:n.time,onValueChange:h=>u("time",h),required:!0,children:[l.jsx(Mm,{className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5]",children:l.jsx(Pm,{placeholder:"Select time"})}),l.jsxs(Fm,{className:"max-h-60",children:[l.jsx(Ct,{value:"10:00",children:"10:00 AM"}),l.jsx(Ct,{value:"11:00",children:"11:00 AM"}),l.jsx(Ct,{value:"12:00",children:"12:00 PM"}),l.jsx(Ct,{value:"13:00",children:"1:00 PM"}),l.jsx(Ct,{value:"14:00",children:"2:00 PM"}),l.jsx(Ct,{value:"15:00",children:"3:00 PM"}),l.jsx(Ct,{value:"16:00",children:"4:00 PM"}),l.jsx(Ct,{value:"17:00",children:"5:00 PM"}),l.jsx(Ct,{value:"18:00",children:"6:00 PM"}),l.jsx(Ct,{value:"19:00",children:"7:00 PM"}),l.jsx(Ct,{value:"20:00",children:"8:00 PM"}),l.jsx(Ct,{value:"21:00",children:"9:00 PM"})]})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{htmlFor:"guests",className:"text-[#F5F5F5]",children:"Number of Guests *"}),l.jsxs(Rm,{value:n.guests,onValueChange:h=>u("guests",h),required:!0,children:[l.jsx(Mm,{className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5]",children:l.jsx(Pm,{placeholder:"Select guests"})}),l.jsxs(Fm,{children:[[1,2,3,4,5,6,7,8].map(h=>l.jsxs(Ct,{value:h.toString(),children:[h," ",h===1?"Guest":"Guests"]},h)),l.jsx(Ct,{value:"9+",children:"9+ Guests"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{htmlFor:"occasion",className:"text-[#F5F5F5]",children:"Special Occasion (Optional)"}),l.jsx(zt,{id:"occasion",value:n.occasion,onChange:h=>u("occasion",h.target.value),placeholder:"Birthday, Anniversary, etc.",className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5] placeholder:text-[#F5F5F5]/40"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{htmlFor:"specialRequests",className:"text-[#F5F5F5]",children:"Special Requests (Optional)"}),l.jsx(wp,{id:"specialRequests",value:n.specialRequests,onChange:h=>u("specialRequests",h.target.value),placeholder:"Any dietary requirements, seating preferences, etc.",rows:3,className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5] placeholder:text-[#F5F5F5]/40 resize-none"})]}),t?l.jsx(ze,{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212] py-6",children:s?"Submitting...":"Book My Table"}):l.jsxs("div",{className:"bg-[#CBA135]/10 border border-[#CBA135]/30 rounded-lg p-4 text-center",children:[l.jsx("p",{className:"text-[#F5F5F5] mb-3",children:"Please login to make a booking"}),l.jsx(ze,{onClick:()=>window.location.href="#login",className:"bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212]",children:"Login / Sign Up"})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"rounded-2xl overflow-hidden h-64 bg-cover bg-center",style:{backgroundImage:"url(https://images.unsplash.com/photo-1698280954292-c955f882486f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxyZXN0YXVyYW50JTIwdGFibGUlMjBlbGVnYW50fGVufDF8fHx8MTc2MDcwMDQxMXww&ixlib=rb-4.1.0&q=80&w=1080)"},children:l.jsx("div",{className:"w-full h-full bg-gradient-to-t from-[#121212] via-[#121212]/50 to-transparent"})}),l.jsxs("div",{className:"bg-[#1a1a1a] rounded-2xl p-8 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl mb-2 text-[#CBA135]",children:"Opening Hours"}),l.jsxs("div",{className:"space-y-1 text-[#F5F5F5]/80 text-sm",children:[l.jsx("p",{children:"Tuesday: Closed"}),l.jsx("p",{children:"Wednesday - Thursday: 10:00 AM - 8:00 PM"}),l.jsx("p",{children:"Friday - Sunday: 10:00 AM - 10:00 PM"}),l.jsx("p",{children:"Monday: 10:00 AM - 8:00 PM"})]})]}),l.jsxs("div",{className:"border-t border-[#CBA135]/20 pt-6",children:[l.jsx("h3",{className:"text-xl mb-2 text-[#CBA135]",children:"Contact"}),l.jsxs("div",{className:"space-y-1 text-[#F5F5F5]/80 text-sm",children:[l.jsx("p",{children:"011 982 1001"}),l.jsx("p",{className:"pt-2",children:"881 Motlana St"}),l.jsx("p",{children:"Orlando West, Soweto, 1804"})]})]}),l.jsxs("div",{className:"border-t border-[#CBA135]/20 pt-6",children:[l.jsx("h3",{className:"text-xl mb-2 text-[#CBA135]",children:"Service Options"}),l.jsxs("ul",{className:"space-y-2 text-[#F5F5F5]/80 text-sm list-disc list-inside",children:[l.jsx("li",{children:"All You Can Eat available"}),l.jsx("li",{children:"Outdoor Seating"}),l.jsx("li",{children:"Private Dining Room for special events"}),l.jsx("li",{children:"Reservations recommended for weekends"})]})]})]})]})]})})]})}var T1="Radio",[Oq,Wj]=Oi(T1),[Vq,Lq]=Oq(T1),Gj=A.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:o,disabled:c,value:u="on",onCheck:h,form:m,...g}=t,[y,v]=A.useState(null),_=Nt(e,N=>v(N)),C=A.useRef(!1),E=y?m||!!y.closest("form"):!0;return l.jsxs(Vq,{scope:n,checked:s,disabled:c,children:[l.jsx(Ke.button,{type:"button",role:"radio","aria-checked":s,"data-state":Xj(s),"data-disabled":c?"":void 0,disabled:c,value:u,...g,ref:_,onClick:Je(t.onClick,N=>{s||h?.(),E&&(C.current=N.isPropagationStopped(),C.current||N.stopPropagation())})}),E&&l.jsx(Yj,{control:y,bubbles:!C.current,name:r,value:u,checked:s,required:o,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});Gj.displayName=T1;var qj="RadioIndicator",Kj=A.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,o=Lq(qj,n);return l.jsx(kc,{present:r||o.checked,children:l.jsx(Ke.span,{"data-state":Xj(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e})})});Kj.displayName=qj;var Bq="RadioBubbleInput",Yj=A.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...s},o)=>{const c=A.useRef(null),u=Nt(c,o),h=yj(n),m=oj(e);return A.useEffect(()=>{const g=c.current;if(!g)return;const y=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(y,"checked").set;if(h!==n&&_){const C=new Event("click",{bubbles:r});_.call(g,n),g.dispatchEvent(C)}},[h,n,r]),l.jsx(Ke.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:u,style:{...s.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Yj.displayName=Bq;function Xj(t){return t?"checked":"unchecked"}var zq=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Pp="RadioGroup",[Uq]=Oi(Pp,[_p,Wj]),Jj=_p(),Qj=Wj(),[Hq,$q]=Uq(Pp),Zj=A.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:o,required:c=!1,disabled:u=!1,orientation:h,dir:m,loop:g=!0,onValueChange:y,...v}=t,_=Jj(n),C=bp(m),[E,N]=pc({prop:o,defaultProp:s??null,onChange:y,caller:Pp});return l.jsx(Hq,{scope:n,name:r,required:c,disabled:u,value:E,onValueChange:N,children:l.jsx(sI,{asChild:!0,..._,orientation:h,dir:C,loop:g,children:l.jsx(Ke.div,{role:"radiogroup","aria-required":c,"aria-orientation":h,"data-disabled":u?"":void 0,dir:C,...v,ref:e})})})});Zj.displayName=Pp;var ek="RadioGroupItem",tk=A.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,o=$q(ek,n),c=o.disabled||r,u=Jj(n),h=Qj(n),m=A.useRef(null),g=Nt(e,m),y=o.value===s.value,v=A.useRef(!1);return A.useEffect(()=>{const _=E=>{zq.includes(E.key)&&(v.current=!0)},C=()=>v.current=!1;return document.addEventListener("keydown",_),document.addEventListener("keyup",C),()=>{document.removeEventListener("keydown",_),document.removeEventListener("keyup",C)}},[]),l.jsx(iI,{asChild:!0,...u,focusable:!c,active:y,children:l.jsx(Gj,{disabled:c,required:o.required,checked:y,...h,...s,name:o.name,ref:g,onCheck:()=>o.onValueChange(s.value),onKeyDown:Je(_=>{_.key==="Enter"&&_.preventDefault()}),onFocus:Je(s.onFocus,()=>{v.current&&m.current?.click()})})})});tk.displayName=ek;var Wq="RadioGroupIndicator",nk=A.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=Qj(n);return l.jsx(Kj,{...s,...r,ref:e})});nk.displayName=Wq;var Gq=Zj,qq=tk,Kq=nk;function Yq({className:t,...e}){return l.jsx(Gq,{"data-slot":"radio-group",className:gt("grid gap-3",t),...e})}function nx({className:t,...e}){return l.jsx(qq,{"data-slot":"radio-group-item",className:gt("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:l.jsx(Kq,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:l.jsx(ZR,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const ju=[0,100,250,500,1e3,2e3,3500,5500,8e3,12e3],rk=[{id:"discount_10",name:"10% Off Next Order",description:"Get 10% discount on your next order",pointsCost:200,discount:10},{id:"discount_15",name:"15% Off Next Order",description:"Get 15% discount on your next order",pointsCost:350,discount:15},{id:"discount_20",name:"20% Off Next Order",description:"Get 20% discount on your next order",pointsCost:500,discount:20},{id:"free_wings",name:"Free 8 Wings",description:"Get a free order of 8 smoked wings",pointsCost:400,freeItem:"8 Smoked Wings"},{id:"free_pizza",name:"Free Medium Pizza",description:"Get a free medium pizza of your choice",pointsCost:600,freeItem:"Medium Pizza"},{id:"free_delivery",name:"Free Delivery",description:"Free delivery on your next order",pointsCost:150,discount:0}];async function Xq(t){const e=Tr(vt,"loyalty",t),n=await Em(e);if(n.exists())return n.data();const r={userId:t,points:0,totalPoints:0,level:1,streak:0,lastVisit:new Date,achievements:[],rewards:[],createdAt:new Date,updatedAt:new Date};return await r0(e,{...r,createdAt:qf(),updatedAt:qf(),lastVisit:qf()}),r}async function C1(t){try{const e=Tr(vt,"loyalty",t),n=await Em(e);if(!n.exists())return await Xq(t);const r=n.data();return{...r,lastVisit:r.lastVisit?.toDate(),createdAt:r.createdAt?.toDate(),updatedAt:r.updatedAt?.toDate(),achievements:r.achievements?.map(s=>({...s,unlockedAt:s.unlockedAt?.toDate()}))||[],rewards:r.rewards?.map(s=>({...s,expiresAt:s.expiresAt?.toDate(),usedAt:s.usedAt?.toDate()}))||[]}}catch(e){return console.error("Error fetching loyalty data:",e),null}}async function Jq(t,e){const n=await C1(t);if(!n)return null;const r=rk.find(c=>c.id===e);if(!r)return null;if(n.points<r.pointsCost)throw new Error("Insufficient points");const s={...r,code:Qq(),expiresAt:new Date(Date.now()+720*60*60*1e3)},o=Tr(vt,"loyalty",t);return await n1(o,{points:sU(-r.pointsCost),rewards:[...n.rewards,s],updatedAt:qf()}),s}function Qq(){return"SMK-"+Math.random().toString(36).substring(2,8).toUpperCase()}async function Zq(t){try{const e=cr(vt,"orders"),n=Object.fromEntries(Object.entries({...t,createdAt:rt.now(),updatedAt:rt.now()}).filter(([s,o])=>o!==void 0));return(await yp(e,n)).id}catch(e){throw console.error("Error creating order:",e),e}}async function eK(t){try{const e=cr(vt,"orders"),n=si(e,Ud("userId","==",t)),r=await gs(n),s=[];return r.forEach(o=>{s.push({id:o.id,...o.data(),createdAt:o.data().createdAt.toDate(),updatedAt:o.data().updatedAt.toDate()})}),s.sort((o,c)=>c.createdAt.getTime()-o.createdAt.getTime())}catch(e){throw console.error("Error getting user orders:",e),e}}var tK="clover",sk="https://js.stripe.com",nK="".concat(sk,"/").concat(tK,"/stripe.js"),rK=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,sK=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var iK=function(e){return rK.test(e)||sK.test(e)},oK=function(){for(var e=document.querySelectorAll('script[src^="'.concat(sk,'"]')),n=0;n<e.length;n++){var r=e[n];if(iK(r.src))return r}return null},LN=function(e){var n="",r=document.createElement("script");r.src="".concat(nK).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},ku=null,Cf=null,Sf=null,aK=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},lK=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},cK=function(e){return ku!==null?ku:(ku=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var s=oK();if(!(s&&e)){if(!s)s=LN(e);else if(s&&Sf!==null&&Cf!==null){var o;s.removeEventListener("load",Sf),s.removeEventListener("error",Cf),(o=s.parentNode)===null||o===void 0||o.removeChild(s),s=LN(e)}}Sf=lK(n,r),Cf=aK(r),s.addEventListener("load",Sf),s.addEventListener("error",Cf)}catch(c){r(c);return}}),ku.catch(function(n){return ku=null,Promise.reject(n)}))},Ru,uK=function(){return Ru||(Ru=cK(null).catch(function(e){return Ru=null,Promise.reject(e)}),Ru)};Promise.resolve().then(function(){return uK()}).catch(function(t){console.warn(t)});async function dK(t){return await new Promise(e=>setTimeout(e,2e3)),{success:!0,paymentIntentId:"pi_mock_"+Date.now()}}const _n={CARD:"card",CASH:"cash",EFT:"eft"};function hK({onNavigate:t}={}){const{items:e,updateQuantity:n,removeItem:r,total:s,itemCount:o,orderType:c,setOrderType:u,deliveryFee:h,grandTotal:m,clearCart:g}=Ec(),{currentUser:y,userData:v}=ii(),[_,C]=A.useState(""),[E,N]=A.useState(""),[j,O]=A.useState(""),[R,z]=A.useState(_n.CARD),[V,q]=A.useState(!1),k=(D,U)=>{n(D,U+1)},S=(D,U)=>{U>1?n(D,U-1):r(D)},M=async()=>{if(!y||!v){Ee.error("Please login to place an order");return}if(e.length===0){Ee.error("Your cart is empty");return}if(c==="delivery"&&!_.trim()){Ee.error("Please enter a delivery address");return}if(!j.trim()){Ee.error("Please enter your phone number");return}q(!0);try{let D;if(R===_n.CARD){Ee.info("Processing payment...");const re=await dK(m);if(!re.success){Ee.error(re.error||"Payment failed"),q(!1);return}D=re.paymentIntentId,Ee.success("Payment successful!")}const U={userId:y.uid,userEmail:y.email||"",userName:v.displayName||"Guest",items:e,orderType:c,subtotal:s,deliveryFee:h,total:m,status:"pending",phoneNumber:j,paymentMethod:R};c==="delivery"&&_&&(U.deliveryAddress=_),c==="delivery"&&E&&(U.deliveryInstructions=E),D&&(U.paymentIntentId=D);const F=await Zq(U);Ee.success("Order placed successfully!",{description:`Order ID: ${F.substring(0,8)}...`});const ye={customerName:v.displayName||"Guest",customerEmail:y.email||"",orderId:F,orderType:c,items:e.map(re=>({name:re.name,quantity:re.quantity,price:re.price})),total:m,deliveryAddress:c==="delivery"?_:void 0,phoneNumber:j};Promise.all([Rq(ye),Mq(ye)]).then(()=>{Ee.success("Confirmation email sent!")}).catch(()=>{console.log("Email notification failed (non-critical)")}),g(),C(""),N(""),O(""),z(_n.CARD);const Ce=c==="delivery"?"45-60 minutes":c==="takeaway"?"20-30 minutes":"15-20 minutes";setTimeout(()=>{Ee.info(`Estimated ${c==="eat-in"?"preparation":"ready"} time: ${Ce}`)},1500)}catch(D){console.error("Error placing order:",D),Ee.error("Failed to place order. Please try again.")}finally{q(!1)}},B=[{type:"eat-in",label:"Eat-In",icon:Xb,description:"Dine at our restaurant"},{type:"takeaway",label:"Takeaway",icon:ix,description:"Pick up your order"},{type:"delivery",label:"Delivery",icon:Jf,description:"R35 delivery fee"}];return l.jsx("div",{className:"min-h-screen py-12 px-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h1",{className:"text-5xl mb-12 text-center text-[#CBA135]",children:"Shopping Cart"}),l.jsxs("div",{className:"bg-[#1a1a1a] rounded-2xl p-8",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[l.jsx(_o,{className:"w-6 h-6 text-[#CBA135]"}),l.jsx("h2",{className:"text-2xl text-[#F5F5F5]",children:"Your Order"}),l.jsx(It,{className:"ml-auto bg-[#CBA135] text-[#121212]",children:o})]}),e.length===0?l.jsxs("div",{className:"text-center py-20",children:[l.jsx(_o,{className:"w-20 h-20 text-[#CBA135]/20 mx-auto mb-4"}),l.jsx("p",{className:"text-[#F5F5F5]/60 text-xl mb-2",children:"Your cart is empty"}),l.jsx("p",{className:"text-[#F5F5F5]/40 mb-8",children:"Add items from our menu to get started"}),l.jsx("div",{className:"flex gap-4 justify-center",children:l.jsx(ze,{onClick:()=>t?.("menu"),className:"bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212]",children:"View Menu"})})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-8 pb-8 border-b border-[#CBA135]/20",children:[l.jsx("h3",{className:"text-lg text-[#F5F5F5] mb-4",children:"Select Order Type"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:B.map(D=>{const U=D.icon,F=c===D.type;return l.jsxs(K.button,{onClick:()=>u(D.type),className:`relative p-6 rounded-xl border-2 transition-all ${F?"border-[#CBA135] bg-[#CBA135]/10":"border-[#CBA135]/20 bg-[#121212] hover:border-[#CBA135]/40"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[F&&l.jsx(K.div,{layoutId:"selected-order-type",className:"absolute inset-0 border-2 border-[#CBA135] rounded-xl",initial:!1,transition:{type:"spring",stiffness:300,damping:30}}),l.jsxs("div",{className:"relative z-10",children:[l.jsx(U,{className:`w-8 h-8 mx-auto mb-3 ${F?"text-[#CBA135]":"text-[#F5F5F5]/60"}`}),l.jsx("h4",{className:`mb-1 ${F?"text-[#CBA135]":"text-[#F5F5F5]"}`,children:D.label}),l.jsx("p",{className:"text-sm text-[#F5F5F5]/60",children:D.description})]})]},D.type)})}),l.jsxs("div",{className:"mt-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[#F5F5F5] mb-2",children:"Phone Number *"}),l.jsx(zt,{value:j,onChange:D=>O(D.target.value),placeholder:"+27 123 456 7890",type:"tel",className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5]"})]}),c==="delivery"&&l.jsxs(K.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-[#F5F5F5] mb-2",children:[l.jsx(Ed,{className:"w-4 h-4 inline mr-2"}),"Delivery Address *"]}),l.jsx(zt,{value:_,onChange:D=>C(D.target.value),placeholder:"Enter your delivery address",className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5]"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[#F5F5F5] mb-2",children:"Delivery Instructions (Optional)"}),l.jsx(wp,{value:E,onChange:D=>N(D.target.value),placeholder:"e.g., Ring the doorbell, Gate code, etc.",rows:2,className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5] resize-none"})]})]})]})]}),l.jsxs("div",{className:"mb-8 pb-8 border-b border-[#CBA135]/20",children:[l.jsx("h3",{className:"text-lg text-[#F5F5F5] mb-4",children:"Payment Method"}),l.jsx(Yq,{value:R,onValueChange:z,children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs(St,{htmlFor:"card",className:`relative flex items-center gap-4 p-4 rounded-xl border-2 cursor-pointer transition-all ${R===_n.CARD?"border-[#CBA135] bg-[#CBA135]/10":"border-[#CBA135]/20 bg-[#121212] hover:border-[#CBA135]/40"}`,children:[l.jsx(nx,{value:_n.CARD,id:"card",className:"border-[#CBA135]"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(nP,{className:`w-6 h-6 ${R===_n.CARD?"text-[#CBA135]":"text-[#F5F5F5]/60"}`}),l.jsxs("div",{children:[l.jsx("div",{className:`${R===_n.CARD?"text-[#CBA135]":"text-[#F5F5F5]"}`,children:"Card"}),l.jsx("div",{className:"text-xs text-[#F5F5F5]/60",children:"Secure payment"})]})]})]}),l.jsxs(St,{htmlFor:"cash",className:`relative flex items-center gap-4 p-4 rounded-xl border-2 cursor-pointer transition-all ${R===_n.CASH?"border-[#CBA135] bg-[#CBA135]/10":"border-[#CBA135]/20 bg-[#121212] hover:border-[#CBA135]/40"}`,children:[l.jsx(nx,{value:_n.CASH,id:"cash",className:"border-[#CBA135]"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(FR,{className:`w-6 h-6 ${R===_n.CASH?"text-[#CBA135]":"text-[#F5F5F5]/60"}`}),l.jsxs("div",{children:[l.jsx("div",{className:`${R===_n.CASH?"text-[#CBA135]":"text-[#F5F5F5]"}`,children:"Cash"}),l.jsxs("div",{className:"text-xs text-[#F5F5F5]/60",children:["Pay on ",c==="delivery"?"delivery":"arrival"]})]})]})]}),l.jsxs(St,{htmlFor:"eft",className:`relative flex items-center gap-4 p-4 rounded-xl border-2 cursor-pointer transition-all ${R===_n.EFT?"border-[#CBA135] bg-[#CBA135]/10":"border-[#CBA135]/20 bg-[#121212] hover:border-[#CBA135]/40"}`,children:[l.jsx(nx,{value:_n.EFT,id:"eft",className:"border-[#CBA135]"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(BR,{className:`w-6 h-6 ${R===_n.EFT?"text-[#CBA135]":"text-[#F5F5F5]/60"}`}),l.jsxs("div",{children:[l.jsx("div",{className:`${R===_n.EFT?"text-[#CBA135]":"text-[#F5F5F5]"}`,children:"EFT"}),l.jsx("div",{className:"text-xs text-[#F5F5F5]/60",children:"Bank transfer"})]})]})]})]})}),R===_n.CARD&&l.jsx(K.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 p-4 bg-[#CBA135]/10 border border-[#CBA135]/30 rounded-lg",children:l.jsxs("p",{className:"text-sm text-[#F5F5F5]/80",children:[" ",l.jsx("strong",{children:"Demo Mode:"})," Payment processing is simulated. In production, enter your card details securely via Stripe."]})}),R===_n.EFT&&l.jsxs(K.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 p-4 bg-[#1a1a1a] border border-[#CBA135]/30 rounded-lg",children:[l.jsx("p",{className:"text-sm text-[#F5F5F5] mb-2",children:"Bank Details:"}),l.jsxs("div",{className:"text-sm text-[#F5F5F5]/80 space-y-1",children:[l.jsx("div",{children:"Bank: FNB"}),l.jsx("div",{children:"Account Name: SMOKEVILLE PTY LTD"}),l.jsx("div",{children:"Account Number: 62XXXXXXXXX"}),l.jsx("div",{children:"Branch Code: 250655"}),l.jsx("div",{className:"mt-2 text-[#CBA135]",children:"Reference: Order will be confirmed after payment verification"})]})]})]}),l.jsx("div",{className:"space-y-6 mb-8",children:e.map(D=>l.jsxs("div",{className:"flex gap-4 pb-6 border-b border-[#CBA135]/20 last:border-b-0",children:[D.image&&l.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden flex-shrink-0",children:l.jsx(Dn,{src:D.image,alt:D.name,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"text-lg text-[#F5F5F5] mb-1",children:D.name}),D.category&&l.jsx("p",{className:"text-[#F5F5F5]/40 text-sm mb-2",children:D.category}),l.jsxs("p",{className:"text-[#CBA135] mb-3",children:["R",D.price]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>S(D.id,D.quantity),className:"w-8 h-8 bg-[#121212] rounded flex items-center justify-center hover:bg-[#CBA135]/20 transition-colors",children:l.jsx(QN,{className:"w-4 h-4 text-[#F5F5F5]"})}),l.jsx("span",{className:"text-[#F5F5F5] w-8 text-center",children:D.quantity}),l.jsx("button",{onClick:()=>k(D.id,D.quantity),className:"w-8 h-8 bg-[#121212] rounded flex items-center justify-center hover:bg-[#CBA135]/20 transition-colors",children:l.jsx(b0,{className:"w-4 h-4 text-[#F5F5F5]"})}),l.jsx("button",{onClick:()=>r(D.id),className:"ml-auto text-red-500 hover:text-red-400 transition-colors",children:l.jsx(zu,{className:"w-5 h-5"})})]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("p",{className:"text-[#CBA135]",children:["R",D.price*D.quantity]})})]},D.id))}),l.jsxs("div",{className:"space-y-3 mb-8 pt-6 border-t border-[#CBA135]/20",children:[l.jsxs("div",{className:"bg-[#121212] rounded-lg p-4 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-[#CBA135]",children:[c==="eat-in"&&l.jsx(Xb,{className:"w-5 h-5"}),c==="takeaway"&&l.jsx(ix,{className:"w-5 h-5"}),c==="delivery"&&l.jsx(Jf,{className:"w-5 h-5"}),l.jsx("span",{className:"capitalize",children:c==="eat-in"?"Eat-In":c==="takeaway"?"Takeaway":"Delivery"})]}),c==="eat-in"&&l.jsx("p",{className:"text-sm text-[#F5F5F5]/60 mt-2",children:"We'll prepare your meal for dine-in service"}),c==="takeaway"&&l.jsx("p",{className:"text-sm text-[#F5F5F5]/60 mt-2",children:"Ready for pickup at: 881 Motlana St, Orlando West, Soweto"}),c==="delivery"&&_&&l.jsxs("p",{className:"text-sm text-[#F5F5F5]/60 mt-2",children:["Delivering to: ",_]})]}),l.jsxs("div",{className:"flex justify-between text-[#F5F5F5]/80 text-lg",children:[l.jsx("span",{children:"Subtotal"}),l.jsxs("span",{children:["R",s]})]}),h>0&&l.jsxs("div",{className:"flex justify-between text-[#F5F5F5]/80 text-lg",children:[l.jsx("span",{children:"Delivery Fee"}),l.jsxs("span",{children:["R",h]})]}),l.jsxs("div",{className:"border-t border-[#CBA135]/20 pt-3 flex justify-between text-xl",children:[l.jsx("span",{className:"text-[#CBA135]",children:"Total"}),l.jsxs("span",{className:"text-[#CBA135]",children:["R",m]})]})]}),y?l.jsx(ze,{onClick:M,disabled:V,className:"w-full bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212] text-lg py-6",children:V?"Processing...":l.jsxs(l.Fragment,{children:[c==="eat-in"&&"Confirm Order - Eat-In",c==="takeaway"&&"Confirm Order - Takeaway",c==="delivery"&&"Place Order - Delivery"]})}):l.jsxs("div",{className:"bg-[#CBA135]/10 border border-[#CBA135]/30 rounded-lg p-4 text-center",children:[l.jsx("p",{className:"text-[#F5F5F5] mb-3",children:"Please login to place your order"}),l.jsx(ze,{onClick:()=>window.location.href="#login",className:"bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212]",children:"Login / Sign Up"})]})]})]})]})})}function fK(){const[t,e]=A.useState({name:"",email:"",message:""}),[n,r]=A.useState(!0);A.useEffect(()=>{const o=setInterval(()=>{r(c=>!c)},1e4);return()=>clearInterval(o)},[]);const s=o=>{o.preventDefault(),alert("Thank you for your message! We will get back to you soon."),e({name:"",email:"",message:""})};return l.jsxs("div",{className:"min-h-screen",children:[l.jsxs("section",{className:"relative h-[40vh] flex items-center justify-center",style:{backgroundImage:"url(https://images.unsplash.com/photo-1670819916552-67698b1c86ae?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjaGVmJTIwY29va2luZyUyMGZpcmV8ZW58MXx8fHwxNzYwNzAwNDEwfDA&ixlib=rb-4.1.0&q=80&w=1080)",backgroundSize:"cover",backgroundPosition:"center"},children:[l.jsx("div",{className:"absolute inset-0 bg-[#121212]/70"}),l.jsxs("div",{className:"relative z-10 text-center px-4",children:[l.jsx("h1",{className:"text-5xl md:text-6xl mb-4 text-[#F5F5F5]",children:"Get in Touch"}),l.jsx("p",{className:"text-xl text-[#CBA135]",children:"We'd love to hear from you"})]})]}),l.jsx("section",{className:"py-20 px-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-12",children:[l.jsxs("div",{className:"bg-[#1a1a1a] rounded-2xl p-8 lg:p-12",children:[l.jsx("h2",{className:"text-3xl mb-8 text-[#CBA135]",children:"Send us a Message"}),l.jsxs("form",{onSubmit:s,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{htmlFor:"name",className:"text-[#F5F5F5]",children:"Name *"}),l.jsx(zt,{id:"name",value:t.name,onChange:o=>e(c=>({...c,name:o.target.value})),required:!0,placeholder:"Your name",className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5] placeholder:text-[#F5F5F5]/40"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{htmlFor:"email",className:"text-[#F5F5F5]",children:"Email *"}),l.jsx(zt,{id:"email",type:"email",value:t.email,onChange:o=>e(c=>({...c,email:o.target.value})),required:!0,placeholder:"your@email.com",className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5] placeholder:text-[#F5F5F5]/40"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{htmlFor:"message",className:"text-[#F5F5F5]",children:"Message *"}),l.jsx(wp,{id:"message",value:t.message,onChange:o=>e(c=>({...c,message:o.target.value})),required:!0,placeholder:"How can we help you?",rows:6,className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5] placeholder:text-[#F5F5F5]/40"})]}),l.jsx(K.div,{animate:n?{scale:[1,1.02,1]}:{},transition:{duration:.5},children:l.jsx(ze,{type:"submit",className:"w-full bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212] py-6 transition-all hover:shadow-[0_0_20px_rgba(255,136,0,0.4)] hover:-translate-y-1",children:"Send Message"})})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-[#1a1a1a] rounded-2xl h-64 overflow-hidden",children:l.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3581.0392842394586!2d27.91876!3d-26.23333!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1e950c1c8b1c8b1f%3A0x1234567890abcdef!2s881%20Motlana%20St%2C%20Orlando%20West%2C%20Soweto%2C%201804!5e0!3m2!1sen!2sza!4v1234567890",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",title:"SMOKEVILLE Location"})}),l.jsxs("div",{className:"bg-[#1a1a1a] rounded-2xl p-8 space-y-6",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#CBA135] to-[#B36A2E] rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(Ed,{className:"w-5 h-5 text-[#121212]"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg mb-1 text-[#CBA135]",children:"Location"}),l.jsxs("p",{className:"text-[#F5F5F5]/80 text-sm",children:["881 Motlana St",l.jsx("br",{}),"Orlando West, Soweto",l.jsx("br",{}),"1804, South Africa"]})]})]}),l.jsxs("div",{className:"border-t border-[#CBA135]/20 pt-6 flex gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#CBA135] to-[#B36A2E] rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(w0,{className:"w-5 h-5 text-[#121212]"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg mb-1 text-[#CBA135]",children:"Phone"}),l.jsx("p",{className:"text-[#F5F5F5]/80 text-sm",children:"011 982 1001"})]})]}),l.jsxs("div",{className:"border-t border-[#CBA135]/20 pt-6",children:[l.jsx("h3",{className:"text-lg mb-3 text-[#CBA135]",children:"Service Options"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("span",{className:"px-3 py-1 bg-[#CBA135]/20 rounded-full text-[#F5F5F5]/80 text-sm border border-[#CBA135]/30",children:" All You Can Eat"}),l.jsx("span",{className:"px-3 py-1 bg-[#CBA135]/20 rounded-full text-[#F5F5F5]/80 text-sm border border-[#CBA135]/30",children:" Outdoor Seating"}),l.jsx("span",{className:"px-3 py-1 bg-[#CBA135]/20 rounded-full text-[#F5F5F5]/80 text-sm border border-[#CBA135]/30",children:" Private Dining Room"})]})]}),l.jsxs("div",{className:"border-t border-[#CBA135]/20 pt-6 flex gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#CBA135] to-[#B36A2E] rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(_d,{className:"w-5 h-5 text-[#121212]"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg mb-1 text-[#CBA135]",children:"Hours"}),l.jsxs("div",{className:"text-[#F5F5F5]/80 text-sm space-y-1",children:[l.jsx("p",{children:"Tuesday: Closed"}),l.jsx("p",{children:"Wed-Thu: 10:00 AM - 8:00 PM"}),l.jsx("p",{children:"Fri-Sun: 10:00 AM - 10:00 PM"}),l.jsx("p",{children:"Monday: 10:00 AM - 8:00 PM"})]})]})]})]})]})]})})]})}function mK(){const t=[{title:"Head Chef",type:"Full-time",location:"Cape Town",description:"Lead our culinary team and create innovative dishes that showcase the best of flame-grilled cuisine."},{title:"Grill Master",type:"Full-time",location:"Cape Town",description:"Expert in smoke and fire cooking techniques. Manage our signature grill station."},{title:"Sommelier",type:"Full-time",location:"Cape Town",description:"Curate our wine collection and guide guests through memorable beverage pairings."},{title:"Waitstaff",type:"Part-time",location:"Cape Town",description:"Deliver exceptional service and create unforgettable dining experiences for our guests."},{title:"Bartender",type:"Full-time",location:"Cape Town",description:"Craft creative cocktails and manage our bar with expertise and flair."}],e=["https://images.unsplash.com/photo-1670819916552-67698b1c86ae?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjaGVmJTIwY29va2luZyUyMGZpcmV8ZW58MXx8fHwxNzYwNzAwNDEwfDA&ixlib=rb-4.1.0&q=80&w=1080","https://images.unsplash.com/photo-1594266063697-304befca9629?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxncmlsbGVkJTIwcmlicyUyMHNtb2tlfGVufDF8fHx8MTc2MDcwMDQwOXww&ixlib=rb-4.1.0&q=80&w=1080","https://images.unsplash.com/photo-1620818309871-6255570324d5?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjb2NrdGFpbCUyMGJhciUyMGRhcmt8ZW58MXx8fHwxNzYwNzAwNDA5fDA&ixlib=rb-4.1.0&q=80&w=1080","https://images.unsplash.com/photo-1653205580794-309d27d8c1c7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxyZXN0YXVyYW50JTIwZGFyayUyMGVsZWdhbnR8ZW58MXx8fHwxNzYwNzAwNDA4fDA&ixlib=rb-4.1.0&q=80&w=1080"];return l.jsxs("div",{className:"min-h-screen",children:[l.jsxs("section",{className:"relative h-[50vh] flex items-center justify-center",style:{backgroundImage:"url(https://images.unsplash.com/photo-1670819916552-67698b1c86ae?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjaGVmJTIwY29va2luZyUyMGZpcmV8ZW58MXx8fHwxNzYwNzAwNDEwfDA&ixlib=rb-4.1.0&q=80&w=1080)",backgroundSize:"cover",backgroundPosition:"center"},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#121212]/80 via-[#121212]/60 to-[#121212]"}),l.jsxs("div",{className:"relative z-10 text-center px-4",children:[l.jsx("h1",{className:"text-5xl md:text-6xl mb-4 text-[#F5F5F5]",children:"Join the Family that Masters the Flame"}),l.jsx("p",{className:"text-xl text-[#CBA135] max-w-2xl mx-auto",children:"Build your career in a place where passion meets perfection"})]})]}),l.jsx("section",{className:"py-20 px-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("h2",{className:"text-4xl mb-12 text-center text-[#CBA135]",children:["Why Work at ",l.jsx("span",{className:"smokeville-logo",children:"SMOKEVILLE"}),"?"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#CBA135] to-[#B36A2E] rounded-full mx-auto mb-4 flex items-center justify-center text-[#121212] text-2xl",children:""}),l.jsx("h3",{className:"text-xl mb-3 text-[#F5F5F5]",children:"Growth & Learning"}),l.jsx("p",{className:"text-[#F5F5F5]/60",children:"Train under award-winning chefs and master new culinary techniques"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#CBA135] to-[#B36A2E] rounded-full mx-auto mb-4 flex items-center justify-center text-[#121212] text-2xl",children:""}),l.jsx("h3",{className:"text-xl mb-3 text-[#F5F5F5]",children:"Team Culture"}),l.jsx("p",{className:"text-[#F5F5F5]/60",children:"Be part of a supportive, diverse team that feels like family"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#CBA135] to-[#B36A2E] rounded-full mx-auto mb-4 flex items-center justify-center text-[#121212] text-2xl",children:""}),l.jsx("h3",{className:"text-xl mb-3 text-[#F5F5F5]",children:"Benefits"}),l.jsx("p",{className:"text-[#F5F5F5]/60",children:"Competitive salary, health benefits, and staff meals"})]})]})]})}),l.jsx("section",{className:"py-20 px-4 bg-[#0a0a0a]",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsx("h2",{className:"text-4xl mb-12 text-center text-[#CBA135]",children:"Our Team at Work"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.map((n,r)=>l.jsx("div",{className:"aspect-square rounded-2xl overflow-hidden group",children:l.jsx(Dn,{src:n,alt:`Team member ${r+1}`,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})},r))})]})}),l.jsx("section",{className:"py-20 px-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h2",{className:"text-4xl mb-12 text-center text-[#CBA135]",children:"Current Openings"}),l.jsx("div",{className:"space-y-4",children:t.map((n,r)=>l.jsxs("div",{className:"bg-[#1a1a1a] rounded-2xl p-6 hover:ring-2 hover:ring-[#CBA135]/50 transition-all",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl mb-2 text-[#F5F5F5]",children:n.title}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(It,{variant:"outline",className:"border-[#CBA135]/30 text-[#CBA135]",children:[l.jsx(VR,{className:"w-3 h-3 mr-1"}),n.type]}),l.jsx(It,{variant:"outline",className:"border-[#CBA135]/30 text-[#F5F5F5]/80",children:n.location})]})]}),l.jsx(ze,{className:"bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212] md:w-auto",children:"Apply Now"})]}),l.jsx("p",{className:"text-[#F5F5F5]/70",children:n.description})]},r))})]})}),l.jsx("section",{className:"py-20 px-4 bg-[#0a0a0a]",children:l.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[l.jsx("h2",{className:"text-4xl mb-4 text-[#CBA135]",children:"Don't See Your Role?"}),l.jsxs("p",{className:"text-[#F5F5F5]/80 mb-8",children:["We're always looking for talented individuals. Send us your CV and let us know how you'd like to contribute to the ",l.jsx("span",{className:"smokeville-logo text-[#CBA135]",children:"SMOKEVILLE"})," family."]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-[#F5F5F5]",children:"Email: careers@smokeville.co.za"}),l.jsx("p",{className:"text-[#F5F5F5]/60 text-sm",children:'Please include "Application - [Position]" in your subject line'})]})]})})]})}function pK({onNavigate:t}){const{login:e,loginWithGoogle:n}=ii(),[r,s]=A.useState({email:"",password:""}),[o,c]=A.useState("idle"),[u,h]=A.useState(""),m=async y=>{y.preventDefault(),h(""),c("loading");try{await e(r.email,r.password),c("success"),Ee.success("Welcome back to SMOKEVILLE!"),setTimeout(()=>{t("home")},1e3)}catch(v){c("idle");let _="Failed to login. Please try again.";v.code==="auth/user-not-found"?_="No account found with this email.":v.code==="auth/wrong-password"?_="Incorrect password.":v.code==="auth/invalid-email"?_="Invalid email address.":v.code==="auth/too-many-requests"&&(_="Too many failed attempts. Please try again later."),h(_),Ee.error(_)}},g=async()=>{try{c("loading"),await n(),c("success"),Ee.success("Welcome to SMOKEVILLE!"),setTimeout(()=>{t("home")},1e3)}catch{c("idle");const v="Failed to login with Google. Please try again.";h(v),Ee.error(v)}};return l.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 relative overflow-hidden",children:[l.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",children:l.jsx("source",{src:"https://assets.mixkit.co/videos/preview/mixkit-candles-burning-in-a-restaurant-4082-large.mp4",type:"video/mp4"})}),l.jsx("div",{className:"absolute inset-0 bg-[#121212]/80 backdrop-blur-sm"}),l.jsx(K.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,ease:"easeOut"},className:"relative z-10 w-full max-w-md",children:l.jsxs("div",{className:"bg-[#1a1a1a]/80 backdrop-blur-md rounded-2xl p-8 border border-[#CBA135]/20",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"smokeville-logo text-2xl sm:text-3xl mb-2 text-[#CBA135]",children:"SMOKEVILLE"}),l.jsx("p",{className:"text-[#F5F5F5]/60 text-sm tracking-widest",children:"Grill  Pizza  Beves"})]}),l.jsxs("form",{onSubmit:m,className:"space-y-6",children:[l.jsxs(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-2",children:[l.jsx(St,{htmlFor:"email",className:"text-[#F5F5F5]",children:"Email"}),l.jsx(zt,{id:"email",type:"email",value:r.email,onChange:y=>s(v=>({...v,email:y.target.value})),required:!0,placeholder:"your@email.com",className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5] placeholder:text-[#F5F5F5]/40",disabled:o!=="idle"})]}),l.jsxs(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-2",children:[l.jsx(St,{htmlFor:"password",className:"text-[#F5F5F5]",children:"Password"}),l.jsx(zt,{id:"password",type:"password",value:r.password,onChange:y=>s(v=>({...v,password:y.target.value})),required:!0,placeholder:"",className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5] placeholder:text-[#F5F5F5]/40",disabled:o!=="idle"})]}),u&&l.jsx(K.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500/50 rounded-lg p-3 text-sm text-red-400",children:u}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("label",{className:"flex items-center gap-2 text-[#F5F5F5]/80 cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"rounded border-[#CBA135]/30 bg-[#121212] text-[#CBA135] focus:ring-[#CBA135]"}),"Remember me"]}),l.jsx("button",{type:"button",className:"text-[#CBA135] hover:text-[#B36A2E] transition-colors",children:"Forgot Password?"})]}),l.jsx(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:l.jsxs(ze,{type:"submit",disabled:o!=="idle",className:"w-full bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212] py-6 relative overflow-hidden transition-all hover:shadow-[0_0_30px_rgba(245,124,0,0.4)]",children:[o==="idle"&&"Login",o==="loading"&&l.jsxs(K.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center gap-2",children:[l.jsx(JN,{className:"w-5 h-5 animate-spin"}),l.jsx("span",{children:"Logging in..."})]}),o==="success"&&l.jsxs(K.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"flex items-center gap-2",children:[l.jsx(K.div,{initial:{rotate:0},animate:{rotate:360},transition:{duration:.5},children:l.jsx(Vm,{className:"w-5 h-5"})}),l.jsx("span",{children:"Success!"})]})]})})]}),l.jsxs("div",{className:"relative my-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-[#CBA135]/20"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-[#1a1a1a] text-[#F5F5F5]/60",children:"Or continue with"})})]}),l.jsx("div",{className:"grid grid-cols-1 gap-4",children:l.jsxs(ze,{type:"button",variant:"outline",onClick:g,disabled:o!=="idle",className:"border-[#CBA135]/30 text-[#F5F5F5] hover:bg-[#CBA135]/10 w-full",children:[l.jsx(XN,{className:"w-5 h-5 mr-2"}),"Continue with Google"]})}),l.jsxs("p",{className:"text-center text-sm text-[#F5F5F5]/60 mt-6",children:["New to ",l.jsx("span",{className:"smokeville-logo text-[#CBA135]",children:"SMOKEVILLE"}),"?"," ",l.jsx("button",{onClick:()=>t("signup"),className:"text-[#CBA135] hover:text-[#B36A2E] transition-colors",children:"Create an Account"})]})]})})]})}function gK({onNavigate:t}){const{signup:e,loginWithGoogle:n}=ii(),[r,s]=A.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[o,c]=A.useState(!1),[u,h]=A.useState(""),[m,g]=A.useState(!1),[y,v]=A.useState([]);A.useEffect(()=>{const E=setInterval(()=>{v(N=>[...N,{id:Date.now(),x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight}])},2e3);return()=>clearInterval(E)},[]),A.useEffect(()=>{y.length>10&&v(E=>E.slice(-10))},[y]);const _=async E=>{if(E.preventDefault(),h(""),r.password!==r.confirmPassword){h("Passwords do not match!"),Ee.error("Passwords do not match!");return}if(r.password.length<6){h("Password must be at least 6 characters long."),Ee.error("Password must be at least 6 characters long.");return}g(!0);try{await e(r.email,r.password,r.name,r.phone),c(!0),Ee.success("Account created successfully! Welcome to SMOKEVILLE!"),VN({customerName:r.name,customerEmail:r.email}).then(()=>{Ee.success("Welcome email sent!")}).catch(()=>{console.log("Welcome email failed (non-critical)")}),setTimeout(()=>{t("home")},3e3)}catch(N){g(!1);let j="Failed to create account. Please try again.";N.code==="auth/email-already-in-use"?j="An account with this email already exists.":N.code==="auth/invalid-email"?j="Invalid email address.":N.code==="auth/weak-password"&&(j="Password is too weak."),h(j),Ee.error(j)}},C=async()=>{try{g(!0);const E=await n();c(!0),Ee.success("Account created successfully! Welcome to SMOKEVILLE!"),E&&E.email&&VN({customerName:E.displayName||"Guest",customerEmail:E.email}).then(()=>{Ee.success("Welcome email sent!")}).catch(()=>{console.log("Welcome email failed (non-critical)")}),setTimeout(()=>{t("home")},3e3)}catch{g(!1);const N="Failed to sign up with Google. Please try again.";h(N),Ee.error(N)}};return l.jsxs("div",{className:"min-h-screen grid grid-cols-1 lg:grid-cols-2 relative overflow-hidden",children:[y.map(E=>l.jsx(K.div,{initial:{opacity:0,scale:0,x:E.x,y:E.y},animate:{opacity:[0,1,0],scale:[0,1,0],y:E.y-200},transition:{duration:3,ease:"easeOut"},className:"absolute text-2xl pointer-events-none",children:""},E.id)),l.jsx(ei,{children:o&&l.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-[#121212]/90 backdrop-blur-md z-50 flex items-center justify-center",children:l.jsxs(K.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:.8},className:"text-center",children:[l.jsx(K.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-24 h-24 mx-auto mb-6",children:l.jsx(zr,{className:"w-full h-full text-[#CBA135]"})}),l.jsxs("h2",{className:"text-4xl mb-4 text-[#CBA135]",children:["Welcome to ",l.jsx("span",{className:"smokeville-logo",children:"SMOKEVILLE"}),"!"]}),l.jsx("p",{className:"text-[#F5F5F5]/80 text-lg",children:"Your account has been created successfully"}),[...Array(20)].map((E,N)=>l.jsx(K.div,{initial:{y:0,opacity:1},animate:{y:Math.random()*500-250,x:Math.random()*400-200,opacity:0,rotate:Math.random()*360},transition:{duration:1.5,delay:N*.05},className:"absolute top-1/2 left-1/2 w-3 h-3 bg-[#CBA135] rounded-full"},N))]})})}),l.jsxs("div",{className:"hidden lg:block relative",children:[l.jsx(Dn,{src:"https://images.unsplash.com/photo-1670819916552-67698b1c86ae?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjaGVmJTIwY29va2luZyUyMGZpcmV8ZW58MXx8fHwxNzYwNzAwNDEwfDA&ixlib=rb-4.1.0&q=80&w=1080",alt:"Chef cooking",className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-[#121212]/80"}),l.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-12",children:[l.jsx("h2",{className:"text-4xl mb-4 text-[#F5F5F5]",children:"Join the Smoke Family"}),l.jsx("p",{className:"text-[#F5F5F5]/80 text-lg",children:"Experience exclusive benefits, faster ordering, and personalized recommendations"})]})]}),l.jsx("div",{className:"flex items-center justify-center px-4 py-12 bg-[#121212]",children:l.jsxs(K.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-md",children:[l.jsxs(K.div,{className:"text-center mb-8",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[l.jsx(K.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},className:"text-6xl mb-4",children:""}),l.jsx("h1",{className:"smokeville-logo text-2xl sm:text-3xl mb-2 text-[#CBA135]",children:"SMOKEVILLE"}),l.jsx("p",{className:"text-[#F5F5F5]/60 text-sm tracking-widest",children:"Grill  Pizza  Beves"})]}),l.jsxs("div",{className:"bg-[#1a1a1a] rounded-2xl p-8 border border-[#CBA135]/20",children:[l.jsx("h2",{className:"text-2xl mb-6 text-[#F5F5F5]",children:"Create Account"}),l.jsxs("form",{onSubmit:_,className:"space-y-4",children:[l.jsxs(K.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},className:"space-y-2",children:[l.jsx(St,{htmlFor:"name",className:"text-[#F5F5F5]",children:"Full Name"}),l.jsx(zt,{id:"name",value:r.name,onChange:E=>s(N=>({...N,name:E.target.value})),required:!0,placeholder:"John Doe",className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5] placeholder:text-[#F5F5F5]/40"})]}),l.jsxs(K.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},className:"space-y-2",children:[l.jsx(St,{htmlFor:"email",className:"text-[#F5F5F5]",children:"Email"}),l.jsx(zt,{id:"email",type:"email",value:r.email,onChange:E=>s(N=>({...N,email:E.target.value})),required:!0,placeholder:"your@email.com",className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5] placeholder:text-[#F5F5F5]/40",disabled:m})]}),l.jsxs(K.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.25},className:"space-y-2",children:[l.jsx(St,{htmlFor:"phone",className:"text-[#F5F5F5]",children:"Phone Number (Optional)"}),l.jsx(zt,{id:"phone",type:"tel",value:r.phone,onChange:E=>s(N=>({...N,phone:E.target.value})),placeholder:"+27 123 456 7890",className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5] placeholder:text-[#F5F5F5]/40",disabled:m})]}),l.jsxs(K.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3},className:"space-y-2",children:[l.jsx(St,{htmlFor:"password",className:"text-[#F5F5F5]",children:"Password"}),l.jsx(zt,{id:"password",type:"password",value:r.password,onChange:E=>s(N=>({...N,password:E.target.value})),required:!0,placeholder:"",className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5] placeholder:text-[#F5F5F5]/40",disabled:m})]}),l.jsxs(K.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.35},className:"space-y-2",children:[l.jsx(St,{htmlFor:"confirmPassword",className:"text-[#F5F5F5]",children:"Confirm Password"}),l.jsx(zt,{id:"confirmPassword",type:"password",value:r.confirmPassword,onChange:E=>s(N=>({...N,confirmPassword:E.target.value})),required:!0,placeholder:"",className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5] placeholder:text-[#F5F5F5]/40",disabled:m})]}),u&&l.jsx(K.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500/50 rounded-lg p-3 text-sm text-red-400",children:u}),l.jsx("div",{className:"pt-2",children:l.jsxs("label",{className:"flex items-start gap-2 text-sm text-[#F5F5F5]/80 cursor-pointer",children:[l.jsx("input",{type:"checkbox",required:!0,className:"mt-0.5 rounded border-[#CBA135]/30 bg-[#121212] text-[#CBA135] focus:ring-[#CBA135]"}),l.jsx("span",{children:"I agree to the Terms of Service and Privacy Policy"})]})}),l.jsx(K.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.6},children:l.jsx(ze,{type:"submit",disabled:m,className:"w-full bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212] py-6 transition-all hover:shadow-[0_0_30px_rgba(245,124,0,0.4)] hover:-translate-y-1",children:m?"Creating Account...":"Join the Smoke Family"})})]}),l.jsxs("div",{className:"relative my-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-[#CBA135]/20"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-[#1a1a1a] text-[#F5F5F5]/60",children:"Or continue with"})})]}),l.jsx("div",{className:"grid grid-cols-1 gap-4",children:l.jsxs(ze,{type:"button",variant:"outline",onClick:C,disabled:m,className:"border-[#CBA135]/30 text-[#F5F5F5] hover:bg-[#CBA135]/10 w-full",children:[l.jsx(XN,{className:"w-5 h-5 mr-2"}),"Continue with Google"]})}),l.jsxs("p",{className:"text-center text-sm text-[#F5F5F5]/60 mt-6",children:["Already have an account?"," ",l.jsx("button",{onClick:()=>t("login"),className:"text-[#CBA135] hover:text-[#B36A2E] transition-colors",children:"Login"})]})]})]})})]})}async function yK(t){try{const e=cr(vt,"reviews"),n=si(e,Ud("userId","==",t),Ja("createdAt","desc")),r=await gs(n),s=[];return r.forEach(o=>{s.push({id:o.id,...o.data(),createdAt:o.data().createdAt.toDate(),updatedAt:o.data().updatedAt.toDate()})}),s}catch(e){throw console.error("Error getting user reviews:",e),e}}function it({className:t,...e}){return l.jsx("div",{"data-slot":"card",className:gt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function zs({className:t,...e}){return l.jsx("div",{"data-slot":"card-header",className:gt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function $n({className:t,...e}){return l.jsx("h4",{"data-slot":"card-title",className:gt("leading-none",t),...e})}function _r({className:t,...e}){return l.jsx("p",{"data-slot":"card-description",className:gt("text-muted-foreground",t),...e})}function nr({className:t,...e}){return l.jsx("div",{"data-slot":"card-content",className:gt("px-6 [&:last-child]:pb-6",t),...e})}var S1="Progress",I1=100,[xK]=Oi(S1),[vK,wK]=xK(S1),ik=A.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=bK,...c}=t;(s||s===0)&&!BN(s)&&console.error(_K(`${s}`,"Progress"));const u=BN(s)?s:I1;r!==null&&!zN(r,u)&&console.error(EK(`${r}`,"Progress"));const h=zN(r,u)?r:null,m=Dm(h)?o(h,u):void 0;return l.jsx(vK,{scope:n,value:h,max:u,children:l.jsx(Ke.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":Dm(h)?h:void 0,"aria-valuetext":m,role:"progressbar","data-state":lk(h,u),"data-value":h??void 0,"data-max":u,...c,ref:e})})});ik.displayName=S1;var ok="ProgressIndicator",ak=A.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=wK(ok,n);return l.jsx(Ke.div,{"data-state":lk(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});ak.displayName=ok;function bK(t,e){return`${Math.round(t/e*100)}%`}function lk(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Dm(t){return typeof t=="number"}function BN(t){return Dm(t)&&!isNaN(t)&&t>0}function zN(t,e){return Dm(t)&&!isNaN(t)&&t<=e&&t>=0}function _K(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${I1}\`.`}function EK(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${I1} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var NK=ik,AK=ak;function ck({className:t,value:e,...n}){return l.jsx(NK,{"data-slot":"progress",className:gt("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...n,children:l.jsx(AK,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}function Ta({children:t,className:e="",intensity:n=1}){const r=A.useRef(null),[s,o]=A.useState(!1),c=Io(0),u=Io(0),h=ac(c,{stiffness:500,damping:100}),m=ac(u,{stiffness:500,damping:100}),g=Ca(m,[-.5,.5],[10*n,-10*n]),y=Ca(h,[-.5,.5],[-10*n,10*n]),v=C=>{if(!r.current)return;const E=r.current.getBoundingClientRect(),N=E.width,j=E.height,O=C.clientX-E.left,R=C.clientY-E.top,z=O/N-.5,V=R/j-.5;c.set(z),u.set(V)},_=()=>{c.set(0),u.set(0),o(!1)};return l.jsxs(K.div,{ref:r,onMouseMove:v,onMouseEnter:()=>o(!0),onMouseLeave:_,style:{rotateX:g,rotateY:y,transformStyle:"preserve-3d"},className:`relative ${e}`,children:[l.jsx(K.div,{className:"absolute inset-0 rounded-lg opacity-0 pointer-events-none",style:{background:`radial-gradient(
            circle at ${Ca(h,[-.5,.5],[0,100])}% ${Ca(m,[-.5,.5],[0,100])}%,
            rgba(203, 161, 53, 0.3),
            transparent 50%
          )`},animate:{opacity:s?1:0},transition:{duration:.2}}),l.jsx(K.div,{className:"absolute inset-0 rounded-lg overflow-hidden pointer-events-none",style:{background:`linear-gradient(
            ${Ca(h,[-.5,.5],[0,180])}deg,
            transparent 30%,
            rgba(203, 161, 53, 0.1) 50%,
            transparent 70%
          )`},animate:{opacity:s?1:0},transition:{duration:.2}}),l.jsx(K.div,{className:"absolute inset-0 rounded-lg pointer-events-none",style:{boxShadow:"0 0 20px rgba(203, 161, 53, 0.5)"},animate:{opacity:s?.7:0},transition:{duration:.2}}),l.jsx("div",{style:{transform:"translateZ(20px)"},children:t})]})}function Om({children:t,color:e="#CBA135",intensity:n="medium",pulse:r=!1,className:s=""}){const o={low:"0 0 5px, 0 0 10px",medium:"0 0 10px, 0 0 20px, 0 0 30px",high:"0 0 10px, 0 0 20px, 0 0 40px, 0 0 80px"},c=o[n].split(",").map(h=>`${h.trim()} ${e}`).join(", "),u=r?{boxShadow:[c,o[n].split(",").map(h=>`${h.trim()} ${e}80`).join(", "),c]}:{};return l.jsx(K.div,{className:`relative ${s}`,style:{boxShadow:c},animate:u,transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:t})}function y0({children:t,color:e="#CBA135",className:n="",flicker:r=!1}){const s=`
    0 0 7px ${e},
    0 0 10px ${e},
    0 0 21px ${e},
    0 0 42px ${e}
  `,o=r?{opacity:[1,.8,1,.9,1,.7,1],textShadow:[s,`0 0 4px ${e}, 0 0 7px ${e}`,s,`0 0 5px ${e}, 0 0 10px ${e}`,s]}:{};return l.jsx(K.span,{className:n,style:{textShadow:s,color:e},animate:o,transition:{duration:3,repeat:1/0,repeatType:"loop"},children:t})}const TK={common:"text-gray-400",rare:"text-blue-400",epic:"text-purple-400",legendary:"text-yellow-400"},UN={common:"bg-gray-500/10",rare:"bg-blue-500/10",epic:"bg-purple-500/10",legendary:"bg-yellow-500/10"};function CK(){const{currentUser:t}=ii(),[e,n]=A.useState(null),[r,s]=A.useState(!0),[o,c]=A.useState(!1),[u,h]=A.useState(null);A.useEffect(()=>{t&&m()},[t]);const m=async()=>{if(!t)return;s(!0);const E=await C1(t.uid);n(E),s(!1)},g=async E=>{if(!(!t||!e))try{const N=await Jq(t.uid,E);N&&(Ee.success("Reward Redeemed!",{description:`${N.name} - Code: ${N.code}`}),await m())}catch(N){Ee.error(N.message||"Failed to redeem reward")}},y=()=>{o||(c(!0),setTimeout(()=>{const E=["10 Points","25 Points","50 Points","5% Off","Free Wings","Try Again"],N=E[Math.floor(Math.random()*E.length)];h(N),c(!1),N!=="Try Again"&&Ee.success(`You won: ${N}!`)},3e3))};if(r||!e)return l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsx(K.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:l.jsx(zr,{className:"w-8 h-8 text-[#CBA135]"})})});const v=ju[e.level-1]||0,_=ju[e.level]||ju[ju.length-1],C=(e.totalPoints-v)/(_-v)*100;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsx(Ta,{children:l.jsx(it,{className:"bg-gradient-to-br from-[#CBA135]/20 to-zinc-900 border-[#CBA135]/30",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx(sP,{className:"w-8 h-8 text-[#CBA135]"}),l.jsxs(It,{className:"bg-[#CBA135] text-black border-none",children:["Level ",e.level]})]}),l.jsx(y0,{className:"text-3xl block mb-2",children:e.level}),l.jsx("p",{className:"text-sm text-zinc-400",children:"Your Level"}),e.level<ju.length&&l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-zinc-500",children:"Progress"}),l.jsxs("span",{className:"text-[#CBA135]",children:[Math.round(C),"%"]})]}),l.jsx(ck,{value:C,className:"h-1"}),l.jsxs("p",{className:"text-xs text-zinc-500",children:[_-e.totalPoints," points to Level ",e.level+1]})]})]})})}),l.jsx(Ta,{children:l.jsx(it,{className:"bg-gradient-to-br from-blue-500/20 to-zinc-900 border-blue-500/30",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx(zr,{className:"w-8 h-8 text-blue-400"}),l.jsx(K.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},children:l.jsx(pt,{className:"w-6 h-6 text-blue-400 fill-blue-400"})})]}),l.jsx("div",{className:"text-3xl mb-2 text-blue-400",children:e.points.toLocaleString()}),l.jsx("p",{className:"text-sm text-zinc-400",children:"Available Points"}),l.jsxs("p",{className:"text-xs text-zinc-500 mt-2",children:["Lifetime: ",e.totalPoints.toLocaleString()]})]})})}),l.jsx(Ta,{children:l.jsx(it,{className:"bg-gradient-to-br from-orange-500/20 to-zinc-900 border-orange-500/30",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx(Bm,{className:"w-8 h-8 text-orange-500"}),l.jsx(K.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0},children:""})]}),l.jsx("div",{className:"text-3xl mb-2 text-orange-500",children:e.streak}),l.jsx("p",{className:"text-sm text-zinc-400",children:"Day Streak"}),l.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Keep ordering to maintain your streak!"})]})})}),l.jsx(Ta,{children:l.jsx(it,{className:"bg-gradient-to-br from-purple-500/20 to-zinc-900 border-purple-500/30",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx(Zf,{className:"w-8 h-8 text-purple-400"}),l.jsx(It,{className:"bg-purple-500 text-white border-none",children:e.achievements.length})]}),l.jsx("div",{className:"text-3xl mb-2 text-purple-400",children:e.achievements.length}),l.jsx("p",{className:"text-sm text-zinc-400",children:"Achievements"}),l.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Unlock more to earn points"})]})})})]}),l.jsxs(Rc,{defaultValue:"rewards",className:"w-full",children:[l.jsxs(Pc,{className:"grid w-full grid-cols-3 bg-zinc-900",children:[l.jsxs(An,{value:"rewards",children:[l.jsx(cy,{className:"w-4 h-4 mr-2"}),"Rewards"]}),l.jsxs(An,{value:"achievements",children:[l.jsx(PR,{className:"w-4 h-4 mr-2"}),"Achievements"]}),l.jsxs(An,{value:"wheel",children:[l.jsx(If,{className:"w-4 h-4 mr-2"}),"Spin & Win"]})]}),l.jsxs(lt,{value:"rewards",className:"space-y-4 mt-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:rk.map((E,N)=>{const j=e.points>=E.pointsCost;return l.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.1},children:l.jsx(Ta,{intensity:j?1:.3,children:l.jsx(it,{className:`bg-zinc-900 border-zinc-800 h-full ${!j&&"opacity-60"}`,children:l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("div",{className:`p-3 rounded-full ${j?"bg-[#CBA135]/20":"bg-zinc-800"}`,children:l.jsx(cy,{className:`w-6 h-6 ${j?"text-[#CBA135]":"text-zinc-600"}`})}),!j&&l.jsx(xP,{className:"w-5 h-5 text-zinc-600"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"mb-2",children:E.name}),l.jsx("p",{className:"text-sm text-zinc-400",children:E.description})]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-zinc-800",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(pt,{className:"w-4 h-4 text-[#CBA135] fill-[#CBA135]"}),l.jsx("span",{className:"text-[#CBA135]",children:E.pointsCost})]}),l.jsx(ze,{size:"sm",disabled:!j,onClick:()=>g(E.id),className:j?"bg-[#CBA135] hover:bg-[#B8962F] text-black":"",children:j?"Redeem":"Locked"})]})]})})})},E.id)})}),e.rewards.filter(E=>!E.usedAt).length>0&&l.jsxs("div",{className:"mt-8",children:[l.jsxs("h3",{className:"mb-4 flex items-center gap-2",children:[l.jsx(zr,{className:"w-5 h-5 text-[#CBA135]"}),"Your Active Rewards"]}),l.jsx("div",{className:"space-y-3",children:e.rewards.filter(E=>!E.usedAt).map((E,N)=>l.jsx(K.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:N*.1},children:l.jsx(Om,{intensity:"low",children:l.jsx(it,{className:"bg-zinc-900 border-[#CBA135]/30",children:l.jsxs("div",{className:"p-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 rounded-full bg-[#CBA135]/20",children:l.jsx(cy,{className:"w-5 h-5 text-[#CBA135]"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"mb-1",children:E.name}),l.jsxs("p",{className:"text-sm text-zinc-400",children:["Code: ",E.code]}),E.expiresAt&&l.jsxs("p",{className:"text-xs text-zinc-500 mt-1",children:["Expires: ",new Date(E.expiresAt).toLocaleDateString()]})]})]}),l.jsx(Lm,{className:"w-5 h-5 text-zinc-600"})]})})})},N))})]})]}),l.jsxs(lt,{value:"achievements",className:"space-y-4 mt-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.achievements.map((E,N)=>l.jsx(K.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:N*.05},children:l.jsx(Ta,{children:l.jsx(it,{className:`bg-zinc-900 border-zinc-800 ${UN[E.rarity]}`,children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsx(K.div,{className:"text-4xl",animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},children:E.icon}),l.jsx(It,{className:`${UN[E.rarity]} ${TK[E.rarity]} border-none`,children:E.rarity})]}),l.jsx("h4",{className:"mb-2",children:E.name}),l.jsx("p",{className:"text-sm text-zinc-400 mb-4",children:E.description}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-zinc-800",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(pt,{className:"w-4 h-4 text-[#CBA135] fill-[#CBA135]"}),l.jsxs("span",{className:"text-[#CBA135]",children:["+",E.points]})]}),l.jsx("span",{className:"text-xs text-zinc-500",children:new Date(E.unlockedAt).toLocaleDateString()})]})]})})})},E.id))}),e.achievements.length===0&&l.jsxs(it,{className:"bg-zinc-900 border-zinc-800 p-12 text-center",children:[l.jsx(Zf,{className:"w-16 h-16 text-zinc-700 mx-auto mb-4"}),l.jsx("h3",{className:"mb-2 text-zinc-400",children:"No Achievements Yet"}),l.jsx("p",{className:"text-sm text-zinc-500",children:"Start ordering to unlock achievements and earn points!"})]})]}),l.jsx(lt,{value:"wheel",className:"mt-6",children:l.jsx(it,{className:"bg-zinc-900 border-zinc-800",children:l.jsx("div",{className:"p-8",children:l.jsxs("div",{className:"max-w-md mx-auto text-center space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"mb-2",children:"Daily Spin & Win"}),l.jsx("p",{className:"text-sm text-zinc-400",children:"Spin the wheel once per day for a chance to win rewards!"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(K.div,{className:"w-64 h-64 mx-auto rounded-full bg-gradient-to-br from-[#CBA135]/20 to-purple-500/20 border-4 border-[#CBA135] flex items-center justify-center",animate:{rotate:o?360*5:0},transition:{duration:o?3:0,ease:"easeOut"},children:l.jsx(Om,{intensity:"high",pulse:!0,children:l.jsx("div",{className:"w-48 h-48 rounded-full bg-zinc-900 flex items-center justify-center",children:l.jsx(If,{className:"w-16 h-16 text-[#CBA135]"})})})}),l.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-2",children:l.jsx("div",{className:"w-0 h-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-[#CBA135]"})})]}),l.jsx(ei,{children:u&&l.jsx(K.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"p-4 bg-[#CBA135]/20 border border-[#CBA135]/30 rounded-lg",children:l.jsx(y0,{className:"text-xl",children:u})})}),l.jsx(ze,{size:"lg",onClick:y,disabled:o,className:"bg-[#CBA135] hover:bg-[#B8962F] text-black w-full",children:o?l.jsxs(l.Fragment,{children:[l.jsx(K.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"mr-2",children:l.jsx(zr,{className:"w-5 h-5"})}),"Spinning..."]}):l.jsxs(l.Fragment,{children:[l.jsx(If,{className:"w-5 h-5 mr-2"}),"Spin the Wheel"]})}),l.jsx("p",{className:"text-xs text-zinc-500",children:"Cost: 50 points per spin"})]})})})})]})]})}const HN={pending:0,confirmed:1,preparing:2,cooking:3,ready:4,"out-for-delivery":5,delivered:6,completed:6},rx={pending:{icon:_d,label:"Order Received",color:"text-yellow-500",bgColor:"bg-yellow-500/10",description:"Your order has been received"},confirmed:{icon:ly,label:"Confirmed",color:"text-green-500",bgColor:"bg-green-500/10",description:"Order confirmed and sent to kitchen"},preparing:{icon:ix,label:"Preparing",color:"text-blue-500",bgColor:"bg-blue-500/10",description:"Chef is preparing your ingredients"},cooking:{icon:Bm,label:"Cooking",color:"text-orange-500",bgColor:"bg-orange-500/10",description:"Your food is being cooked"},ready:{icon:$R,label:"Ready",color:"text-[#CBA135]",bgColor:"bg-[#CBA135]/10",description:"Your order is ready"},"out-for-delivery":{icon:Jf,label:"Out for Delivery",color:"text-purple-500",bgColor:"bg-purple-500/10",description:"Driver is on the way"},delivered:{icon:ly,label:"Delivered",color:"text-green-500",bgColor:"bg-green-500/10",description:"Order has been delivered"},completed:{icon:ly,label:"Completed",color:"text-green-500",bgColor:"bg-green-500/10",description:"Order completed"}};function SK({orderId:t,status:e,orderType:n,estimatedTime:r=30,deliveryAddress:s,driverName:o,driverPhone:c,items:u=[]}){const[h,m]=A.useState(0),[g,y]=A.useState(r),[v,_]=A.useState(!0),C=HN[e],E=rx[e],N=E.icon;return A.useEffect(()=>{const j=C/6*100;m(j)},[C]),A.useEffect(()=>{if(e==="delivered"||e==="completed")return;const j=setInterval(()=>{y(O=>Math.max(0,O-1))},6e4);return()=>clearInterval(j)},[e]),A.useEffect(()=>{const j=setInterval(()=>{_(O=>!O)},1e3);return()=>clearInterval(j)},[]),l.jsx(it,{className:"bg-zinc-900 border-zinc-800 p-6",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl mb-1",children:["Order #",t.slice(-6).toUpperCase()]}),l.jsx("p",{className:"text-sm text-zinc-400",children:n==="delivery"?"Delivery":n==="pickup"?"Pickup":"Dine-in"})]}),l.jsx(It,{className:`${E.bgColor} ${E.color} border-none`,children:E.label})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-zinc-400",children:"Progress"}),l.jsxs("span",{className:"text-[#CBA135]",children:[Math.round(h),"%"]})]}),l.jsx(ck,{value:h,className:"h-2"})]}),l.jsx(K.div,{className:`${E.bgColor} rounded-lg p-4 border border-zinc-800`,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx(K.div,{animate:{scale:v?1.1:1},transition:{duration:.5},children:l.jsx("div",{className:`${E.color} p-3 rounded-full bg-black/20`,children:l.jsx(N,{className:"w-6 h-6"})})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:`${E.color} mb-1`,children:E.label}),l.jsx("p",{className:"text-sm text-zinc-400",children:E.description}),e!=="delivered"&&e!=="completed"&&l.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm",children:[l.jsx(_d,{className:"w-4 h-4 text-[#CBA135]"}),l.jsxs("span",{className:"text-zinc-300",children:["Est. ",g," minutes"]})]})]})]})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-sm text-zinc-400",children:"Order Timeline"}),l.jsx("div",{className:"space-y-2",children:Object.entries(rx).map(([j,O],R)=>{const z=O.icon,V=HN[j],q=V<=C,k=V===C;return j==="out-for-delivery"&&n!=="delivery"?null:l.jsxs(K.div,{className:"flex items-center gap-3",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:R*.1},children:[l.jsxs("div",{className:"relative",children:[l.jsx(K.div,{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 ${q?"bg-[#CBA135] border-[#CBA135]":"bg-zinc-800 border-zinc-700"}`,animate:{scale:k?[1,1.1,1]:1},transition:{duration:1,repeat:k?1/0:0},children:l.jsx(z,{className:`w-4 h-4 ${q?"text-black":"text-zinc-500"}`})}),R<Object.keys(rx).length-2&&l.jsx("div",{className:`absolute left-1/2 top-8 w-0.5 h-6 -translate-x-1/2 ${q?"bg-[#CBA135]":"bg-zinc-800"}`})]}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:`text-sm ${q?"text-white":"text-zinc-500"}`,children:O.label})})]},j)})})]}),n==="delivery"&&(e==="out-for-delivery"||e==="delivered")&&l.jsx(ei,{children:l.jsxs(K.div,{className:"bg-zinc-800 rounded-lg p-4 space-y-3",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[l.jsx("h4",{className:"text-sm text-[#CBA135]",children:"Delivery Information"}),s&&l.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[l.jsx(Ed,{className:"w-4 h-4 text-zinc-400 mt-0.5"}),l.jsx("span",{className:"text-zinc-300",children:s})]}),o&&l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Jf,{className:"w-4 h-4 text-zinc-400"}),l.jsxs("span",{className:"text-zinc-300",children:["Driver: ",o]})]}),c&&l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(w0,{className:"w-4 h-4 text-zinc-400"}),l.jsx("span",{className:"text-zinc-300",children:c})]})]})}),u.length>0&&l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-4",children:[l.jsx("h4",{className:"text-sm text-[#CBA135] mb-3",children:"Order Items"}),l.jsxs("div",{className:"space-y-2",children:[u.slice(0,3).map((j,O)=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-zinc-300",children:j.name}),l.jsxs("span",{className:"text-zinc-400",children:["x",j.quantity]})]},O)),u.length>3&&l.jsxs("p",{className:"text-xs text-zinc-500",children:["+",u.length-3," more items"]})]})]}),(e==="preparing"||e==="cooking")&&l.jsx(K.div,{className:"bg-orange-500/10 border border-orange-500/20 rounded-lg p-3",animate:{borderColor:["rgba(249, 115, 22, 0.2)","rgba(249, 115, 22, 0.5)","rgba(249, 115, 22, 0.2)"]},transition:{duration:2,repeat:1/0},children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(K.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:l.jsx(Bm,{className:"w-4 h-4 text-orange-500"})}),l.jsxs("span",{className:"text-sm text-orange-400",children:["Kitchen is busy - ",Math.floor(Math.random()*5)+3," orders in queue"]})]})})]})})}const Bo=[{name:"Smoked Full Chicken",category:"poultry",price:190,tags:["smoked","popular","protein-rich","family-sized"],spiceLevel:"mild",ingredients:["chicken","spices","smoke"],image:"https://images.unsplash.com/photo-1709392975965-00889c6aa545?w=400"},{name:"BBQ Ribs Platter",category:"beef",price:250,tags:["grilled","premium","protein-rich","party-favorite"],spiceLevel:"medium",ingredients:["beef","ribs","bbq-sauce","smoke"],image:"https://images.unsplash.com/photo-1544025162-d76694265947?w=400"},{name:"Margherita Pizza",category:"pizza",price:120,tags:["vegetarian","classic","italian"],spiceLevel:"mild",ingredients:["cheese","tomato","basil","dough"],image:"https://images.unsplash.com/photo-1574071318508-1cdbab80d002?w=400"},{name:"Peri-Peri Chicken Pizza",category:"pizza",price:140,tags:["spicy","popular","chicken"],spiceLevel:"hot",ingredients:["chicken","cheese","peri-peri","dough"],image:"https://images.unsplash.com/photo-1628840042765-356cda07504e?w=400"},{name:"Beef Burger Deluxe",category:"burgers",price:85,tags:["classic","filling","comfort-food"],spiceLevel:"mild",ingredients:["beef","cheese","lettuce","tomato","bun"],image:"https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=400"},{name:"8 Smoked Wings",category:"poultry",price:95,tags:["smoked","popular","shareable","protein-rich"],spiceLevel:"medium",ingredients:["chicken","wings","spices","smoke"],image:"https://images.unsplash.com/photo-1592011432621-f7f576f44484?w=400"},{name:"Mogodu Special",category:"traditional",price:60,tags:["traditional","monday-special","authentic"],spiceLevel:"mild",ingredients:["tripe","spices","vegetables"],image:"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400"},{name:"Mixed Grill Platter",category:"platters",price:350,tags:["premium","variety","family-sized","grilled"],spiceLevel:"medium",ingredients:["chicken","beef","sausage","ribs","smoke"],image:"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=400"},{name:"Veggie Supreme Pizza",category:"pizza",price:130,tags:["vegetarian","healthy","colorful"],spiceLevel:"mild",ingredients:["cheese","peppers","mushrooms","olives","dough"],image:"https://images.unsplash.com/photo-1571997478779-2adcbbe9ab2f?w=400"},{name:"Spicy Beef Pizza",category:"pizza",price:145,tags:["spicy","beef","hearty"],spiceLevel:"hot",ingredients:["beef","cheese","jalapeos","onions","dough"],image:"https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=400"}];async function uk(t){try{const e=cr(vt,"orders"),n=si(e,Ud("userId","==",t),Ja("createdAt","desc"),_S(20));return(await gs(n)).docs.map(s=>s.data())}catch(e){return console.error("Error fetching order history:",e),[]}}async function IK(t){const e=await uk(t),n={},r={};e.forEach(c=>{c.items?.forEach(u=>{u.category&&(n[u.category]=(n[u.category]||0)+1),r[u.name]=(r[u.name]||0)+1})});const s=Object.entries(n).sort((c,u)=>u[1]-c[1]).slice(0,3).map(([c])=>c),o=Object.entries(r).sort((c,u)=>u[1]-c[1]).slice(0,5).map(([c])=>c);return{spiceLevel:"medium",favoriteCategories:s,dietaryRestrictions:[],favoriteItems:o,dislikedIngredients:[]}}function jK(t,e,n){let r=50;e.favoriteCategories.includes(t.category)&&(r+=30);const s=n.filter(m=>m.items?.some(g=>g.name===t.name)).length;s>0?r-=s*10:r+=15,t.tags.includes("popular")&&(r+=10);const o=["mild","medium","hot","extra-hot"],c=o.indexOf(e.spiceLevel),u=o.indexOf(t.spiceLevel),h=Math.abs(c-u);return r-=h*5,e.dietaryRestrictions.forEach(m=>{m==="vegetarian"&&!t.tags.includes("vegetarian")&&(r-=100)}),e.dislikedIngredients.forEach(m=>{t.ingredients.includes(m)&&(r-=50)}),t.tags.includes("premium")&&(r+=5),Math.max(0,r)}function kK(t,e,n){const r=[];return e.favoriteCategories.includes(t.category)&&r.push(`You love ${t.category}`),n.filter(o=>o.items?.some(c=>c.name===t.name)).length===0&&r.push("Try something new"),t.tags.includes("popular")&&r.push("Customer favorite"),t.tags.includes("premium")&&r.push("Premium quality"),t.spiceLevel===e.spiceLevel&&r.push("Perfect spice level"),r.length===0&&r.push("Recommended for you"),r.slice(0,2).join("  ")}async function RK(t,e=6){const n=await IK(t),r=await uk(t);return Bo.map(o=>({name:o.name,category:o.category,price:o.price,image:o.image,tags:o.tags,score:jK(o,n,r),reason:kK(o,n,r)})).sort((o,c)=>c.score-o.score).slice(0,e)}async function $N(t=6){try{const e=cr(vt,"orders"),n=si(e,Ja("createdAt","desc"),_S(50)),s=(await gs(n)).docs.map(u=>u.data()),o={};s.forEach(u=>{u.items?.forEach(h=>{o[h.name]=(o[h.name]||0)+1})});const c=Object.entries(o).sort((u,h)=>h[1]-u[1]).slice(0,t).map(([u,h])=>u);return Bo.filter(u=>c.includes(u.name)).map(u=>({name:u.name,category:u.category,price:u.price,image:u.image,tags:u.tags,score:100,reason:"Trending now"}))}catch(e){return console.error("Error fetching trending items:",e),Bo.filter(n=>n.tags.includes("popular")).slice(0,t).map(n=>({name:n.name,category:n.category,price:n.price,image:n.image,tags:n.tags,score:80,reason:"Popular choice"}))}}function PK(t,e=3){const r={"Smoked Full Chicken":["8 Smoked Wings","Veggie Supreme Pizza"],"BBQ Ribs Platter":["Beef Burger Deluxe","Mixed Grill Platter"],"Margherita Pizza":["Veggie Supreme Pizza","Peri-Peri Chicken Pizza"],"Peri-Peri Chicken Pizza":["8 Smoked Wings","Smoked Full Chicken"]}[t]||[];return Bo.filter(s=>r.includes(s.name)).slice(0,e).map(s=>({name:s.name,category:s.category,price:s.price,image:s.image,tags:s.tags,score:90,reason:"Pairs well together"}))}function MK(t,e=4){const n=Bo.find(r=>r.name===t);return n?Bo.filter(r=>r.name!==t&&(r.category===n.category||r.tags.some(s=>n.tags.includes(s)))).slice(0,e).map(r=>({name:r.name,category:r.category,price:r.price,image:r.image,tags:r.tags,score:85,reason:"Similar to your choice"})):[]}function FK(){const t=new Date,e=t.getDay(),n=t.getHours();if(e===1){const r=Bo.find(s=>s.name==="Mogodu Special");if(r)return[{name:r.name,category:r.category,price:r.price,image:r.image,tags:r.tags,score:100,reason:"It's Mogodu Monday!"}]}return n>=6&&n<10?[]:n>=20?Bo.filter(r=>r.tags.includes("comfort-food")||r.category==="pizza").slice(0,3).map(r=>({name:r.name,category:r.category,price:r.price,image:r.image,tags:r.tags,score:90,reason:"Perfect for late night"})):[]}function DK({mode:t="personalized",itemName:e,limit:n=6,onNavigate:r}){const{currentUser:s}=ii(),{addItem:o}=Ec(),[c,u]=A.useState([]),[h,m]=A.useState(!0),[g,y]=A.useState(null);A.useEffect(()=>{v()},[t,e,s]);const v=async()=>{m(!0);try{let N=[];switch(t){case"personalized":s?N=await RK(s.uid,n):N=await $N(n);break;case"trending":N=await $N(n);break;case"complementary":e&&(N=PK(e,n));break;case"similar":e&&(N=MK(e,n));break;case"time-based":N=FK();break}u(N)}catch(N){console.error("Error loading recommendations:",N)}finally{m(!1)}},_=N=>{o({id:`${N.name}-${Date.now()}`,name:N.name,price:N.price,image:N.image,category:N.category}),Ee.success(`${N.name} added to cart!`,{description:`R${N.price}`,duration:2e3})},C=()=>{switch(t){case"personalized":return s?"Recommended For You":"Popular Choices";case"trending":return"Trending Now";case"complementary":return"Pairs Well With";case"similar":return"Similar Items";case"time-based":return"Special Offers";default:return"Recommendations"}},E=()=>{switch(t){case"personalized":return l.jsx(zr,{className:"w-5 h-5"});case"trending":return l.jsx(HP,{className:"w-5 h-5"});case"complementary":case"similar":return l.jsx(If,{className:"w-5 h-5"});case"time-based":return l.jsx(pt,{className:"w-5 h-5 fill-current"});default:return l.jsx(zr,{className:"w-5 h-5"})}};return h?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(K.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:l.jsx(zr,{className:"w-5 h-5 text-[#CBA135]"})}),l.jsx("h2",{children:C()})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(3)].map((N,j)=>l.jsx(it,{className:"bg-zinc-900 border-zinc-800 h-80 animate-pulse"},j))})]}):c.length===0?null:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(K.div,{className:"flex items-center gap-3",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[l.jsx(Om,{intensity:"low",className:"p-2 rounded-lg",children:l.jsx("div",{className:"text-[#CBA135]",children:E()})}),l.jsxs("div",{children:[l.jsxs("h2",{className:"flex items-center gap-2",children:[C(),t==="personalized"&&s&&l.jsx(It,{className:"bg-[#CBA135]/20 text-[#CBA135] border-[#CBA135]/30",children:"AI Powered"})]}),t==="personalized"&&s&&l.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:"Based on your taste preferences and order history"})]})]}),r&&l.jsxs(ze,{variant:"ghost",size:"sm",onClick:()=>r("menu"),className:"text-[#CBA135] hover:text-[#B8962F]",children:["View All ",l.jsx(Lm,{className:"w-4 h-4 ml-1"})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((N,j)=>l.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.1},onHoverStart:()=>y(j),onHoverEnd:()=>y(null),children:l.jsx(Ta,{intensity:g===j?1.2:.5,children:l.jsxs(it,{className:"bg-zinc-900 border-zinc-800 overflow-hidden h-full group",children:[l.jsxs("div",{className:"relative h-48 overflow-hidden",children:[N.image&&l.jsx(K.div,{className:"w-full h-full",whileHover:{scale:1.1},transition:{duration:.3},children:l.jsx(Dn,{src:N.image,alt:N.name,className:"w-full h-full object-cover"})}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900 via-zinc-900/50 to-transparent"}),N.score>=80&&l.jsx(K.div,{className:"absolute top-3 right-3",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:j*.1+.2,type:"spring"},children:l.jsx(Om,{intensity:"medium",pulse:!0,children:l.jsxs(It,{className:"bg-[#CBA135] text-black border-none",children:[l.jsx(pt,{className:"w-3 h-3 mr-1 fill-current"}),N.score>=90?"Top Pick":"Recommended"]})})}),l.jsx("div",{className:"absolute bottom-3 left-3 flex flex-wrap gap-2",children:N.tags.slice(0,2).map((O,R)=>l.jsx(K.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:j*.1+.3+R*.1},children:l.jsx(It,{className:"bg-black/60 backdrop-blur-sm text-white border-zinc-700 text-xs",children:O})},R))})]}),l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(zr,{className:"w-4 h-4 text-[#CBA135] mt-0.5 flex-shrink-0"}),l.jsx("p",{className:"text-xs text-[#CBA135]",children:N.reason})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"mb-1 line-clamp-1",children:N.name}),l.jsx("p",{className:"text-sm text-zinc-400",children:N.category})]}),l.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-zinc-800",children:[l.jsx("div",{children:l.jsxs(y0,{className:"text-xl",children:["R",N.price]})}),l.jsx(K.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:l.jsxs(ze,{size:"sm",onClick:()=>_(N),className:"bg-[#CBA135] hover:bg-[#B8962F] text-black",children:[l.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Add"]})})]})]}),l.jsx(K.div,{className:"absolute inset-0 pointer-events-none",animate:{opacity:g===j?.1:0},transition:{duration:.3},style:{background:"radial-gradient(circle at center, #CBA135, transparent 70%)"}})]})})},`${N.name}-${j}`))}),t==="personalized"&&s&&c.length>0&&l.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:l.jsx(it,{className:"bg-gradient-to-r from-[#CBA135]/10 to-purple-500/10 border-[#CBA135]/30",children:l.jsxs("div",{className:"p-4 flex items-start gap-3",children:[l.jsx("div",{className:"p-2 rounded-full bg-[#CBA135]/20",children:l.jsx(zr,{className:"w-5 h-5 text-[#CBA135]"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"text-[#CBA135] mb-1",children:"AI Insight"}),l.jsx("p",{className:"text-sm text-zinc-300",children:"These recommendations are personalized based on your order history, preferences, and what other customers with similar tastes enjoy. Try something new or stick with your favorites!"})]})]})})})]})}function OK({onNavigate:t}){const{currentUser:e,userData:n,logout:r}=ii(),[s,o]=A.useState([]),[c,u]=A.useState([]),[h,m]=A.useState([]),[g,y]=A.useState(null),[v,_]=A.useState(!0),[C,E]=A.useState(!1);A.useEffect(()=>{e&&N()},[e]);const N=async()=>{if(e)try{_(!0);const[R,z,V,q]=await Promise.all([eK(e.uid),kq(e.uid),yK(e.uid),C1(e.uid)]);o(R),u(z),m(V),y(q)}catch(R){console.error("Error fetching user data:",R),Ee.error("Failed to load profile data")}finally{_(!1)}},j=async()=>{try{await r(),Ee.success("Logged out successfully"),t("home")}catch{Ee.error("Failed to logout")}};if(!e)return l.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:l.jsxs(it,{className:"bg-[#1a1a1a] border-[#CBA135]/20 text-center p-8",children:[l.jsxs(zs,{children:[l.jsx($n,{className:"text-[#CBA135]",children:"Login Required"}),l.jsx(_r,{className:"text-[#F5F5F5]/60",children:"Please login to view your profile"})]}),l.jsx(nr,{children:l.jsx(ze,{onClick:()=>t("login"),className:"bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212]",children:"Login"})})]})});const O=R=>{switch(R){case"completed":return"bg-green-500/20 text-green-400 border-green-500/30";case"confirmed":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"cancelled":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};return l.jsx("div",{className:"min-h-screen pt-24 pb-16 px-4",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-[#1a1a1a] to-[#2a2a2a] rounded-2xl p-8 mb-8 border border-[#CBA135]/20",children:[l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-[#CBA135] to-[#B36A2E] flex items-center justify-center",children:l.jsx(nd,{className:"w-12 h-12 text-[#121212]"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl text-[#F5F5F5] mb-2",children:n?.displayName||"Guest User"}),l.jsxs("div",{className:"flex flex-col gap-1 text-[#F5F5F5]/60",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qf,{className:"w-4 h-4"}),e.email]}),n?.phoneNumber&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(w0,{className:"w-4 h-4"}),n.phoneNumber]})]})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs(ze,{variant:"outline",onClick:()=>E(!C),className:"border-[#CBA135]/30 text-[#F5F5F5] hover:bg-[#CBA135]/10",children:[l.jsx(SP,{className:"w-4 h-4 mr-2"}),"Edit Profile"]}),l.jsxs(ze,{variant:"outline",onClick:j,className:"border-red-500/30 text-red-400 hover:bg-red-500/10",children:[l.jsx(wP,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-8",children:[l.jsx("div",{className:"bg-[#121212] rounded-xl p-4 border border-[#CBA135]/20",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(_o,{className:"w-8 h-8 text-[#CBA135]"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl text-[#F5F5F5]",children:s.length}),l.jsx("div",{className:"text-sm text-[#F5F5F5]/60",children:"Total Orders"})]})]})}),l.jsx("div",{className:"bg-[#121212] rounded-xl p-4 border border-[#CBA135]/20",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(bo,{className:"w-8 h-8 text-[#CBA135]"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl text-[#F5F5F5]",children:c.length}),l.jsx("div",{className:"text-sm text-[#F5F5F5]/60",children:"Reservations"})]})]})}),l.jsx("div",{className:"bg-[#121212] rounded-xl p-4 border border-[#CBA135]/20",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(pt,{className:"w-8 h-8 text-[#CBA135]"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl text-[#F5F5F5]",children:h.length}),l.jsx("div",{className:"text-sm text-[#F5F5F5]/60",children:"Reviews"})]})]})}),l.jsx("div",{className:"bg-[#121212] rounded-xl p-4 border border-[#CBA135]/20",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Zf,{className:"w-8 h-8 text-[#CBA135]"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl text-[#F5F5F5]",children:g?.points||0}),l.jsx("div",{className:"text-sm text-[#F5F5F5]/60",children:"Loyalty Points"})]})]})})]})]}),l.jsxs(Rc,{defaultValue:"orders",className:"w-full",children:[l.jsxs(Pc,{className:"bg-[#1a1a1a] border border-[#CBA135]/20 mb-6",children:[l.jsxs(An,{value:"orders",className:"data-[state=active]:bg-[#CBA135] data-[state=active]:text-[#121212]",children:[l.jsx(_o,{className:"w-4 h-4 mr-2"}),"Orders"]}),l.jsxs(An,{value:"bookings",className:"data-[state=active]:bg-[#CBA135] data-[state=active]:text-[#121212]",children:[l.jsx(bo,{className:"w-4 h-4 mr-2"}),"Bookings"]}),l.jsxs(An,{value:"loyalty",className:"data-[state=active]:bg-[#CBA135] data-[state=active]:text-[#121212]",children:[l.jsx(Zf,{className:"w-4 h-4 mr-2"}),"Loyalty & Rewards"]}),l.jsxs(An,{value:"reviews",className:"data-[state=active]:bg-[#CBA135] data-[state=active]:text-[#121212]",children:[l.jsx(pt,{className:"w-4 h-4 mr-2"}),"Reviews"]}),l.jsxs(An,{value:"settings",className:"data-[state=active]:bg-[#CBA135] data-[state=active]:text-[#121212]",children:[l.jsx(MP,{className:"w-4 h-4 mr-2"}),"Settings"]})]}),l.jsx(lt,{value:"orders",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx(DK,{mode:"personalized",onNavigate:t,limit:3}),s.filter(R=>R.status!=="completed"&&R.status!=="cancelled").length>0&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"flex items-center gap-2",children:[l.jsx(zr,{className:"w-5 h-5 text-[#CBA135]"}),"Active Orders"]}),s.filter(R=>R.status!=="completed"&&R.status!=="cancelled").map(R=>l.jsx(SK,{orderId:R.id||"",status:R.status,orderType:R.orderType,deliveryAddress:R.deliveryAddress,items:R.items},R.id))]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{children:"Order History"}),v?l.jsx("div",{className:"text-center py-12",children:l.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-[#CBA135] border-t-transparent rounded-full mx-auto"})}):s.length===0?l.jsxs(it,{className:"bg-[#1a1a1a] border-[#CBA135]/20 text-center p-12",children:[l.jsx(_o,{className:"w-16 h-16 text-[#CBA135]/40 mx-auto mb-4"}),l.jsx($n,{className:"text-[#F5F5F5] mb-2",children:"No Orders Yet"}),l.jsx(_r,{className:"text-[#F5F5F5]/60 mb-4",children:"Start your culinary journey with us!"}),l.jsx(ze,{onClick:()=>t("menu"),className:"bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212]",children:"Browse Menu"})]}):s.map(R=>l.jsx(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:l.jsxs(it,{className:"bg-[#1a1a1a] border-[#CBA135]/20",children:[l.jsx(zs,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsxs($n,{className:"text-[#F5F5F5] flex items-center gap-2",children:["Order #",R.id?.substring(0,8),l.jsx(It,{className:O(R.status),children:R.status})]}),l.jsxs(_r,{className:"text-[#F5F5F5]/60",children:[R.createdAt.toLocaleDateString()," at ",R.createdAt.toLocaleTimeString()]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-2xl text-[#CBA135]",children:["R",R.total.toFixed(2)]}),l.jsx(It,{variant:"outline",className:"border-[#CBA135]/30 text-[#F5F5F5]",children:R.orderType})]})]})}),l.jsxs(nr,{children:[l.jsx("div",{className:"space-y-2",children:R.items.map((z,V)=>l.jsxs("div",{className:"flex justify-between text-[#F5F5F5]/80",children:[l.jsxs("span",{children:[z.quantity,"x ",z.name]}),l.jsxs("span",{children:["R",(z.price*z.quantity).toFixed(2)]})]},V))}),R.deliveryAddress&&l.jsxs("div",{className:"mt-4 pt-4 border-t border-[#CBA135]/20 flex items-start gap-2 text-[#F5F5F5]/60",children:[l.jsx(Ed,{className:"w-4 h-4 mt-1"}),l.jsx("span",{children:R.deliveryAddress})]})]})]})},R.id))]})]})}),l.jsx(lt,{value:"bookings",children:l.jsx("div",{className:"space-y-4",children:v?l.jsx("div",{className:"text-center py-12",children:l.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-[#CBA135] border-t-transparent rounded-full mx-auto"})}):c.length===0?l.jsxs(it,{className:"bg-[#1a1a1a] border-[#CBA135]/20 text-center p-12",children:[l.jsx(bo,{className:"w-16 h-16 text-[#CBA135]/40 mx-auto mb-4"}),l.jsx($n,{className:"text-[#F5F5F5] mb-2",children:"No Reservations"}),l.jsx(_r,{className:"text-[#F5F5F5]/60 mb-4",children:"Book a table and experience SMOKEVILLE"}),l.jsx(ze,{onClick:()=>t("bookings"),className:"bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212]",children:"Make a Reservation"})]}):c.map(R=>l.jsx(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:l.jsxs(it,{className:"bg-[#1a1a1a] border-[#CBA135]/20",children:[l.jsx(zs,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsxs($n,{className:"text-[#F5F5F5] flex items-center gap-2",children:["Table for ",R.guests,l.jsx(It,{className:O(R.status),children:R.status})]}),l.jsxs(_r,{className:"text-[#F5F5F5]/60",children:[R.date.toLocaleDateString()," at ",R.time]})]}),l.jsxs(It,{variant:"outline",className:"border-[#CBA135]/30 text-[#CBA135]",children:["Booking #",R.id?.substring(0,8)]})]})}),l.jsxs(nr,{children:[R.occasion&&l.jsxs("div",{className:"mb-2 text-[#F5F5F5]/80",children:[l.jsx("span",{className:"text-[#CBA135]",children:"Occasion:"})," ",R.occasion]}),R.specialRequests&&l.jsxs("div",{className:"text-[#F5F5F5]/60 text-sm",children:[l.jsx("span",{className:"text-[#CBA135]",children:"Special Requests:"})," ",R.specialRequests]})]})]})},R.id))})}),l.jsx(lt,{value:"loyalty",children:l.jsx(CK,{})}),l.jsx(lt,{value:"reviews",children:l.jsx("div",{className:"space-y-4",children:v?l.jsx("div",{className:"text-center py-12",children:l.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-[#CBA135] border-t-transparent rounded-full mx-auto"})}):h.length===0?l.jsxs(it,{className:"bg-[#1a1a1a] border-[#CBA135]/20 text-center p-12",children:[l.jsx(pt,{className:"w-16 h-16 text-[#CBA135]/40 mx-auto mb-4"}),l.jsx($n,{className:"text-[#F5F5F5] mb-2",children:"No Reviews Yet"}),l.jsx(_r,{className:"text-[#F5F5F5]/60",children:"Share your experience with us!"})]}):h.map(R=>l.jsx(K.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:l.jsxs(it,{className:"bg-[#1a1a1a] border-[#CBA135]/20",children:[l.jsx(zs,{children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{children:[l.jsx("div",{className:"flex gap-1 mb-2",children:[...Array(5)].map((z,V)=>l.jsx(pt,{className:`w-5 h-5 ${V<R.overallRating?"fill-[#CBA135] text-[#CBA135]":"text-[#F5F5F5]/20"}`},V))}),l.jsx(_r,{className:"text-[#F5F5F5]/60",children:R.createdAt.toLocaleDateString()})]})})}),l.jsxs(nr,{children:[l.jsx("p",{className:"text-[#F5F5F5]/80",children:R.comment}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4 pt-4 border-t border-[#CBA135]/20",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-[#F5F5F5]/60",children:"Service"}),l.jsxs("div",{className:"text-[#CBA135]",children:[R.ratings.service,"/5"]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-[#F5F5F5]/60",children:"Food"}),l.jsxs("div",{className:"text-[#CBA135]",children:[R.ratings.food,"/5"]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-[#F5F5F5]/60",children:"Ambience"}),l.jsxs("div",{className:"text-[#CBA135]",children:[R.ratings.ambience,"/5"]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-[#F5F5F5]/60",children:"Value"}),l.jsxs("div",{className:"text-[#CBA135]",children:[R.ratings.value,"/5"]})]})]})]})]})},R.id))})}),l.jsx(lt,{value:"settings",children:l.jsxs(it,{className:"bg-[#1a1a1a] border-[#CBA135]/20",children:[l.jsxs(zs,{children:[l.jsx($n,{className:"text-[#F5F5F5]",children:"Account Settings"}),l.jsx(_r,{className:"text-[#F5F5F5]/60",children:"Manage your account information"})]}),l.jsxs(nr,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{className:"text-[#F5F5F5]",children:"Full Name"}),l.jsx(zt,{value:n?.displayName||"",disabled:!C,className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5]"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{className:"text-[#F5F5F5]",children:"Email"}),l.jsx(zt,{value:e.email||"",disabled:!0,className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5]"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(St,{className:"text-[#F5F5F5]",children:"Phone Number"}),l.jsx(zt,{value:n?.phoneNumber||"",disabled:!C,className:"bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5]"})]})]}),C&&l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx(ze,{className:"bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212]",onClick:()=>{Ee.success("Profile updated successfully"),E(!1)},children:"Save Changes"}),l.jsx(ze,{variant:"outline",onClick:()=>E(!1),className:"border-[#CBA135]/30 text-[#F5F5F5]",children:"Cancel"})]})]})]})})]})]})})}async function VK(t,e,n,r,s){try{const o=t.type.startsWith("image/"),c=t.type.startsWith("video/");if(!o&&!c)throw new Error("Invalid file type. Only images and videos are allowed.");const u=c?100*1024*1024:50*1024*1024;if(t.size>u)throw new Error(`File too large. Maximum size is ${c?"100MB":"50MB"}.`);const h=Date.now(),m=t.name.replace(/[^a-zA-Z0-9.]/g,"_"),g=`${h}_${m}`,y=c?"videos":"images",v=yH(EH,`gallery/${y}/${g}`),_=pH(v,t);return new Promise((C,E)=>{_.on("state_changed",N=>{const j=N.bytesTransferred/N.totalBytes*100;s&&s(j)},N=>{console.error("Upload error:",N),E(N)},async()=>{try{const N=await gH(_.snapshot.ref),j=cr(vt,"gallery"),O=await yp(j,{url:N,title:e,category:n,type:c?"video":"image",uploadedAt:rt.now(),uploadedBy:r,storagePath:`gallery/${y}/${g}`});console.log("Gallery item uploaded successfully:",O.id),C(O.id)}catch(N){console.error("Error saving metadata:",N),E(N)}})})}catch(o){throw console.error("Error uploading gallery item:",o),o}}async function LK(){try{const t=cr(vt,"gallery"),e=si(t,Ja("uploadedAt","desc")),n=await gs(e),r=[];return n.forEach(s=>{const o=s.data();r.push({id:s.id,url:o.url,title:o.title,category:o.category,type:o.type,uploadedAt:o.uploadedAt.toDate(),uploadedBy:o.uploadedBy})}),r}catch(t){throw console.error("Error getting gallery items:",t),t}}async function BK(t,e){try{await gp(Tr(vt,"gallery",t)),console.log("Gallery item deleted successfully")}catch(n){throw console.error("Error deleting gallery item:",n),n}}function zK({isOpen:t,onClose:e,onUploadSuccess:n,userId:r}){const[s,o]=A.useState(null),[c,u]=A.useState(null),[h,m]=A.useState(""),[g,y]=A.useState("Event"),[v,_]=A.useState(!1),[C,E]=A.useState(0),N=["Event","Food","Drinks","Interior","Team","Special Occasion","Customer Moments"],j=z=>{const V=z.target.files?.[0];if(!V)return;const q=V.type.startsWith("image/"),k=V.type.startsWith("video/");if(!q&&!k){Ee.error("Invalid file type. Only images and videos are allowed.");return}const S=k?100*1024*1024:50*1024*1024;if(V.size>S){Ee.error(`File too large. Maximum size is ${k?"100MB":"50MB"}.`);return}if(o(V),q){const M=new FileReader;M.onloadend=()=>{u(M.result)},M.readAsDataURL(V)}else u(URL.createObjectURL(V))},O=async()=>{if(!s||!h.trim()){Ee.error("Please select a file and enter a title");return}_(!0),E(0);try{await VK(s,h.trim(),g,r,z=>{E(Math.round(z))}),Ee.success("File uploaded successfully!"),R(),n()}catch(z){console.error("Upload error:",z),Ee.error("Failed to upload file. Please try again.")}finally{_(!1),E(0)}},R=()=>{v||(o(null),u(null),m(""),y("Event"),E(0),e())};return t?l.jsx(ei,{children:l.jsx(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:R,children:l.jsxs(K.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-[#1a1a1a] rounded-2xl max-w-2xl w-full p-6 border border-[#CBA135]/20",onClick:z=>z.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl text-[#F5F5F5]",children:"Upload to Gallery"}),l.jsx("button",{onClick:R,disabled:v,className:"w-10 h-10 rounded-full bg-[#2a2a2a] flex items-center justify-center hover:bg-[#3a3a3a] transition-colors disabled:opacity-50",children:l.jsx(rc,{className:"w-5 h-5 text-[#F5F5F5]"})})]}),s?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"relative rounded-xl overflow-hidden bg-[#0a0a0a] aspect-video",children:[s.type.startsWith("image/")?l.jsx("img",{src:c,alt:"Preview",className:"w-full h-full object-contain"}):l.jsx("video",{src:c,controls:!0,className:"w-full h-full object-contain"}),l.jsxs("div",{className:"absolute top-2 left-2 bg-[#CBA135] text-[#121212] px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[s.type.startsWith("image/")?l.jsx(sx,{className:"w-4 h-4"}):l.jsx(eA,{className:"w-4 h-4"}),s.type.startsWith("image/")?"Image":"Video"]}),!v&&l.jsx("button",{onClick:()=>{o(null),u(null)},className:"absolute top-2 right-2 w-8 h-8 rounded-full bg-red-500 flex items-center justify-center hover:bg-red-600 transition-colors",children:l.jsx(rc,{className:"w-4 h-4 text-white"})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[#F5F5F5] mb-2",children:"Title *"}),l.jsx("input",{type:"text",value:h,onChange:z=>m(z.target.value),placeholder:"Enter a descriptive title...",disabled:v,className:"w-full px-4 py-3 bg-[#0a0a0a] border border-[#CBA135]/20 rounded-lg text-[#F5F5F5] placeholder:text-[#F5F5F5]/40 focus:outline-none focus:border-[#CBA135] transition-colors disabled:opacity-50"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[#F5F5F5] mb-2",children:"Category"}),l.jsx("select",{value:g,onChange:z=>y(z.target.value),disabled:v,className:"w-full px-4 py-3 bg-[#0a0a0a] border border-[#CBA135]/20 rounded-lg text-[#F5F5F5] focus:outline-none focus:border-[#CBA135] transition-colors disabled:opacity-50",children:N.map(z=>l.jsx("option",{value:z,children:z},z))})]}),v&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-[#F5F5F5] text-sm",children:"Uploading..."}),l.jsxs("span",{className:"text-[#CBA135] text-sm",children:[C,"%"]})]}),l.jsx("div",{className:"w-full h-2 bg-[#2a2a2a] rounded-full overflow-hidden",children:l.jsx(K.div,{initial:{width:0},animate:{width:`${C}%`},className:"h-full bg-gradient-to-r from-[#CBA135] to-[#B36A2E]"})})]}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx("button",{onClick:R,disabled:v,className:"flex-1 px-6 py-3 border-2 border-[#CBA135]/30 text-[#F5F5F5] rounded-lg hover:border-[#CBA135] transition-colors disabled:opacity-50",children:"Cancel"}),l.jsx("button",{onClick:O,disabled:v||!h.trim(),className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#CBA135] to-[#B36A2E] text-[#121212] rounded-lg hover:from-[#B36A2E] hover:to-[#CBA135] transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Uploading...":"Upload"})]})]}):l.jsxs("label",{className:"block",children:[l.jsx("input",{type:"file",accept:"image/*,video/*",onChange:j,className:"hidden",disabled:v}),l.jsxs("div",{className:"border-2 border-dashed border-[#CBA135]/30 rounded-xl p-12 text-center cursor-pointer hover:border-[#CBA135]/60 transition-colors",children:[l.jsx(ZN,{className:"w-12 h-12 text-[#CBA135] mx-auto mb-4"}),l.jsx("p",{className:"text-[#F5F5F5] mb-2",children:"Click to upload or drag and drop"}),l.jsx("p",{className:"text-[#F5F5F5]/60 text-sm",children:"Images (max 50MB) or Videos (max 100MB)"})]})]})]})})}):null}function UK(){const[t,e]=A.useState(null),[n,r]=A.useState([]),[s,o]=A.useState(!0),[c,u]=A.useState(!1),[h,m]=A.useState(!1),[g,y]=A.useState(null),{currentUser:v}=ii();A.useEffect(()=>{(async()=>{if(v){const O=await td(v.uid);m(O)}else m(!1)})()},[v]);const _=async()=>{try{o(!0);const j=await LK();r(j)}catch(j){console.error("Error loading gallery:",j),Ee.error("Failed to load gallery")}finally{o(!1)}};A.useEffect(()=>{_()},[]);const C=async(j,O)=>{if(O.stopPropagation(),!!confirm("Are you sure you want to delete this item?"))try{y(j),await BK(j),Ee.success("Item deleted successfully"),await _()}catch(R){console.error("Error deleting item:",R),Ee.error("Failed to delete item")}finally{y(null)}},E=()=>{t!==null&&e((t-1+n.length)%n.length)},N=()=>{t!==null&&e((t+1)%n.length)};return l.jsxs("div",{className:"min-h-screen pt-24 pb-16 relative",children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 mb-12 relative z-10",children:l.jsxs(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[l.jsx("h1",{className:"smokeville-logo text-4xl md:text-6xl mb-4 text-[#CBA135]",children:"SMOKEVILLE"}),l.jsx("p",{className:"text-xl text-[#F5F5F5]/80 mb-2",children:"Gallery"}),l.jsx("p",{className:"text-[#F5F5F5]/60 max-w-2xl mx-auto mb-6",children:"Experience the ambiance, passion, and artistry that goes into every dish at SMOKEVILLE"}),h&&l.jsx("div",{children:l.jsxs(K.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:()=>u(!0),className:"px-6 py-3 bg-gradient-to-r from-[#CBA135] to-[#B36A2E] text-[#121212] rounded-lg hover:from-[#B36A2E] hover:to-[#CBA135] transition-all hover:shadow-[0_0_30px_rgba(203,161,53,0.3)] inline-flex items-center gap-2",children:[l.jsx(ZN,{className:"w-5 h-5"}),"Upload to Gallery"]})})]})}),s?l.jsx("div",{className:"max-w-7xl mx-auto px-4",children:l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[...Array(8)].map((j,O)=>l.jsx("div",{className:"aspect-square rounded-xl bg-[#1a1a1a] animate-pulse"},O))})}):l.jsx("div",{className:"max-w-7xl mx-auto px-4",children:n.length===0?l.jsxs("div",{className:"text-center py-20",children:[l.jsx(sx,{className:"w-16 h-16 text-[#CBA135]/30 mx-auto mb-4"}),l.jsxs("p",{className:"text-[#F5F5F5]/60 text-lg",children:["No gallery items yet.",h&&' Click "Upload to Gallery" to add your first item!']})]}):l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:n.map((j,O)=>l.jsxs(K.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:O*.05},whileHover:{scale:1.05},className:"relative group cursor-pointer rounded-xl overflow-hidden aspect-square",onClick:()=>e(O),children:[j.type==="video"?l.jsx("video",{src:j.url,className:"w-full h-full object-cover",muted:!0,loop:!0,playsInline:!0}):l.jsx(Dn,{src:j.url,alt:j.title,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#121212] via-[#121212]/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:l.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[l.jsx("div",{className:"text-[#CBA135] text-sm mb-1",children:j.category}),l.jsx("div",{className:"text-[#F5F5F5]",children:j.title})]})}),l.jsx("div",{className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-[#CBA135]/20 backdrop-blur-sm flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:j.type==="video"?l.jsx(eA,{className:"w-5 h-5 text-[#CBA135]"}):l.jsx(sx,{className:"w-5 h-5 text-[#CBA135]"})}),h&&l.jsx("button",{onClick:R=>C(j.id,R),disabled:g===j.id,className:"absolute top-4 left-4 w-10 h-10 rounded-full bg-red-500/80 backdrop-blur-sm flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 disabled:opacity-50",children:l.jsx(zu,{className:"w-5 h-5 text-white"})})]},j.id))})}),l.jsx(ei,{children:t!==null&&n.length>0&&l.jsxs(K.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/95 z-50 flex items-center justify-center p-4",onClick:()=>e(null),children:[l.jsx("button",{onClick:()=>e(null),className:"absolute top-4 right-4 w-12 h-12 rounded-full bg-[#CBA135] flex items-center justify-center hover:bg-[#B36A2E] transition-colors z-10",children:l.jsx(rc,{className:"w-6 h-6 text-[#121212]"})}),l.jsx("button",{onClick:j=>{j.stopPropagation(),E()},className:"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-[#CBA135] flex items-center justify-center hover:bg-[#B36A2E] transition-colors z-10",children:l.jsx(YN,{className:"w-6 h-6 text-[#121212]"})}),l.jsx("button",{onClick:j=>{j.stopPropagation(),N()},className:"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-[#CBA135] flex items-center justify-center hover:bg-[#B36A2E] transition-colors z-10",children:l.jsx(Lm,{className:"w-6 h-6 text-[#121212]"})}),l.jsxs(K.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",damping:25},className:"relative max-w-5xl w-full",onClick:j=>j.stopPropagation(),children:[n[t].type==="video"?l.jsx("video",{src:n[t].url,controls:!0,autoPlay:!0,loop:!0,className:"w-full h-auto rounded-lg"}):l.jsx(Dn,{src:n[t].url,alt:n[t].title,className:"w-full h-auto rounded-lg"}),l.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-[#121212] to-transparent p-6 rounded-b-lg",children:[l.jsx("div",{className:"text-[#CBA135] text-sm mb-1",children:n[t].category}),l.jsx("div",{className:"text-[#F5F5F5] text-xl",children:n[t].title}),l.jsxs("div",{className:"text-[#F5F5F5]/60 text-sm mt-2",children:[t+1," / ",n.length]})]})]},t)]})}),h&&v&&l.jsx(zK,{isOpen:c,onClose:()=>u(!1),onUploadSuccess:()=>{_(),u(!1)},userId:v.uid}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 mt-16 relative z-10",children:l.jsxs(K.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"bg-gradient-to-r from-[#1a1a1a] to-[#2a2a2a] rounded-2xl p-12 text-center border border-[#CBA135]/20",children:[l.jsx("h2",{className:"text-3xl text-[#F5F5F5] mb-4",children:"Experience SMOKEVILLE"}),l.jsx("p",{className:"text-[#F5F5F5]/60 mb-6 max-w-2xl mx-auto",children:"Come visit us and create your own unforgettable moments at SMOKEVILLE. From perfectly grilled meats to artisan pizzas and craft cocktails."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx("button",{onClick:()=>window.location.href="#bookings",className:"px-8 py-3 bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212] rounded-lg transition-all hover:shadow-[0_0_30px_rgba(203,161,53,0.3)]",children:"Book a Table"}),l.jsx("button",{onClick:()=>window.location.href="#menu",className:"px-8 py-3 border-2 border-[#CBA135] text-[#CBA135] rounded-lg hover:bg-[#CBA135] hover:text-[#121212] transition-all",children:"View Menu"})]})]})})]})}function HK({onNavigate:t}){const{currentUser:e}=ii(),[n,r]=A.useState(!0),[s,o]=A.useState(null),[c,u]=A.useState([]),[h,m]=A.useState([]),[g,y]=A.useState([]),[v,_]=A.useState([]);A.useEffect(()=>{e&&C()},[e]);const C=async()=>{try{r(!0);const[V,q,k,S,M]=await Promise.all([jH(),qS(),KS(),YS(),XS()]);o(V),u(q),m(k),y(S),_(M)}catch(V){console.error("Error loading admin data:",V),Ee.error("Failed to load data")}finally{r(!1)}},E=async(V,q)=>{try{await AH(V,q),Ee.success("Order status updated"),C()}catch{Ee.error("Failed to update order status")}},N=async(V,q)=>{try{await CH(V,q),Ee.success("Booking status updated"),C()}catch{Ee.error("Failed to update booking status")}},j=async V=>{if(confirm("Are you sure you want to delete this order?"))try{await TH(V),Ee.success("Order deleted"),C()}catch{Ee.error("Failed to delete order")}},O=async V=>{if(confirm("Are you sure you want to delete this booking?"))try{await SH(V),Ee.success("Booking deleted"),C()}catch{Ee.error("Failed to delete booking")}},R=async V=>{if(confirm("Are you sure you want to delete this review?"))try{await IH(V),Ee.success("Review deleted"),C()}catch{Ee.error("Failed to delete review")}};if(!e||!td(e.uid))return l.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:l.jsxs(it,{className:"bg-[#1a1a1a] border-[#CBA135]/20 text-center p-8",children:[l.jsxs(zs,{children:[l.jsx($n,{className:"text-[#CBA135]",children:"Access Denied"}),l.jsx(_r,{className:"text-[#F5F5F5]/60",children:"You do not have permission to access the admin dashboard"})]}),l.jsx(nr,{children:l.jsx(ze,{onClick:()=>t("home"),className:"bg-gradient-to-r from-[#CBA135] to-[#B36A2E] hover:from-[#B36A2E] hover:to-[#CBA135] text-[#121212]",children:"Go to Home"})})]})});const z=V=>{switch(V){case"completed":case"confirmed":return"bg-green-500/20 text-green-400 border-green-500/30";case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"cancelled":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin w-16 h-16 border-4 border-[#CBA135] border-t-transparent rounded-full mx-auto mb-4"}),l.jsx("p",{className:"text-[#F5F5F5]/60",children:"Loading admin dashboard..."})]})}):l.jsx("div",{className:"min-h-screen pt-24 pb-16 px-4",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h1",{className:"smokeville-logo text-4xl md:text-5xl text-[#CBA135]",children:"ADMIN DASHBOARD"}),l.jsxs(ze,{onClick:C,variant:"outline",className:"border-[#CBA135]/30 text-[#F5F5F5]",children:[l.jsx(RP,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),l.jsx("p",{className:"text-[#F5F5F5]/60",children:"Manage your restaurant operations"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0},children:l.jsx(it,{className:"bg-gradient-to-br from-[#1a1a1a] to-[#2a2a2a] border-[#CBA135]/20",children:l.jsx(nr,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[#F5F5F5]/60 text-sm",children:"Total Orders"}),l.jsx("p",{className:"text-3xl text-[#F5F5F5] mt-2",children:s?.totalOrders||0}),l.jsxs("p",{className:"text-[#CBA135] text-sm mt-1",children:[s?.pendingOrders||0," pending"]})]}),l.jsx(_o,{className:"w-12 h-12 text-[#CBA135]/40"})]})})})}),l.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:l.jsx(it,{className:"bg-gradient-to-br from-[#1a1a1a] to-[#2a2a2a] border-[#CBA135]/20",children:l.jsx(nr,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[#F5F5F5]/60 text-sm",children:"Total Revenue"}),l.jsxs("p",{className:"text-3xl text-[#F5F5F5] mt-2",children:["R",s?.totalRevenue?.toFixed(2)||"0.00"]}),l.jsxs("p",{className:"text-[#CBA135] text-sm mt-1",children:["R",s?.todayRevenue?.toFixed(2)||"0.00"," today"]})]}),l.jsx(oP,{className:"w-12 h-12 text-[#CBA135]/40"})]})})})}),l.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:l.jsx(it,{className:"bg-gradient-to-br from-[#1a1a1a] to-[#2a2a2a] border-[#CBA135]/20",children:l.jsx(nr,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[#F5F5F5]/60 text-sm",children:"Bookings"}),l.jsx("p",{className:"text-3xl text-[#F5F5F5] mt-2",children:s?.totalBookings||0}),l.jsxs("p",{className:"text-[#CBA135] text-sm mt-1",children:[s?.pendingBookings||0," pending"]})]}),l.jsx(bo,{className:"w-12 h-12 text-[#CBA135]/40"})]})})})}),l.jsx(K.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:l.jsx(it,{className:"bg-gradient-to-br from-[#1a1a1a] to-[#2a2a2a] border-[#CBA135]/20",children:l.jsx(nr,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[#F5F5F5]/60 text-sm",children:"Avg Rating"}),l.jsx("p",{className:"text-3xl text-[#F5F5F5] mt-2",children:s?.averageRating||0}),l.jsxs("p",{className:"text-[#CBA135] text-sm mt-1",children:[s?.totalReviews||0," reviews"]})]}),l.jsx(pt,{className:"w-12 h-12 text-[#CBA135]/40"})]})})})})]}),l.jsxs(Rc,{defaultValue:"orders",className:"w-full",children:[l.jsxs(Pc,{className:"bg-[#1a1a1a] border border-[#CBA135]/20 mb-6",children:[l.jsxs(An,{value:"orders",className:"data-[state=active]:bg-[#CBA135] data-[state=active]:text-[#121212]",children:[l.jsx(_o,{className:"w-4 h-4 mr-2"}),"Orders (",c.length,")"]}),l.jsxs(An,{value:"bookings",className:"data-[state=active]:bg-[#CBA135] data-[state=active]:text-[#121212]",children:[l.jsx(bo,{className:"w-4 h-4 mr-2"}),"Bookings (",h.length,")"]}),l.jsxs(An,{value:"reviews",className:"data-[state=active]:bg-[#CBA135] data-[state=active]:text-[#121212]",children:[l.jsx(pt,{className:"w-4 h-4 mr-2"}),"Reviews (",g.length,")"]}),l.jsxs(An,{value:"subscribers",className:"data-[state=active]:bg-[#CBA135] data-[state=active]:text-[#121212]",children:[l.jsx(Qf,{className:"w-4 h-4 mr-2"}),"Subscribers (",v.length,")"]})]}),l.jsx(lt,{value:"orders",children:l.jsx("div",{className:"space-y-4",children:c.length===0?l.jsxs(it,{className:"bg-[#1a1a1a] border-[#CBA135]/20 text-center p-12",children:[l.jsx(_o,{className:"w-16 h-16 text-[#CBA135]/40 mx-auto mb-4"}),l.jsx($n,{className:"text-[#F5F5F5]",children:"No Orders"})]}):c.map(V=>l.jsxs(it,{className:"bg-[#1a1a1a] border-[#CBA135]/20",children:[l.jsx(zs,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsxs($n,{className:"text-[#F5F5F5] flex items-center gap-2",children:["#",V.id?.substring(0,8),l.jsx(It,{className:z(V.status),children:V.status})]}),l.jsxs(_r,{className:"text-[#F5F5F5]/60",children:[V.createdAt.toLocaleString(),"  ",V.userName]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-2xl text-[#CBA135]",children:["R",V.total.toFixed(2)]}),l.jsx(It,{variant:"outline",className:"border-[#CBA135]/30 text-[#F5F5F5] mt-1",children:V.orderType})]})]})}),l.jsx(nr,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-[#F5F5F5]/60 mb-2",children:"Items:"}),l.jsx("div",{className:"space-y-1",children:V.items.map((q,k)=>l.jsxs("div",{className:"flex justify-between text-[#F5F5F5]/80 text-sm",children:[l.jsxs("span",{children:[q.quantity,"x ",q.name]}),l.jsxs("span",{children:["R",(q.price*q.quantity).toFixed(2)]})]},k))})]}),V.deliveryAddress&&l.jsxs("div",{className:"text-sm text-[#F5F5F5]/60",children:[l.jsx("strong",{children:"Delivery:"})," ",V.deliveryAddress]}),l.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t border-[#CBA135]/20",children:[l.jsxs(Rm,{value:V.status,onValueChange:q=>E(V.id,q),children:[l.jsx(Mm,{className:"w-40 bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5]",children:l.jsx(Pm,{})}),l.jsxs(Fm,{className:"bg-[#1a1a1a] border-[#CBA135]/30",children:[l.jsx(Ct,{value:"pending",children:"Pending"}),l.jsx(Ct,{value:"confirmed",children:"Confirmed"}),l.jsx(Ct,{value:"preparing",children:"Preparing"}),l.jsx(Ct,{value:"ready",children:"Ready"}),l.jsx(Ct,{value:"completed",children:"Completed"}),l.jsx(Ct,{value:"cancelled",children:"Cancelled"})]})]}),l.jsx(ze,{variant:"outline",size:"sm",onClick:()=>j(V.id),className:"border-red-500/30 text-red-400 hover:bg-red-500/10",children:l.jsx(zu,{className:"w-4 h-4"})})]})]})})]},V.id))})}),l.jsx(lt,{value:"bookings",children:l.jsx("div",{className:"space-y-4",children:h.length===0?l.jsxs(it,{className:"bg-[#1a1a1a] border-[#CBA135]/20 text-center p-12",children:[l.jsx(bo,{className:"w-16 h-16 text-[#CBA135]/40 mx-auto mb-4"}),l.jsx($n,{className:"text-[#F5F5F5]",children:"No Bookings"})]}):h.map(V=>l.jsxs(it,{className:"bg-[#1a1a1a] border-[#CBA135]/20",children:[l.jsx(zs,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsxs($n,{className:"text-[#F5F5F5] flex items-center gap-2",children:[V.userName,l.jsx(It,{className:z(V.status),children:V.status})]}),l.jsxs(_r,{className:"text-[#F5F5F5]/60",children:[V.date.toLocaleDateString()," at ",V.time]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-xl text-[#CBA135]",children:[V.guests," Guests"]}),l.jsx("div",{className:"text-sm text-[#F5F5F5]/60 mt-1",children:V.phoneNumber})]})]})}),l.jsx(nr,{children:l.jsxs("div",{className:"space-y-3",children:[V.occasion&&l.jsxs("div",{className:"text-sm text-[#F5F5F5]/80",children:[l.jsx("strong",{className:"text-[#CBA135]",children:"Occasion:"})," ",V.occasion]}),V.specialRequests&&l.jsxs("div",{className:"text-sm text-[#F5F5F5]/60",children:[l.jsx("strong",{children:"Special Requests:"})," ",V.specialRequests]}),l.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t border-[#CBA135]/20",children:[l.jsxs(Rm,{value:V.status,onValueChange:q=>N(V.id,q),children:[l.jsx(Mm,{className:"w-40 bg-[#121212] border-[#CBA135]/30 text-[#F5F5F5]",children:l.jsx(Pm,{})}),l.jsxs(Fm,{className:"bg-[#1a1a1a] border-[#CBA135]/30",children:[l.jsx(Ct,{value:"pending",children:"Pending"}),l.jsx(Ct,{value:"confirmed",children:"Confirmed"}),l.jsx(Ct,{value:"completed",children:"Completed"}),l.jsx(Ct,{value:"cancelled",children:"Cancelled"})]})]}),l.jsx(ze,{variant:"outline",size:"sm",onClick:()=>O(V.id),className:"border-red-500/30 text-red-400 hover:bg-red-500/10",children:l.jsx(zu,{className:"w-4 h-4"})})]})]})})]},V.id))})}),l.jsx(lt,{value:"reviews",children:l.jsx("div",{className:"space-y-4",children:g.length===0?l.jsxs(it,{className:"bg-[#1a1a1a] border-[#CBA135]/20 text-center p-12",children:[l.jsx(pt,{className:"w-16 h-16 text-[#CBA135]/40 mx-auto mb-4"}),l.jsx($n,{className:"text-[#F5F5F5]",children:"No Reviews"})]}):g.map(V=>l.jsxs(it,{className:"bg-[#1a1a1a] border-[#CBA135]/20",children:[l.jsx(zs,{children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx($n,{className:"text-[#F5F5F5]",children:V.userName}),l.jsx(_r,{className:"text-[#F5F5F5]/60",children:V.createdAt.toLocaleDateString()})]}),l.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((q,k)=>l.jsx(pt,{className:`w-5 h-5 ${k<V.overallRating?"fill-[#CBA135] text-[#CBA135]":"text-[#F5F5F5]/20"}`},k))})]})}),l.jsxs(nr,{children:[l.jsx("p",{className:"text-[#F5F5F5]/80 mb-4",children:V.comment}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4 pb-4 border-b border-[#CBA135]/20",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-[#F5F5F5]/60",children:"Service"}),l.jsxs("div",{className:"text-[#CBA135]",children:[V.ratings.service,"/5"]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-[#F5F5F5]/60",children:"Food"}),l.jsxs("div",{className:"text-[#CBA135]",children:[V.ratings.food,"/5"]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-[#F5F5F5]/60",children:"Ambience"}),l.jsxs("div",{className:"text-[#CBA135]",children:[V.ratings.ambience,"/5"]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-[#F5F5F5]/60",children:"Value"}),l.jsxs("div",{className:"text-[#CBA135]",children:[V.ratings.value,"/5"]})]})]}),l.jsxs(ze,{variant:"outline",size:"sm",onClick:()=>R(V.id),className:"border-red-500/30 text-red-400 hover:bg-red-500/10",children:[l.jsx(zu,{className:"w-4 h-4 mr-2"}),"Delete Review"]})]})]},V.id))})}),l.jsx(lt,{value:"subscribers",children:l.jsxs(it,{className:"bg-[#1a1a1a] border-[#CBA135]/20",children:[l.jsxs(zs,{children:[l.jsx($n,{className:"text-[#F5F5F5]",children:"Newsletter Subscribers"}),l.jsxs(_r,{className:"text-[#F5F5F5]/60",children:["Total: ",v.length," subscribers"]})]}),l.jsx(nr,{children:l.jsx("div",{className:"space-y-2",children:v.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Qf,{className:"w-12 h-12 text-[#CBA135]/40 mx-auto mb-2"}),l.jsx("p",{className:"text-[#F5F5F5]/60",children:"No subscribers yet"})]}):v.map(V=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-[#121212] rounded-lg border border-[#CBA135]/10",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-[#F5F5F5]",children:V.email}),V.name&&l.jsx("div",{className:"text-sm text-[#F5F5F5]/60",children:V.name})]}),l.jsx("div",{className:"text-sm text-[#F5F5F5]/40",children:V.subscribedAt.toLocaleDateString()})]},V.id))})})]})})]})]})})}var $K=(t,e,n,r,s,o,c,u)=>{let h=document.documentElement,m=["light","dark"];function g(_){(Array.isArray(t)?t:[t]).forEach(C=>{let E=C==="class",N=E&&o?s.map(j=>o[j]||j):s;E?(h.classList.remove(...N),h.classList.add(o&&o[_]?o[_]:_)):h.setAttribute(C,_)}),y(_)}function y(_){u&&m.includes(_)&&(h.style.colorScheme=_)}function v(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)g(r);else try{let _=localStorage.getItem(e)||n,C=c&&_==="system"?v():_;g(C)}catch{}},WK=A.createContext(void 0),GK={setTheme:t=>{},themes:[]},qK=()=>{var t;return(t=A.useContext(WK))!=null?t:GK};A.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:c,themes:u,nonce:h,scriptProps:m})=>{let g=JSON.stringify([n,e,o,t,u,c,r,s]).slice(1,-1);return A.createElement("script",{...m,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${$K.toString()})(${g})`}})});const KK=({...t})=>{const{theme:e="system"}=qK();return l.jsx(s7,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};function YK(){const[t,e]=A.useState("home"),n=o=>{e(o),window.scrollTo({top:0,behavior:"smooth"})},r=()=>{switch(t){case"home":return l.jsx(dN,{onNavigate:n});case"menu":return l.jsx(uW,{onNavigate:n});case"drinks":return l.jsx(fW,{});case"mogodu":return l.jsx(yW,{});case"about":return l.jsx(vW,{});case"events":return l.jsx(wW,{onNavigate:n});case"bookings":return l.jsx(Dq,{});case"order":return l.jsx(hK,{onNavigate:n});case"contact":return l.jsx(fK,{});case"careers":return l.jsx(mK,{});case"login":return l.jsx(pK,{onNavigate:n});case"signup":return l.jsx(gK,{onNavigate:n});case"profile":return l.jsx(OK,{onNavigate:n});case"gallery":return l.jsx(UK,{});case"admin":return l.jsx(HK,{onNavigate:n});default:return l.jsx(dN,{onNavigate:n})}},s=t!=="login"&&t!=="signup";return l.jsx(NH,{children:l.jsx(KO,{children:l.jsxs("div",{className:"min-h-screen bg-[#121212] text-[#F5F5F5]",children:[s&&l.jsx(kH,{currentPage:t,onNavigate:n}),l.jsx("main",{children:r()}),s&&l.jsxs(l.Fragment,{children:[l.jsx(a7,{onNavigate:n}),l.jsx(l7,{})]}),l.jsx(KK,{}),l.jsx(c7,{})]})})})}AR.createRoot(document.getElementById("root")).render(l.jsx(YK,{}));
